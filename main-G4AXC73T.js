var OI=Object.create;var sl=Object.defineProperty,LI=Object.defineProperties,FI=Object.getOwnPropertyDescriptor,$I=Object.getOwnPropertyDescriptors,HI=Object.getOwnPropertyNames,Zd=Object.getOwnPropertySymbols,VI=Object.getPrototypeOf,Qd=Object.prototype.hasOwnProperty,jI=Object.prototype.propertyIsEnumerable;var Yd=(t,e,n)=>e in t?sl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ke=(t,e)=>{for(var n in e||={})Qd.call(e,n)&&Yd(t,n,e[n]);if(Zd)for(var n of Zd(e))jI.call(e,n)&&Yd(t,n,e[n]);return t},ft=(t,e)=>LI(t,$I(e));var Ni=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var BI=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of HI(e))!Qd.call(t,i)&&i!==n&&sl(t,i,{get:()=>e[i],enumerable:!(r=FI(e,i))||r.enumerable});return t};var UI=(t,e,n)=>(n=t!=null?OI(VI(t)):{},BI(e||!t||!t.__esModule?sl(n,"default",{value:t,enumerable:!0}):n,t));var Y=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Hg=F((di,fi)=>{"use strict";(function(t){var e=typeof di=="object"&&di&&!di.nodeType&&di,n=typeof fi=="object"&&fi&&!fi.nodeType&&fi,r=typeof global=="object"&&global;(r.global===r||r.window===r||r.self===r)&&(t=r);var i,o=2147483647,s=36,a=1,c=26,l=38,u=700,f=72,d=128,p="-",h=/^xn--/,C=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=s-a,m=Math.floor,v=String.fromCharCode,M;function _(A){throw new RangeError(b[A])}function w(A,P){for(var O=A.length,D=[];O--;)D[O]=P(A[O]);return D}function S(A,P){var O=A.split("@"),D="";O.length>1&&(D=O[0]+"@",A=O[1]),A=A.replace(I,".");var j=A.split("."),G=w(j,P).join(".");return D+G}function E(A){for(var P=[],O=0,D=A.length,j,G;O<D;)j=A.charCodeAt(O++),j>=55296&&j<=56319&&O<D?(G=A.charCodeAt(O++),(G&64512)==56320?P.push(((j&1023)<<10)+(G&1023)+65536):(P.push(j),O--)):P.push(j);return P}function x(A){return w(A,function(P){var O="";return P>65535&&(P-=65536,O+=v(P>>>10&1023|55296),P=56320|P&1023),O+=v(P),O}).join("")}function N(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:s}function $(A,P){return A+22+75*(A<26)-((P!=0)<<5)}function H(A,P,O){var D=0;for(A=O?m(A/u):A>>1,A+=m(A/P);A>g*c>>1;D+=s)A=m(A/g);return m(D+(g+1)*A/(A+l))}function Z(A){var P=[],O=A.length,D,j=0,G=d,U=f,me,oe,we,De,ge,Me,Xe,je,_t;for(me=A.lastIndexOf(p),me<0&&(me=0),oe=0;oe<me;++oe)A.charCodeAt(oe)>=128&&_("not-basic"),P.push(A.charCodeAt(oe));for(we=me>0?me+1:0;we<O;){for(De=j,ge=1,Me=s;we>=O&&_("invalid-input"),Xe=N(A.charCodeAt(we++)),(Xe>=s||Xe>m((o-j)/ge))&&_("overflow"),j+=Xe*ge,je=Me<=U?a:Me>=U+c?c:Me-U,!(Xe<je);Me+=s)_t=s-je,ge>m(o/_t)&&_("overflow"),ge*=_t;D=P.length+1,U=H(j-De,D,De==0),m(j/D)>o-G&&_("overflow"),G+=m(j/D),j%=D,P.splice(j++,0,G)}return x(P)}function de(A){var P,O,D,j,G,U,me,oe,we,De,ge,Me=[],Xe,je,_t,ss;for(A=E(A),Xe=A.length,P=d,O=0,G=f,U=0;U<Xe;++U)ge=A[U],ge<128&&Me.push(v(ge));for(D=j=Me.length,j&&Me.push(p);D<Xe;){for(me=o,U=0;U<Xe;++U)ge=A[U],ge>=P&&ge<me&&(me=ge);for(je=D+1,me-P>m((o-O)/je)&&_("overflow"),O+=(me-P)*je,P=me,U=0;U<Xe;++U)if(ge=A[U],ge<P&&++O>o&&_("overflow"),ge==P){for(oe=O,we=s;De=we<=G?a:we>=G+c?c:we-G,!(oe<De);we+=s)ss=oe-De,_t=s-De,Me.push(v($(De+ss%_t,0))),oe=m(ss/_t);Me.push(v($(oe,0))),G=H(O,je,D==j),O=0,++D}++O,++P}return Me.join("")}function R(A){return S(A,function(P){return h.test(P)?Z(P.slice(4).toLowerCase()):P})}function L(A){return S(A,function(P){return C.test(P)?"xn--"+de(P):P})}if(i={version:"1.4.1",ucs2:{decode:E,encode:x},decode:Z,encode:de,toASCII:L,toUnicode:R},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&n)if(fi.exports==e)n.exports=i;else for(M in i)i.hasOwnProperty(M)&&(e[M]=i[M]);else t.punycode=i})(di)});var vr=F((P8,Vg)=>{"use strict";Vg.exports=TypeError});var jg=F(()=>{"use strict"});var Wo=F((L8,ay)=>{"use strict";var hd=typeof Map=="function"&&Map.prototype,od=Object.getOwnPropertyDescriptor&&hd?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ka=hd&&od&&typeof od.get=="function"?od.get:null,Bg=hd&&Map.prototype.forEach,md=typeof Set=="function"&&Set.prototype,sd=Object.getOwnPropertyDescriptor&&md?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Pa=md&&sd&&typeof sd.get=="function"?sd.get:null,Ug=md&&Set.prototype.forEach,eS=typeof WeakMap=="function"&&WeakMap.prototype,Bo=eS?WeakMap.prototype.has:null,tS=typeof WeakSet=="function"&&WeakSet.prototype,Uo=tS?WeakSet.prototype.has:null,nS=typeof WeakRef=="function"&&WeakRef.prototype,Wg=nS?WeakRef.prototype.deref:null,rS=Boolean.prototype.valueOf,iS=Object.prototype.toString,oS=Function.prototype.toString,sS=String.prototype.match,gd=String.prototype.slice,Cn=String.prototype.replace,aS=String.prototype.toUpperCase,zg=String.prototype.toLowerCase,ey=RegExp.prototype.test,Gg=Array.prototype.concat,Ht=Array.prototype.join,lS=Array.prototype.slice,qg=Math.floor,cd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ad=Object.getOwnPropertySymbols,ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,pi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Le=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===pi||!0)?Symbol.toStringTag:null,ty=Object.prototype.propertyIsEnumerable,Zg=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Yg(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ey.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-qg(-t):qg(t);if(r!==t){var i=String(r),o=gd.call(e,i.length+1);return Cn.call(i,n,"$&_")+"."+Cn.call(Cn.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Cn.call(e,n,"$&_")}var dd=jg(),Qg=dd.custom,Kg=iy(Qg)?Qg:null,ny={__proto__:null,double:'"',single:"'"},cS={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};ay.exports=function t(e,n,r,i){var o=n||{};if(Jt(o,"quoteStyle")&&!Jt(ny,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Jt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return sy(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Yg(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?Yg(e,l):l}var u=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof e=="object")return fd(e)?"[Array]":"[Object]";var f=SS(o,r);if(typeof i>"u")i=[];else if(oy(i,e)>=0)return"[Circular]";function d(H,Z,de){if(Z&&(i=lS.call(i),i.push(Z)),de){var R={depth:o.depth};return Jt(o,"quoteStyle")&&(R.quoteStyle=o.quoteStyle),t(H,R,r+1,i)}return t(H,o,r+1,i)}if(typeof e=="function"&&!Xg(e)){var p=vS(e),h=Aa(e,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+Ht.call(h,", ")+" }":"")}if(iy(e)){var C=pi?Cn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ud.call(e);return typeof e=="object"&&!pi?jo(C):C}if(TS(e)){for(var I="<"+zg.call(String(e.nodeName)),b=e.attributes||[],g=0;g<b.length;g++)I+=" "+b[g].name+"="+ry(uS(b[g].value),"double",o);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+zg.call(String(e.nodeName))+">",I}if(fd(e)){if(e.length===0)return"[]";var m=Aa(e,d);return f&&!_S(m)?"["+pd(m,f)+"]":"[ "+Ht.call(m,", ")+" ]"}if(fS(e)){var v=Aa(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!ty.call(e,"cause")?"{ ["+String(e)+"] "+Ht.call(Gg.call("[cause]: "+d(e.cause),v),", ")+" }":v.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ht.call(v,", ")+" }"}if(typeof e=="object"&&s){if(Kg&&typeof e[Kg]=="function"&&dd)return dd(e,{depth:u-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(IS(e)){var M=[];return Bg&&Bg.call(e,function(H,Z){M.push(d(Z,e,!0)+" => "+d(H,e))}),Jg("Map",ka.call(e),M,f)}if(ES(e)){var _=[];return Ug&&Ug.call(e,function(H){_.push(d(H,e))}),Jg("Set",Pa.call(e),_,f)}if(wS(e))return ld("WeakMap");if(CS(e))return ld("WeakSet");if(bS(e))return ld("WeakRef");if(hS(e))return jo(d(Number(e)));if(gS(e))return jo(d(cd.call(e)));if(mS(e))return jo(rS.call(e));if(pS(e))return jo(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!dS(e)&&!Xg(e)){var w=Aa(e,d),S=Zg?Zg(e)===Object.prototype:e instanceof Object||e.constructor===Object,E=e instanceof Object?"":"null prototype",x=!S&&Le&&Object(e)===e&&Le in e?gd.call(Tn(e),8,-1):E?"Object":"",N=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=N+(x||E?"["+Ht.call(Gg.call([],x||[],E||[]),": ")+"] ":"");return w.length===0?$+"{}":f?$+"{"+pd(w,f)+"}":$+"{ "+Ht.call(w,", ")+" }"}return String(e)};function ry(t,e,n){var r=n.quoteStyle||e,i=ny[r];return i+t+i}function uS(t){return Cn.call(String(t),/"/g,"&quot;")}function fd(t){return Tn(t)==="[object Array]"&&(!Le||!(typeof t=="object"&&Le in t))}function dS(t){return Tn(t)==="[object Date]"&&(!Le||!(typeof t=="object"&&Le in t))}function Xg(t){return Tn(t)==="[object RegExp]"&&(!Le||!(typeof t=="object"&&Le in t))}function fS(t){return Tn(t)==="[object Error]"&&(!Le||!(typeof t=="object"&&Le in t))}function pS(t){return Tn(t)==="[object String]"&&(!Le||!(typeof t=="object"&&Le in t))}function hS(t){return Tn(t)==="[object Number]"&&(!Le||!(typeof t=="object"&&Le in t))}function mS(t){return Tn(t)==="[object Boolean]"&&(!Le||!(typeof t=="object"&&Le in t))}function iy(t){if(pi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ud)return!1;try{return ud.call(t),!0}catch{}return!1}function gS(t){if(!t||typeof t!="object"||!cd)return!1;try{return cd.call(t),!0}catch{}return!1}var yS=Object.prototype.hasOwnProperty||function(t){return t in this};function Jt(t,e){return yS.call(t,e)}function Tn(t){return iS.call(t)}function vS(t){if(t.name)return t.name;var e=sS.call(oS.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function oy(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function IS(t){if(!ka||!t||typeof t!="object")return!1;try{ka.call(t);try{Pa.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function wS(t){if(!Bo||!t||typeof t!="object")return!1;try{Bo.call(t,Bo);try{Uo.call(t,Uo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function bS(t){if(!Wg||!t||typeof t!="object")return!1;try{return Wg.call(t),!0}catch{}return!1}function ES(t){if(!Pa||!t||typeof t!="object")return!1;try{Pa.call(t);try{ka.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function CS(t){if(!Uo||!t||typeof t!="object")return!1;try{Uo.call(t,Uo);try{Bo.call(t,Bo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function TS(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function sy(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return sy(gd.call(t,0,e.maxStringLength),e)+r}var i=cS[e.quoteStyle||"single"];i.lastIndex=0;var o=Cn.call(Cn.call(t,i,"\\$1"),/[\x00-\x1f]/g,xS);return ry(o,"single",e)}function xS(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+aS.call(e.toString(16))}function jo(t){return"Object("+t+")"}function ld(t){return t+" { ? }"}function Jg(t,e,n,r){var i=r?pd(n,r):Ht.call(n,", ");return t+" ("+e+") {"+i+"}"}function _S(t){for(var e=0;e<t.length;e++)if(oy(t[e],`
`)>=0)return!1;return!0}function SS(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Ht.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Ht.call(Array(e+1),n)}}function pd(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Ht.call(t,","+n)+`
`+e.prev}function Aa(t,e){var n=fd(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=Jt(t,i)?e(t[i],t):""}var o=typeof ad=="function"?ad(t):[],s;if(pi){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in t)Jt(t,c)&&(n&&String(Number(c))===c&&c<t.length||pi&&s["$"+c]instanceof Symbol||(ey.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if(typeof ad=="function")for(var l=0;l<o.length;l++)ty.call(t,o[l])&&r.push("["+e(o[l])+"]: "+e(t[o[l]],t));return r}});var cy=F((F8,ly)=>{"use strict";var DS=Wo(),MS=vr(),Ra=function(t,e,n){for(var r=t,i;(i=r.next)!=null;r=i)if(i.key===e)return r.next=i.next,n||(i.next=t.next,t.next=i),i},NS=function(t,e){if(t){var n=Ra(t,e);return n&&n.value}},AS=function(t,e,n){var r=Ra(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},kS=function(t,e){return t?!!Ra(t,e):!1},PS=function(t,e){if(t)return Ra(t,e,!0)};ly.exports=function(){var e,n={assert:function(r){if(!n.has(r))throw new MS("Side channel does not contain "+DS(r))},delete:function(r){var i=e&&e.next,o=PS(e,r);return o&&i&&i===o&&(e=void 0),!!o},get:function(r){return NS(e,r)},has:function(r){return kS(e,r)},set:function(r,i){e||(e={next:void 0}),AS(e,r,i)}};return n}});var yd=F(($8,uy)=>{"use strict";uy.exports=Object});var fy=F((H8,dy)=>{"use strict";dy.exports=Error});var hy=F((V8,py)=>{"use strict";py.exports=EvalError});var gy=F((j8,my)=>{"use strict";my.exports=RangeError});var vy=F((B8,yy)=>{"use strict";yy.exports=ReferenceError});var wy=F((U8,Iy)=>{"use strict";Iy.exports=SyntaxError});var Ey=F((W8,by)=>{"use strict";by.exports=URIError});var Ty=F((z8,Cy)=>{"use strict";Cy.exports=Math.abs});var _y=F((G8,xy)=>{"use strict";xy.exports=Math.floor});var Dy=F((q8,Sy)=>{"use strict";Sy.exports=Math.max});var Ny=F((Z8,My)=>{"use strict";My.exports=Math.min});var ky=F((Y8,Ay)=>{"use strict";Ay.exports=Math.pow});var Ry=F((Q8,Py)=>{"use strict";Py.exports=Math.round});var Ly=F((K8,Oy)=>{"use strict";Oy.exports=Number.isNaN||function(e){return e!==e}});var $y=F((X8,Fy)=>{"use strict";var RS=Ly();Fy.exports=function(e){return RS(e)||e===0?e:e<0?-1:1}});var Vy=F((J8,Hy)=>{"use strict";Hy.exports=Object.getOwnPropertyDescriptor});var vd=F((e3,jy)=>{"use strict";var Oa=Vy();if(Oa)try{Oa([],"length")}catch{Oa=null}jy.exports=Oa});var Uy=F((t3,By)=>{"use strict";var La=Object.defineProperty||!1;if(La)try{La({},"a",{value:1})}catch{La=!1}By.exports=La});var zy=F((n3,Wy)=>{"use strict";Wy.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var Zy=F((r3,qy)=>{"use strict";var Gy=typeof Symbol<"u"&&Symbol,OS=zy();qy.exports=function(){return typeof Gy!="function"||typeof Symbol!="function"||typeof Gy("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:OS()}});var Id=F((i3,Yy)=>{"use strict";Yy.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var wd=F((o3,Qy)=>{"use strict";var LS=yd();Qy.exports=LS.getPrototypeOf||null});var Jy=F((s3,Xy)=>{"use strict";var FS="Function.prototype.bind called on incompatible ",$S=Object.prototype.toString,HS=Math.max,VS="[object Function]",Ky=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},jS=function(e,n){for(var r=[],i=n||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},BS=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};Xy.exports=function(e){var n=this;if(typeof n!="function"||$S.apply(n)!==VS)throw new TypeError(FS+n);for(var r=jS(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,Ky(r,arguments));return Object(u)===u?u:this}return n.apply(e,Ky(r,arguments))},s=HS(0,n.length-r.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+BS(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var zo=F((a3,ev)=>{"use strict";var US=Jy();ev.exports=Function.prototype.bind||US});var Fa=F((l3,tv)=>{"use strict";tv.exports=Function.prototype.call});var bd=F((c3,nv)=>{"use strict";nv.exports=Function.prototype.apply});var iv=F((u3,rv)=>{"use strict";rv.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var sv=F((d3,ov)=>{"use strict";var WS=zo(),zS=bd(),GS=Fa(),qS=iv();ov.exports=qS||WS.call(GS,zS)});var Ed=F((f3,av)=>{"use strict";var ZS=zo(),YS=vr(),QS=Fa(),KS=sv();av.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new YS("a function is required");return KS(ZS,QS,e)}});var pv=F((p3,fv)=>{"use strict";var XS=Ed(),lv=vd(),uv;try{uv=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Cd=!!uv&&lv&&lv(Object.prototype,"__proto__"),dv=Object,cv=dv.getPrototypeOf;fv.exports=Cd&&typeof Cd.get=="function"?XS([Cd.get]):typeof cv=="function"?function(e){return cv(e==null?e:dv(e))}:!1});var vv=F((h3,yv)=>{"use strict";var hv=Id(),mv=wd(),gv=pv();yv.exports=hv?function(e){return hv(e)}:mv?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return mv(e)}:gv?function(e){return gv(e)}:null});var wv=F((m3,Iv)=>{"use strict";var JS=Function.prototype.call,eD=Object.prototype.hasOwnProperty,tD=zo();Iv.exports=tD.call(JS,eD)});var Va=F((g3,_v)=>{"use strict";var q,nD=yd(),rD=fy(),iD=hy(),oD=gy(),sD=vy(),yi=wy(),gi=vr(),aD=Ey(),lD=Ty(),cD=_y(),uD=Dy(),dD=Ny(),fD=ky(),pD=Ry(),hD=$y(),Tv=Function,Td=function(t){try{return Tv('"use strict"; return ('+t+").constructor;")()}catch{}},Go=vd(),mD=Uy(),xd=function(){throw new gi},gD=Go?(function(){try{return arguments.callee,xd}catch{try{return Go(arguments,"callee").get}catch{return xd}}})():xd,hi=Zy()(),Se=vv(),yD=wd(),vD=Id(),xv=bd(),qo=Fa(),mi={},ID=typeof Uint8Array>"u"||!Se?q:Se(Uint8Array),Ir={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?q:ArrayBuffer,"%ArrayIteratorPrototype%":hi&&Se?Se([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":mi,"%AsyncGenerator%":mi,"%AsyncGeneratorFunction%":mi,"%AsyncIteratorPrototype%":mi,"%Atomics%":typeof Atomics>"u"?q:Atomics,"%BigInt%":typeof BigInt>"u"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":rD,"%eval%":eval,"%EvalError%":iD,"%Float16Array%":typeof Float16Array>"u"?q:Float16Array,"%Float32Array%":typeof Float32Array>"u"?q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?q:FinalizationRegistry,"%Function%":Tv,"%GeneratorFunction%":mi,"%Int8Array%":typeof Int8Array>"u"?q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hi&&Se?Se(Se([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map>"u"?q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hi||!Se?q:Se(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":nD,"%Object.getOwnPropertyDescriptor%":Go,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?q:Promise,"%Proxy%":typeof Proxy>"u"?q:Proxy,"%RangeError%":oD,"%ReferenceError%":sD,"%Reflect%":typeof Reflect>"u"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hi||!Se?q:Se(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hi&&Se?Se(""[Symbol.iterator]()):q,"%Symbol%":hi?Symbol:q,"%SyntaxError%":yi,"%ThrowTypeError%":gD,"%TypedArray%":ID,"%TypeError%":gi,"%Uint8Array%":typeof Uint8Array>"u"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?q:Uint32Array,"%URIError%":aD,"%WeakMap%":typeof WeakMap>"u"?q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?q:WeakSet,"%Function.prototype.call%":qo,"%Function.prototype.apply%":xv,"%Object.defineProperty%":mD,"%Object.getPrototypeOf%":yD,"%Math.abs%":lD,"%Math.floor%":cD,"%Math.max%":uD,"%Math.min%":dD,"%Math.pow%":fD,"%Math.round%":pD,"%Math.sign%":hD,"%Reflect.getPrototypeOf%":vD};if(Se)try{null.error}catch(t){bv=Se(Se(t)),Ir["%Error.prototype%"]=bv}var bv,wD=function t(e){var n;if(e==="%AsyncFunction%")n=Td("async function () {}");else if(e==="%GeneratorFunction%")n=Td("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Td("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Se&&(n=Se(i.prototype))}return Ir[e]=n,n},Ev={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zo=zo(),$a=wv(),bD=Zo.call(qo,Array.prototype.concat),ED=Zo.call(xv,Array.prototype.splice),Cv=Zo.call(qo,String.prototype.replace),Ha=Zo.call(qo,String.prototype.slice),CD=Zo.call(qo,RegExp.prototype.exec),TD=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xD=/\\(\\)?/g,_D=function(e){var n=Ha(e,0,1),r=Ha(e,-1);if(n==="%"&&r!=="%")throw new yi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new yi("invalid intrinsic syntax, expected opening `%`");var i=[];return Cv(e,TD,function(o,s,a,c){i[i.length]=a?Cv(c,xD,"$1"):s||o}),i},SD=function(e,n){var r=e,i;if($a(Ev,r)&&(i=Ev[r],r="%"+i[0]+"%"),$a(Ir,r)){var o=Ir[r];if(o===mi&&(o=wD(r)),typeof o>"u"&&!n)throw new gi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new yi("intrinsic "+e+" does not exist!")};_v.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new gi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new gi('"allowMissing" argument must be a boolean');if(CD(/^%?[^%]*%?$/,e)===null)throw new yi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=_D(e),i=r.length>0?r[0]:"",o=SD("%"+i+"%",n),s=o.name,a=o.value,c=!1,l=o.alias;l&&(i=l[0],ED(r,bD([0,1],l)));for(var u=1,f=!0;u<r.length;u+=1){var d=r[u],p=Ha(d,0,1),h=Ha(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new yi("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(c=!0),i+="."+d,s="%"+i+"%",$a(Ir,s))a=Ir[s];else if(a!=null){if(!(d in a)){if(!n)throw new gi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Go&&u+1>=r.length){var C=Go(a,d);f=!!C,f&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[d]}else f=$a(a,d),a=a[d];f&&!c&&(Ir[s]=a)}}return a}});var _d=F((y3,Mv)=>{"use strict";var Sv=Va(),Dv=Ed(),DD=Dv([Sv("%String.prototype.indexOf%")]);Mv.exports=function(e,n){var r=Sv(e,!!n);return typeof r=="function"&&DD(e,".prototype.")>-1?Dv([r]):r}});var Sd=F((v3,Av)=>{"use strict";var MD=Va(),Yo=_d(),ND=Wo(),AD=vr(),Nv=MD("%Map%",!0),kD=Yo("Map.prototype.get",!0),PD=Yo("Map.prototype.set",!0),RD=Yo("Map.prototype.has",!0),OD=Yo("Map.prototype.delete",!0),LD=Yo("Map.prototype.size",!0);Av.exports=!!Nv&&function(){var e,n={assert:function(r){if(!n.has(r))throw new AD("Side channel does not contain "+ND(r))},delete:function(r){if(e){var i=OD(e,r);return LD(e)===0&&(e=void 0),i}return!1},get:function(r){if(e)return kD(e,r)},has:function(r){return e?RD(e,r):!1},set:function(r,i){e||(e=new Nv),PD(e,r,i)}};return n}});var Pv=F((I3,kv)=>{"use strict";var FD=Va(),Ba=_d(),$D=Wo(),ja=Sd(),HD=vr(),vi=FD("%WeakMap%",!0),VD=Ba("WeakMap.prototype.get",!0),jD=Ba("WeakMap.prototype.set",!0),BD=Ba("WeakMap.prototype.has",!0),UD=Ba("WeakMap.prototype.delete",!0);kv.exports=vi?function(){var e,n,r={assert:function(i){if(!r.has(i))throw new HD("Side channel does not contain "+$D(i))},delete:function(i){if(vi&&i&&(typeof i=="object"||typeof i=="function")){if(e)return UD(e,i)}else if(ja&&n)return n.delete(i);return!1},get:function(i){return vi&&i&&(typeof i=="object"||typeof i=="function")&&e?VD(e,i):n&&n.get(i)},has:function(i){return vi&&i&&(typeof i=="object"||typeof i=="function")&&e?BD(e,i):!!n&&n.has(i)},set:function(i,o){vi&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new vi),jD(e,i,o)):ja&&(n||(n=ja()),n.set(i,o))}};return r}:ja});var Ov=F((w3,Rv)=>{"use strict";var WD=vr(),zD=Wo(),GD=cy(),qD=Sd(),ZD=Pv(),YD=ZD||qD||GD;Rv.exports=function(){var e,n={assert:function(r){if(!n.has(r))throw new WD("Side channel does not contain "+zD(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,i){e||(e=YD()),e.set(r,i)}};return n}});var Ua=F((b3,Lv)=>{"use strict";var QD=String.prototype.replace,KD=/%20/g,Dd={RFC1738:"RFC1738",RFC3986:"RFC3986"};Lv.exports={default:Dd.RFC3986,formatters:{RFC1738:function(t){return QD.call(t,KD,"+")},RFC3986:function(t){return String(t)}},RFC1738:Dd.RFC1738,RFC3986:Dd.RFC3986}});var Ad=F((E3,$v)=>{"use strict";var XD=Ua(),Md=Object.prototype.hasOwnProperty,wr=Array.isArray,Vt=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),JD=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(wr(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},Fv=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},e0=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(wr(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Md.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return wr(e)&&!wr(n)&&(i=Fv(e,r)),wr(e)&&wr(n)?(n.forEach(function(o,s){if(Md.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(n).reduce(function(o,s){var a=n[s];return Md.call(o,s)?o[s]=t(o[s],a,r):o[s]=a,o},i)},t0=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},n0=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Nd=1024,r0=function(e,n,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<s.length;c+=Nd){for(var l=s.length>=Nd?s.slice(c,c+Nd):s,u=[],f=0;f<l.length;++f){var d=l.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===XD.RFC1738&&(d===40||d===41)){u[u.length]=l.charAt(f);continue}if(d<128){u[u.length]=Vt[d];continue}if(d<2048){u[u.length]=Vt[192|d>>6]+Vt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Vt[224|d>>12]+Vt[128|d>>6&63]+Vt[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|l.charCodeAt(f)&1023),u[u.length]=Vt[240|d>>18]+Vt[128|d>>12&63]+Vt[128|d>>6&63]+Vt[128|d&63]}a+=u.join("")}return a},i0=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var l=a[c],u=s[l];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(n.push({obj:s,prop:l}),r.push(u))}return JD(n),e},o0=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},s0=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},a0=function(e,n){return[].concat(e,n)},l0=function(e,n){if(wr(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)};$v.exports={arrayToObject:Fv,assign:t0,combine:a0,compact:i0,decode:n0,encode:r0,isBuffer:s0,isRegExp:o0,maybeMap:l0,merge:e0}});var Wv=F((C3,Uv)=>{"use strict";var Vv=Ov(),Wa=Ad(),Qo=Ua(),c0=Object.prototype.hasOwnProperty,jv={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},jt=Array.isArray,u0=Array.prototype.push,Bv=function(t,e){u0.apply(t,jt(e)?e:[e])},d0=Date.prototype.toISOString,Hv=Qo.default,Ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Wa.encode,encodeValuesOnly:!1,format:Hv,formatter:Qo.formatters[Hv],indices:!1,serializeDate:function(e){return d0.call(e)},skipNulls:!1,strictNullHandling:!1},f0=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},kd={},p0=function t(e,n,r,i,o,s,a,c,l,u,f,d,p,h,C,I,b,g){for(var m=e,v=g,M=0,_=!1;(v=v.get(kd))!==void 0&&!_;){var w=v.get(e);if(M+=1,typeof w<"u"){if(w===M)throw new RangeError("Cyclic object value");_=!0}typeof v.get(kd)>"u"&&(M=0)}if(typeof u=="function"?m=u(n,m):m instanceof Date?m=p(m):r==="comma"&&jt(m)&&(m=Wa.maybeMap(m,function(O){return O instanceof Date?p(O):O})),m===null){if(s)return l&&!I?l(n,Ce.encoder,b,"key",h):n;m=""}if(f0(m)||Wa.isBuffer(m)){if(l){var S=I?n:l(n,Ce.encoder,b,"key",h);return[C(S)+"="+C(l(m,Ce.encoder,b,"value",h))]}return[C(n)+"="+C(String(m))]}var E=[];if(typeof m>"u")return E;var x;if(r==="comma"&&jt(m))I&&l&&(m=Wa.maybeMap(m,l)),x=[{value:m.length>0?m.join(",")||null:void 0}];else if(jt(u))x=u;else{var N=Object.keys(m);x=f?N.sort(f):N}var $=c?n.replace(/\./g,"%2E"):n,H=i&&jt(m)&&m.length===1?$+"[]":$;if(o&&jt(m)&&m.length===0)return H+"[]";for(var Z=0;Z<x.length;++Z){var de=x[Z],R=typeof de=="object"&&typeof de.value<"u"?de.value:m[de];if(!(a&&R===null)){var L=d&&c?de.replace(/\./g,"%2E"):de,A=jt(m)?typeof r=="function"?r(H,L):H:H+(d?"."+L:"["+L+"]");g.set(e,M);var P=Vv();P.set(kd,g),Bv(E,t(R,A,r,i,o,s,a,c,r==="comma"&&I&&jt(m)?null:l,u,f,d,p,h,C,I,b,P))}}return E},h0=function(e){if(!e)return Ce;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Qo.default;if(typeof e.format<"u"){if(!c0.call(Qo.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Qo.formatters[r],o=Ce.filter;(typeof e.filter=="function"||jt(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in jv?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ce.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ce.allowEmptyArrays,arrayFormat:s,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ce.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}};Uv.exports=function(t,e){var n=t,r=h0(e),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):jt(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var a=jv[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var l=Vv(),u=0;u<i.length;++u){var f=i[u];r.skipNulls&&n[f]===null||Bv(s,p0(n[f],f,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var d=s.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""}});var qv=F((T3,Gv)=>{"use strict";var Ii=Ad(),Pd=Object.prototype.hasOwnProperty,m0=Array.isArray,Ie={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ii.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},g0=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},zv=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},y0="utf8=%26%2310003%3B",v0="utf8=%E2%9C%93",I0=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,o),a=-1,c,l=n.charset;if(n.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===v0?l="utf-8":s[c]===y0&&(l="iso-8859-1"),a=c,c=s.length);for(c=0;c<s.length;++c)if(c!==a){var u=s[c],f=u.indexOf("]="),d=f===-1?u.indexOf("="):f+1,p,h;d===-1?(p=n.decoder(u,Ie.decoder,l,"key"),h=n.strictNullHandling?null:""):(p=n.decoder(u.slice(0,d),Ie.decoder,l,"key"),h=Ii.maybeMap(zv(u.slice(d+1),n),function(I){return n.decoder(I,Ie.decoder,l,"value")})),h&&n.interpretNumericEntities&&l==="iso-8859-1"&&(h=g0(h)),u.indexOf("[]=")>-1&&(h=m0(h)?[h]:h);var C=Pd.call(r,p);C&&n.duplicates==="combine"?r[p]=Ii.combine(r[p],h):(!C||n.duplicates==="last")&&(r[p]=h)}return r},w0=function(t,e,n,r){for(var i=r?e:zv(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&n.parseArrays)s=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!n.parseArrays&&l===""?s={0:i}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},b0=function(e,n,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=r.depth>0&&s.exec(o),l=c?o.slice(0,c.index):o,u=[];if(l){if(!r.plainObjects&&Pd.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var f=0;r.depth>0&&(c=a.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Pd.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(c[1])}if(c){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+o.slice(c.index)+"]")}return w0(u,n,r,i)}},E0=function(e){if(!e)return Ie;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Ie.charset:e.charset,r=typeof e.duplicates>"u"?Ie.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ie.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ie.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ie.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ie.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ie.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ie.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ie.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ie.decoder,delimiter:typeof e.delimiter=="string"||Ii.isRegExp(e.delimiter)?e.delimiter:Ie.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ie.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ie.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ie.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ie.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ie.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}};Gv.exports=function(t,e){var n=E0(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?I0(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],c=b0(a,r[a],n,typeof t=="string");i=Ii.merge(i,c,n)}return n.allowSparse===!0?i:Ii.compact(i)}});var Yv=F((x3,Zv)=>{"use strict";var C0=Wv(),T0=qv(),x0=Ua();Zv.exports={formats:x0,parse:T0,stringify:C0}});var Fd=F(bi=>{"use strict";var _0=Hg();function ut(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var S0=/^([a-z0-9.+-]+:)/i,D0=/:[0-9]*$/,M0=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,N0=["<",">",'"',"`"," ","\r",`
`,"	"],A0=["{","}","|","\\","^","`"].concat(N0),Rd=["'"].concat(A0),Qv=["%","/","?",";","#"].concat(Rd),Kv=["/","?","#"],k0=255,Xv=/^[+a-z0-9A-Z_-]{0,63}$/,P0=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,R0={javascript:!0,"javascript:":!0},Od={javascript:!0,"javascript:":!0},wi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ld=Yv();function Ko(t,e,n){if(t&&typeof t=="object"&&t instanceof ut)return t;var r=new ut;return r.parse(t,e,n),r}ut.prototype.parse=function(t,e,n){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var c=M0.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Ld.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=S0.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&Od[l])&&(a=a.substr(2),this.slashes=!0)}if(!Od[l]&&(f||l&&!wi[l])){for(var d=-1,p=0;p<Kv.length;p++){var h=a.indexOf(Kv[p]);h!==-1&&(d===-1||h<d)&&(d=h)}var C,I;d===-1?I=a.lastIndexOf("@"):I=a.lastIndexOf("@",d),I!==-1&&(C=a.slice(0,I),a=a.slice(I+1),this.auth=decodeURIComponent(C)),d=-1;for(var p=0;p<Qv.length;p++){var h=a.indexOf(Qv[p]);h!==-1&&(d===-1||h<d)&&(d=h)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var g=this.hostname.split(/\./),p=0,m=g.length;p<m;p++){var v=g[p];if(v&&!v.match(Xv)){for(var M="",_=0,w=v.length;_<w;_++)v.charCodeAt(_)>127?M+="x":M+=v[_];if(!M.match(Xv)){var S=g.slice(0,p),E=g.slice(p+1),x=v.match(P0);x&&(S.push(x[1]),E.unshift(x[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=S.join(".");break}}}this.hostname.length>k0?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=_0.toASCII(this.hostname));var N=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+N,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!R0[u])for(var p=0,m=Rd.length;p<m;p++){var H=Rd[p];if(a.indexOf(H)!==-1){var Z=encodeURIComponent(H);Z===H&&(Z=escape(H)),a=a.split(H).join(Z)}}var de=a.indexOf("#");de!==-1&&(this.hash=a.substr(de),a=a.slice(0,de));var R=a.indexOf("?");if(R!==-1?(this.search=a.substr(R),this.query=a.substr(R+1),e&&(this.query=Ld.parse(this.query)),a=a.slice(0,R)):e&&(this.search="",this.query={}),a&&(this.pathname=a),wi[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",L=this.search||"";this.path=N+L}return this.href=this.format(),this};function O0(t){return typeof t=="string"&&(t=Ko(t)),t instanceof ut?t.format():ut.prototype.format.call(t)}ut.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=Ld.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||wi[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+n+s+r};function L0(t,e){return Ko(t,!1,!0).resolve(e)}ut.prototype.resolve=function(t){return this.resolveObject(Ko(t,!1,!0)).format()};function F0(t,e){return t?Ko(t,!1,!0).resolveObject(e):e}ut.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ut;e.parse(t,!1,!0),t=e}for(var n=new ut,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(n[c]=t[c])}return wi[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!wi[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Od[t.protocol]){for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var h=n.pathname&&n.pathname.charAt(0)==="/",C=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=C||h||n.host&&t.pathname,b=I,g=n.pathname&&n.pathname.split("/")||[],m=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!wi[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(g[0]===""?g[0]=n.host:g.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(m[0]===""?m[0]=t.host:m.unshift(t.host)),t.host=null),I=I&&(m[0]===""||g[0]==="")),C)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,g=m;else if(m.length)g||(g=[]),g.pop(),g=g.concat(m),n.search=t.search,n.query=t.query;else if(t.search!=null){if(v){n.host=g.shift(),n.hostname=n.host;var M=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;M&&(n.auth=M.shift(),n.hostname=M.shift(),n.host=n.hostname)}return n.search=t.search,n.query=t.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=g.slice(-1)[0],w=(n.host||t.host||g.length>1)&&(_==="."||_==="..")||_==="",S=0,E=g.length;E>=0;E--)_=g[E],_==="."?g.splice(E,1):_===".."?(g.splice(E,1),S++):S&&(g.splice(E,1),S--);if(!I&&!b)for(;S--;S)g.unshift("..");I&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),w&&g.join("/").substr(-1)!=="/"&&g.push("");var x=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(v){n.hostname=x?"":g.length?g.shift():"",n.host=n.hostname;var M=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;M&&(n.auth=M.shift(),n.hostname=M.shift(),n.host=n.hostname)}return I=I||n.host&&g.length,I&&!x&&g.unshift(""),g.length>0?n.pathname=g.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};ut.prototype.parseHost=function(){var t=this.host,e=D0.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};bi.parse=Ko;bi.resolve=L0;bi.resolveObject=F0;bi.format=O0;bi.Url=ut});var eI=F((Jv,za)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof za=="object"&&za.exports?za.exports=e():t.xmlserializer=e()})(Jv,function(){var t=function(d){return d.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},n=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=function(d){var p=d.value;return" "+d.name+'="'+e(p)+'"'},i=function(d){var p=d.tagName;return d.namespaceURI==="http://www.w3.org/1999/xhtml"&&(p=p.toLowerCase()),p},o=function(d,p){var h=Array.prototype.map.call(d.attributes||d.attrs,function(C){return C.name}).indexOf("xmlns")>=0;return!h&&(p||d.namespaceURI!==d.parentNode.namespaceURI)?' xmlns="'+d.namespaceURI+'"':""},s=function(d){return Array.prototype.map.call(d.childNodes,function(p){return f(p)}).join("")},a=function(d,p){var h="<"+i(d);return h+=o(d,p),Array.prototype.forEach.call(d.attributes||d.attrs,function(C){h+=r(C)}),d.childNodes.length>0?(h+=">",h+=s(d),h+="</"+i(d)+">"):h+="/>",h},c=function(d){var p=d.nodeValue||d.value||"";return n(p)},l=function(d){return"<!--"+d.data.replace(/-/g,"&#45;")+"-->"},u=function(d){return"<![CDATA["+d.nodeValue+"]]>"},f=function(d,p){var h=p&&p.rootNode;if(d.nodeName==="#document"||d.nodeName==="#document-fragment")return s(d);if(d.tagName)return a(d,h);if(d.nodeName==="#text")return c(d);if(d.nodeName==="#comment")return l(d);if(d.nodeName==="#cdata-section")return u(d)};return{serializeToString:function(d){return t(f(d,{rootNode:!0}))}}})});var rI=F(nI=>{"use strict";var $0=function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(n){return e.serializeToString(n)}).join("")},H0=function(t){if(t.documentElement.tagName==="parsererror"&&t.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml")return t.documentElement;if((t.documentElement.tagName==="xml"||t.documentElement.tagName==="html")&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&t.documentElement.childNodes[0].nodeName==="parsererror")return t.documentElement.childNodes[0];if(t.documentElement.tagName==="html"&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&t.documentElement.childNodes[0].nodeName==="body"&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&t.documentElement.childNodes[0].childNodes[0].nodeName==="parsererror")return t.documentElement.childNodes[0].childNodes[0]},tI=[new RegExp(`^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)
?</div>`),new RegExp(`^(.+)
`)],V0=function(t){var e=$0(t),n,r;for(n=0;n<tI.length;n++)if(r=tI[n].exec(e),r)return r[1]},j0=function(t){var e;if(t===null)throw new Error("Parse error");var n=H0(t);if(n!==void 0)throw e=V0(n)||"Parse error",new Error(e)};nI.failOnParseError=function(t){return j0(t),t}});var Xo=F(Ve=>{"use strict";var B0=Fd();Ve.getDocumentBaseUrl=function(t){return t.baseURI!=="about:blank"?t.baseURI:null};Ve.clone=function(t){var e={},n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};Ve.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])};Ve.joinUrl=function(t,e){return t?B0.resolve(t,e):e};Ve.isDataUri=function(t){return/^data:/.test(t)};Ve.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map(function(n){return n.catch(function(r){e.push(r)})})).then(function(){return e})};var $d=null,U0=function(t,e){return e===!1||e==="none"||e==="repeated"?(($d===null||e!=="repeated")&&($d=Date.now()),t+"?_="+$d):t};Ve.ajax=function(t,e){return new Promise(function(n,r){var i=new window.XMLHttpRequest,o=Ve.joinUrl(e.baseUrl,t),s,a=function(){r({msg:"Unable to load url",url:o})};s=U0(o,e.cache),i.addEventListener("load",function(){i.status===200||i.status===0?n(i.response):a()},!1),i.addEventListener("error",a,!1);try{i.open("GET",s,!0),i.overrideMimeType(e.mimeType),i.send(null)}catch{a()}})};Ve.binaryAjax=function(t,e){var n=Ve.clone(e);return n.mimeType="text/plain; charset=x-user-defined",Ve.ajax(t,n).then(function(r){for(var i="",o=0;o<r.length;o++)i+=String.fromCharCode(r.charCodeAt(o)&255);return i})};var W0=function(t){var e=function(n,r){return n.substring(0,r.length)===r};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"};Ve.getDataURIForImageURL=function(t,e){return Ve.binaryAjax(t,e).then(function(n){var r=btoa(n),i=W0(n);return"data:"+i+";base64,"+r})};var Hd=[],z0=function(t){return Hd.indexOf(t)<0&&Hd.push(t),Hd.indexOf(t)};Ve.memoize=function(t,e,n){if(typeof n!="object")throw new Error("cacheBucket is not an object");return function(){var r=Array.prototype.slice.call(arguments),i=e(r),o=z0(t),s;return n[o]&&n[o][i]?n[o][i]:(s=t.apply(null,r),n[o]=n[o]||{},n[o][i]=s,s)}}});var sI=F(oI=>{"use strict";var Jo=Xo(),G0=function(t,e){var n=null;t.hasAttribute("src")?n=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(n=t.getAttribute("href"));var r=Jo.getDocumentBaseUrl(t.ownerDocument),i=Jo.clone(e);return!i.baseUrl&&r&&(i.baseUrl=r),Jo.getDataURIForImageURL(n,i).then(function(o){return o},function(o){throw{resourceType:"image",url:o.url,msg:"Unable to load image "+o.url}})},q0=function(t){return t.filter(function(e){var n=null;return e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href")),n!==null&&!Jo.isDataUri(n)})},Z0=function(t){return Array.prototype.filter.call(t,function(e){return e.type==="image"})},iI=function(t){return Array.prototype.slice.call(t)};oI.inline=function(t,e){var n=iI(t.getElementsByTagName("img")),r=iI(t.getElementsByTagName("image")),i=Z0(t.getElementsByTagName("input"));n=n.concat(r),n=n.concat(i);var o=q0(n);return Jo.collectAndReportErrors(o.map(function(s){return G0(s,e).then(function(a){s.attributes.src?s.attributes.src.value=a:s.attributes["xlink:href"]?s.attributes["xlink:href"].value=a:s.attributes.href&&(s.attributes.href.value=a)})}))}});var lI=F(aI=>{"use strict";var Ga=Xo(),Y0=function(t,e){var n=t.attributes.src.value,r=Ga.getDocumentBaseUrl(t.ownerDocument),i=Ga.clone(e);return!i.baseUrl&&r&&(i.baseUrl=r),Ga.ajax(n,i).catch(function(o){throw{resourceType:"script",url:o.url,msg:"Unable to load script "+o.url}})},Q0=function(t){return t.replace(/<\//g,"<\\/")},K0=function(t,e){t.attributes.removeNamedItem("src"),t.textContent=Q0(e)},X0=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,function(n){return!!n.attributes.src})};aI.inline=function(t,e){var n=X0(t);return Ga.collectAndReportErrors(n.map(function(r){return Y0(r,e).then(function(i){K0(r,i)})}))}});var qa=F(xn=>{"use strict";xn.unquoteString=function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t};xn.rulesForCssText=function(t,e){var n=document.implementation.createHTMLDocument(""),r=document.createElement("style"),i;return r.textContent=t,e&&e.nonce&&(r.nonce=e.nonce),n.body.appendChild(r),i=r.sheet.cssRules,Array.prototype.slice.call(i)};xn.cssRulesToText=function(t){return t.reduce(function(e,n){return e+n.cssText},"")};xn.exchangeRule=function(t,e,n,r){var i=t.indexOf(e);t[i]=xn.rulesForCssText(n,r)[0]};xn.changeFontFaceRuleSrc=function(t,e,n,r){var i="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(i+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(i+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),e.style.getPropertyValue("unicode-range")&&(i+="unicode-range: "+e.style.getPropertyValue("unicode-range")+"; "),i+="src: "+n+"}",xn.exchangeRule(t,e,i,r)}});var cI=F(es=>{"use strict";var J0=qa(),eM=function(t){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return t.replace(e,"$1")};es.extractCssUrl=function(t){var e=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/,n;if(!e.test(t))throw new Error("Invalid url");return n=e.exec(t)[1],J0.unquoteString(eM(n))};var tM=function(t){var e=`\\s*(?:"[^"]*"|'[^']*'|[^\\(]+)\\s*`,n="(url\\("+e+"\\)|[^,\\s]+)",r="(?:\\s*"+n+")+",i="^\\s*("+r+")(?:\\s*,\\s*("+r+"))*\\s*$",o=new RegExp(r,"g"),s,a=[],c=function(l){var u=new RegExp(n,"g"),f=[],d;for(d=u.exec(l);d;)f.push(d[1]),d=u.exec(l);return f};if(t.match(new RegExp(i))){for(s=o.exec(t);s;)a.push(c(s[0])),s=o.exec(t);return a}return[]},nM=function(t){var e,n;for(e=0;e<t.length;e++)try{return n=es.extractCssUrl(t[e]),{url:n,idx:e}}catch{}};es.parse=function(t){var e=tM(t);return e.map(function(n){var r=nM(n);return r?{preUrl:n.slice(0,r.idx),url:r.url,postUrl:n.slice(r.idx+1)}:{preUrl:n}})};es.serialize=function(t){var e=t.map(function(n){var r=[].concat(n.preUrl);return n.url&&r.push('url("'+n.url+'")'),n.postUrl&&(r=r.concat(n.postUrl)),r.join(" ")});return e.join(", ")}});var dI=F((uI,Vd)=>{"use strict";(function(t){if(typeof uI=="object"&&typeof Vd<"u")Vd.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.cssFontFaceSrc=t()}})(function(){var t,e,n;return(function r(i,o,s){function a(u,f){if(!o[u]){if(!i[u]){var d=typeof Ni=="function"&&Ni;if(!f&&d)return d(u,!0);if(c)return c(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var h=o[u]={exports:{}};i[u][0].call(h.exports,function(C){var I=i[u][1][C];return a(I||C)},h,h.exports,r,i,o,s)}return o[u].exports}for(var c=typeof Ni=="function"&&Ni,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(r,i,o){"use strict";function s(l,u){function f(){this.constructor=l}f.prototype=u.prototype,l.prototype=new f}function a(l,u,f,d){this.message=l,this.expected=u,this.found=f,this.location=d,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a)}s(a,Error),a.buildMessage=function(l,u){var f={literal:function(g){return'"'+p(g.text)+'"'},class:function(g){var m="",v;for(v=0;v<g.parts.length;v++)m+=g.parts[v]instanceof Array?h(g.parts[v][0])+"-"+h(g.parts[v][1]):h(g.parts[v]);return"["+(g.inverted?"^":"")+m+"]"},any:function(g){return"any character"},end:function(g){return"end of input"},other:function(g){return g.description}};function d(g){return g.charCodeAt(0).toString(16).toUpperCase()}function p(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+d(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+d(m)})}function h(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+d(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+d(m)})}function C(g){return f[g.type](g)}function I(g){var m=new Array(g.length),v,M;for(v=0;v<g.length;v++)m[v]=C(g[v]);if(m.sort(),m.length>0){for(v=1,M=1;v<m.length;v++)m[v-1]!==m[v]&&(m[M]=m[v],M++);m.length=M}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function b(g){return g?'"'+p(g)+'"':"end of input"}return"Expected "+I(l)+" but "+b(u)+" found."};function c(l,u){u=u!==void 0?u:{};var f={},d={start:Wd},p=Wd,h="",C=function(){return[]},I=",",b=je(",",!1),g=function(T,k){return[T].concat(k)},m=function(T){return[T]},v=function(T,k){return{url:T,format:k}},M=function(T){return{url:T}},_="url(",w=je("url(",!1),S=")",E=je(")",!1),x=function(T){return T},N="format(",$=je("format(",!1),H="local(",Z=je("local(",!1),de=function(T){return{local:T}},R=/^[^)]/,L=_t([")"],!0,!1),A=function(T){return RI.extractValue(T.join(""))},P=/^[ \t\r\n\f]/,O=_t([" ","	","\r",`
`,"\f"],!1,!1),D=0,j=0,G=[{line:1,column:1}],U=0,me=[],oe=0,we;if("startRule"in u){if(!(u.startRule in d))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');p=d[u.startRule]}function De(){return l.substring(j,D)}function ge(){return Mi(j,D)}function Me(T,k){throw k=k!==void 0?k:Mi(j,D),Ud([MI(T)],l.substring(j,D),k)}function Xe(T,k){throw k=k!==void 0?k:Mi(j,D),NI(T,k)}function je(T,k){return{type:"literal",text:T,ignoreCase:k}}function _t(T,k,B){return{type:"class",parts:T,inverted:k,ignoreCase:B}}function ss(){return{type:"any"}}function DI(){return{type:"end"}}function MI(T){return{type:"other",description:T}}function Bd(T){var k=G[T],B;if(k)return k;for(B=T-1;!G[B];)B--;for(k=G[B],k={line:k.line,column:k.column};B<T;)l.charCodeAt(B)===10?(k.line++,k.column=1):k.column++,B++;return G[T]=k,k}function Mi(T,k){var B=Bd(T),te=Bd(k);return{start:{offset:T,line:B.line,column:B.column},end:{offset:k,line:te.line,column:te.column}}}function dt(T){D<U||(D>U&&(U=D,me=[]),me.push(T))}function NI(T,k){return new a(T,null,null,k)}function Ud(T,k,B){return new a(a.buildMessage(T,k),T,k,B)}function Wd(){var T,k;return T=zd(),T===f&&(T=D,k=h,k!==f&&(j=T,k=C()),T=k),T}function zd(){var T,k,B,te,ol,An;if(T=D,k=Gd(),k!==f){for(B=[],te=Er();te!==f;)B.push(te),te=Er();if(B!==f)if(l.charCodeAt(D)===44?(te=I,D++):(te=f,oe===0&&dt(b)),te!==f){for(ol=[],An=Er();An!==f;)ol.push(An),An=Er();ol!==f?(An=zd(),An!==f?(j=T,k=g(k,An),T=k):(D=T,T=f)):(D=T,T=f)}else D=T,T=f;else D=T,T=f}else D=T,T=f;return T===f&&(T=D,k=Gd(),k!==f&&(j=T,k=m(k)),T=k),T}function Gd(){var T;return T=AI(),T===f&&(T=PI()),T}function AI(){var T,k,B,te;if(T=D,k=qd(),k!==f){if(B=[],te=Er(),te!==f)for(;te!==f;)B.push(te),te=Er();else B=f;B!==f?(te=kI(),te!==f?(j=T,k=v(k,te),T=k):(D=T,T=f)):(D=T,T=f)}else D=T,T=f;return T===f&&(T=D,k=qd(),k!==f&&(j=T,k=M(k)),T=k),T}function qd(){var T,k,B,te;return T=D,l.substr(D,4)===_?(k=_,D+=4):(k=f,oe===0&&dt(w)),k!==f?(B=il(),B!==f?(l.charCodeAt(D)===41?(te=S,D++):(te=f,oe===0&&dt(E)),te!==f?(j=T,k=x(B),T=k):(D=T,T=f)):(D=T,T=f)):(D=T,T=f),T}function kI(){var T,k,B,te;return T=D,l.substr(D,7)===N?(k=N,D+=7):(k=f,oe===0&&dt($)),k!==f?(B=il(),B!==f?(l.charCodeAt(D)===41?(te=S,D++):(te=f,oe===0&&dt(E)),te!==f?(j=T,k=x(B),T=k):(D=T,T=f)):(D=T,T=f)):(D=T,T=f),T}function PI(){var T,k,B,te;return T=D,l.substr(D,6)===H?(k=H,D+=6):(k=f,oe===0&&dt(Z)),k!==f?(B=il(),B!==f?(l.charCodeAt(D)===41?(te=S,D++):(te=f,oe===0&&dt(E)),te!==f?(j=T,k=de(B),T=k):(D=T,T=f)):(D=T,T=f)):(D=T,T=f),T}function il(){var T,k,B;if(T=D,k=[],R.test(l.charAt(D))?(B=l.charAt(D),D++):(B=f,oe===0&&dt(L)),B!==f)for(;B!==f;)k.push(B),R.test(l.charAt(D))?(B=l.charAt(D),D++):(B=f,oe===0&&dt(L));else k=f;return k!==f&&(j=T,k=A(k)),T=k,T}function Er(){var T;return P.test(l.charAt(D))?(T=l.charAt(D),D++):(T=f,oe===0&&dt(O)),T}var RI=r("../util");if(we=p(),we!==f&&D===l.length)return we;throw we!==f&&D<l.length&&dt(DI()),Ud(me,U<l.length?l.charAt(U):null,U<l.length?Mi(U,U+1):Mi(U,U))}i.exports={SyntaxError:a,parse:c}},{"../util":3}],2:[function(r,i,o){var s=r("./grammar");o.SyntaxError=function(a,c){this.message=a,this.offset=c},o.parse=function(a){try{return s.parse(a)}catch(c){throw new o.SyntaxError(c.message,c.offset)}},o.serialize=function(a){return a.map(function(c){var l;return c.url?(l='url("'+c.url+'")',c.format&&(l+=' format("'+c.format+'")')):l='local("'+c.local+'")',l}).join(", ")}},{"./grammar":1}],3:[function(r,i,o){var s=function(c){var l=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return c.replace(l,"$1")},a=function(c){var l=/^"(.*)"$/,u=/^'(.*)'$/;return l.test(c)?c.replace(l,"$1"):u.test(c)?c.replace(u,"$1"):c};o.extractValue=function(c){return a(s(c))}},{}]},{},[2])(2)})});var wI=F(Ei=>{"use strict";var xt=Xo(),ts=qa(),Za=cI(),Ya=dI(),pI=function(t,e,n){t.style.setProperty(e,n,t.style.getPropertyPriority(e))},hI=function(t){return t.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})},mI=function(t){var e=[];return t.forEach(function(n){n.style.getPropertyValue("background-image")?e.push({property:"background-image",value:n.style.getPropertyValue("background-image"),rule:n}):n.style.getPropertyValue("background")&&e.push({property:"background",value:n.style.getPropertyValue("background"),rule:n})}),e},gI=function(t){return t.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})},yI=function(t){return t.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})},vI=function(t){var e=[];return t.forEach(function(n,r){n.url&&!xt.isDataUri(n.url)&&e.push(r)}),e},II=function(t){var e=[];return t.forEach(function(n,r){n.url&&!xt.isDataUri(n.url)&&e.push(r)}),e};Ei.adjustPathsOfCssResources=function(t,e,n){var r=hI(e),i=mI(r),o=!1;return i.forEach(function(s){var a=Za.parse(s.value),c=vI(a),l;c.length>0&&(c.forEach(function(u){var f=a[u].url,d=xt.joinUrl(t,f);a[u].url=d}),l=Za.serialize(a),pI(s.rule,s.property,l),o=!0)}),gI(e).forEach(function(s){var a=s.style.getPropertyValue("src"),c,l;try{c=Ya.parse(a)}catch{return}l=II(c),l.length>0&&(l.forEach(function(u){var f=c[u].url,d=xt.joinUrl(t,f);c[u].url=d}),ts.changeFontFaceRuleSrc(e,s,Ya.serialize(c,n),n),o=!0)}),yI(e).forEach(function(s){var a=s.href,c=xt.joinUrl(t,a);ts.exchangeRule(e,s,"@import url("+c+");",n),o=!0}),o};var fI=function(t,e,n){var r=t.indexOf(e);t.splice(r,1),n.forEach(function(i,o){t.splice(r+o,0,i)})},rM=function(t,e,n,r){var i=e.href,o;return i=ts.unquoteString(i),o=xt.joinUrl(r.baseUrl,i),n.indexOf(o)>=0?(fI(t,e,[]),Promise.resolve([])):(n.push(o),xt.ajax(i,r).then(function(s){var a=ts.rulesForCssText(s,r);return Ei.loadCSSImportsForRules(a,n,r).then(function(c){return Ei.adjustPathsOfCssResources(i,a,r),fI(t,e,a),c.errors})},function(s){throw{resourceType:"stylesheet",url:s.url,msg:"Unable to load stylesheet "+s.url}}))};Ei.loadCSSImportsForRules=function(t,e,n){var r=yI(t),i=[],o=!1;return Promise.all(r.map(function(s){return rM(t,s,e,n).then(function(a){i=i.concat(a),o=!0},function(a){i.push(a)})})).then(function(){return{hasChanges:o,errors:i}})};var iM=function(t,e){var n=Za.parse(t),r=vI(n),i=!1;return xt.collectAndReportErrors(r.map(function(o){var s=n[o].url;return xt.getDataURIForImageURL(s,e).then(function(a){n[o].url=a,i=!0},function(a){throw{resourceType:"backgroundImage",url:a.url,msg:"Unable to load background-image "+a.url}})})).then(function(o){return{backgroundValue:Za.serialize(n),hasChanges:i,errors:o}})},oM=function(t,e){var n=hI(t),r=mI(n),i=[],o=!1;return Promise.all(r.map(function(s){return iM(s.value,e).then(function(a){a.hasChanges&&(pI(s.rule,s.property,a.backgroundValue),o=!0),i=i.concat(a.errors)})})).then(function(){return{hasChanges:o,errors:i}})},sM=function(t,e){var n=!1,r,i;try{r=Ya.parse(t)}catch{r=[]}return i=II(r),xt.collectAndReportErrors(i.map(function(o){var s=r[o],a=s.format||"woff";return xt.binaryAjax(s.url,e).then(function(c){var l=btoa(c);s.url="data:font/"+a+";base64,"+l,n=!0},function(c){throw{resourceType:"fontFace",url:c.url,msg:"Unable to load font-face "+c.url}})})).then(function(o){return{srcDeclarationValue:Ya.serialize(r),hasChanges:n,errors:o}})},aM=function(t,e){var n=gI(t),r=[],i=!1;return Promise.all(n.map(function(o){var s=o.style.getPropertyValue("src");return sM(s,e).then(function(a){a.hasChanges&&(ts.changeFontFaceRuleSrc(t,o,a.srcDeclarationValue,e),i=!0),r=r.concat(a.errors)})})).then(function(){return{hasChanges:i,errors:r}})};Ei.loadAndInlineCSSResourcesForRules=function(t,e){var n=!1,r=[];return Promise.all([oM,aM].map(function(i){return i(t,e).then(function(o){n=n||o.hasChanges,r=r.concat(o.errors)})})).then(function(){return{hasChanges:n,errors:r}})}});var EI=F(Bt=>{"use strict";var en=Xo(),lM=sI(),cM=lI(),ns=wI(),Qa=qa(),uM=function(t){return en.joinUrl(t,".")},dM=function(t){var e=t.map(function(n,r){return r===t.length-1&&(n={baseUrl:uM(n.baseUrl)}),JSON.stringify(n)});return e},bI=function(t,e){return e.cache!==!1&&e.cache!=="none"&&e.cacheBucket?en.memoize(t,dM,e.cacheBucket):t},fM=function(t,e,n){var r=Qa.rulesForCssText(t,n);return ns.loadCSSImportsForRules(r,e,n).then(function(i){return ns.loadAndInlineCSSResourcesForRules(r,n).then(function(o){var s=i.errors.concat(o.errors),a=i.hasChanges||o.hasChanges;return a&&(t=Qa.cssRulesToText(r)),{hasChanges:a,content:t,errors:s}})})},pM=function(t,e,n){var r=t.textContent,i=bI(fM,e);return i(r,n,e).then(function(o){return o.hasChanges&&(t.childNodes[0].nodeValue=o.content),en.cloneArray(o.errors)})},hM=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,function(n){return!n.attributes.type||n.attributes.type.value==="text/css"})};Bt.loadAndInlineStyles=function(t,e){var n=hM(t),r=[],i=[],o;return o=en.clone(e),o.baseUrl=o.baseUrl||en.getDocumentBaseUrl(t),Promise.all(n.map(function(s){return pM(s,o,i).then(function(a){r=r.concat(a)})})).then(function(){return r})};var mM=function(t,e){var n=t.parentNode,r;e=e.trim(),e&&(r=t.ownerDocument.createElement("style"),r.type="text/css",r.appendChild(t.ownerDocument.createTextNode(e)),n.insertBefore(r,t)),n.removeChild(t)},gM=function(t,e){return en.ajax(t,e).then(function(n){var r=Qa.rulesForCssText(n,e);return{content:n,cssRules:r}}).then(function(n){var r=ns.adjustPathsOfCssResources(t,n.cssRules,e);return{content:n.content,cssRules:n.cssRules,hasChanges:r}}).then(function(n){return ns.loadCSSImportsForRules(n.cssRules,[],e).then(function(r){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||r.hasChanges,errors:r.errors}})}).then(function(n){return ns.loadAndInlineCSSResourcesForRules(n.cssRules,e).then(function(r){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||r.hasChanges,errors:n.errors.concat(r.errors)}})}).then(function(n){var r=n.content;return n.hasChanges&&(r=Qa.cssRulesToText(n.cssRules)),{content:r,errors:n.errors}})},yM=function(t,e){var n=t.attributes.href.value,r=en.getDocumentBaseUrl(t.ownerDocument),i=en.clone(e);!i.baseUrl&&r&&(i.baseUrl=r);var o=bI(gM,e);return o(n,i).then(function(s){return{content:s.content,errors:en.cloneArray(s.errors)}})},vM=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,function(n){return n.attributes.rel&&n.attributes.rel.value==="stylesheet"&&(!n.attributes.type||n.attributes.type.value==="text/css")})};Bt.loadAndInlineCssLinks=function(t,e){var n=vM(t),r=[];return Promise.all(n.map(function(i){return yM(i,e).then(function(o){mM(i,o.content+`
`),r=r.concat(o.errors)},function(o){r.push({resourceType:"stylesheet",url:o.url,msg:"Unable to load stylesheet "+o.url})})})).then(function(){return r})};Bt.loadAndInlineImages=lM.inline;Bt.loadAndInlineScript=cM.inline;Bt.inlineReferences=function(t,e){var n=[],r=[Bt.loadAndInlineImages,Bt.loadAndInlineStyles,Bt.loadAndInlineCssLinks];return e.inlineScripts!==!1&&r.push(Bt.loadAndInlineScript),Promise.all(r.map(function(i){return i(t,e).then(function(o){n=n.concat(o)})})).then(function(){return n})}});var TI=F((CI,Ka)=>{"use strict";(function(t,e){t===void 0&&window!==void 0&&(t=window),typeof define=="function"&&define.amd?define(["url","xmlserializer","sane-domparser-error","inlineresources"],function(n,r,i,o){return t.rasterizeHTML=e(n,r,i,o)}):typeof Ka=="object"&&Ka.exports?Ka.exports=e(Fd(),eI(),rI(),EI()):t.rasterizeHTML=e(t.url,t.xmlserializer,t.sanedomparsererror,t.inlineresources)})(CI,function(t,e,n,r){var i=(function(p){"use strict";var h={},C=[];h.joinUrl=function(g,m){return g?p.resolve(g,m):m},h.getConstantUniqueIdFor=function(g){return C.indexOf(g)<0&&C.push(g),C.indexOf(g)},h.clone=function(g){var m={},v;for(v in g)g.hasOwnProperty(v)&&(m[v]=g[v]);return m};var I=function(g){return typeof g=="object"&&g!==null},b=function(g){return I(g)&&Object.prototype.toString.apply(g).match(/\[object (Canvas|HTMLCanvasElement|OffscreenCanvas)\]/i)};return h.parseOptionalParameters=function(g){var m={canvas:null,options:{}};return g[0]==null||b(g[0])?(m.canvas=g[0]||null,m.options=h.clone(g[1])):m.options=h.clone(g[0]),m},h})(t),o=(function(p){"use strict";var h={},C=function(I,b,g){var m=I[b];return I[b]=function(){var v=Array.prototype.slice.call(arguments);return g.apply(this,[v,m])},m};return h.baseUrlRespectingXhr=function(I,b){var g=function(){var m=new I;return C(m,"open",function(v,M){var _=v.shift(),w=v.shift(),S=p.joinUrl(b,w);return M.apply(this,[_,S].concat(v))}),m};return g},h.finishNotifyingXhr=function(I){var b=0,g=0,m=!1,v,M=new Promise(function(w){v=function(){var S=b-g;S<=0&&m&&w({totalCount:b})}}),_=function(){var w=new I;return C(w,"send",function(S,E){return b+=1,E.apply(this,arguments)}),w.addEventListener("load",function(){g+=1,v()}),w};return _.waitForRequestsToFinish=function(){return m=!0,v(),M},_},h})(i),s=(function(){"use strict";var p={},h=function(_){return Array.prototype.slice.call(_)};p.addClassName=function(_,w){_.className+=" "+w},p.addClassNameRecursively=function(_,w){p.addClassName(_,w),_.parentNode!==_.ownerDocument&&p.addClassNameRecursively(_.parentNode,w)};var C=function(_,w){var S=_.parentStyleSheet,E=h(S.cssRules).indexOf(_);S.insertRule(w,E+1),S.deleteRule(E)},I=function(_,w){var S=_.cssText.replace(/^[^\{]+/,""),E=w+" "+S;C(_,E)},b=function(_){return h(_).reduce(function(w,S){return w+S.cssText},"")},g=function(_){_.textContent=b(_.sheet.cssRules)},m=function(_){var w=document.implementation.createHTMLDocument(""),S=document.createElement("style");S.textContent=_.textContent,w.body.appendChild(S),_.sheet=S.sheet},v=function(_){return"((?:^|[^.#:\\w])|(?=\\W))("+_.join("|")+")(?=\\W|$)"},M=function(_,w,S){var E=v(w);h(_.querySelectorAll("style")).forEach(function(x){typeof x.sheet>"u"&&m(x);var N=h(x.sheet.cssRules).filter(function($){return $.selectorText&&new RegExp(E,"i").test($.selectorText)});N.length&&(N.forEach(function($){var H=$.selectorText.replace(new RegExp(E,"gi"),function(Z,de,R){return de+S(R)});H!==$.selectorText&&I($,H)}),g(x))})};return p.rewriteCssSelectorWith=function(_,w,S){M(_,[w],function(){return S})},p.lowercaseCssTypeSelectors=function(_,w){M(_,w,function(S){return S.toLowerCase()})},p.findHtmlOnlyNodeNames=function(_){var w=_.ownerDocument.createTreeWalker(_,NodeFilter.SHOW_ELEMENT),S={},E={},x;do x=w.currentNode.tagName.toLowerCase(),w.currentNode.namespaceURI==="http://www.w3.org/1999/xhtml"?S[x]=!0:E[x]=!0;while(w.nextNode());return Object.keys(S).filter(function(N){return!E[N]})},p})(),a=(function(p){"use strict";var h={},C=function(b){return Array.prototype.slice.call(b)},I={active:!0,hover:!0,focus:!1,target:!1};return h.fakeUserAction=function(b,g,m){var v=b.querySelector(g),M=":"+m,_="rasterizehtml"+m;v&&(I[m]?p.addClassNameRecursively(v,_):p.addClassName(v,_),p.rewriteCssSelectorWith(b,M,"."+_))},h.persistInputValues=function(b){var g=b.querySelectorAll("input"),m=b.querySelectorAll("textarea"),v=function(M){return M.type==="checkbox"||M.type==="radio"};C(g).filter(v).forEach(function(M){M.checked?M.setAttribute("checked",""):M.removeAttribute("checked")}),C(g).filter(function(M){return!v(M)}).forEach(function(M){M.setAttribute("value",M.value)}),C(m).forEach(function(M){M.textContent=M.value})},h.rewriteTagNameSelectorsToLowerCase=function(b){p.lowercaseCssTypeSelectors(b,p.findHtmlOnlyNodeNames(b))},h})(s),c=(function(p,h,C,I){"use strict";var b={},g=function(R,L,A,P){var O=R.createElement(L);return O.style.visibility="hidden",O.style.width=A+"px",O.style.height=P+"px",O.style.position="absolute",O.style.top=-1e4-P+"px",O.style.left=-1e4-A+"px",R.getElementsByTagName("body")[0].appendChild(O),O},m=function(R){return R>0?new Promise(function(L){setTimeout(L,R)}):Promise.resolve()};b.executeJavascript=function(R,L){return new Promise(function(A){var P=g(I.document,"iframe",L.width,L.height),O=R.outerHTML,D=[],j=L.executeJsTimeout||0,G=function(){I.document.getElementsByTagName("body")[0].removeChild(P)},U=function(){var De=P.contentDocument;A({document:De,errors:D,cleanUp:G})},me=P.contentWindow.XMLHttpRequest,oe=h.finishNotifyingXhr(me),we=h.baseUrlRespectingXhr(oe,L.baseUrl);P.onload=function(){m(j).then(oe.waitForRequestsToFinish).then(U)},P.contentDocument.open(),P.contentWindow.XMLHttpRequest=we,P.contentWindow.onerror=function(De){D.push({resourceType:"scriptExecution",msg:De})},P.contentDocument.write("<!DOCTYPE html>"),P.contentDocument.write(O),P.contentDocument.close()})};var v=function(R,L,A){var P=R.createElement("iframe");return P.style.width=L+"px",P.style.height=A+"px",P.style.visibility="hidden",P.style.position="absolute",P.style.top=-1e4-A+"px",P.style.left=-1e4-L+"px",P.style.borderWidth=0,P.sandbox="allow-same-origin",P.scrolling="no",P},M=function(R,L,A){var P=Math.floor(R/A),O=Math.floor(L/A);return v(I.document,P,O)},_=function(R,L,A,P){return{width:Math.max(R.width*P,L),height:Math.max(R.height*P,A)}},w=function(R,L){var A=R.querySelector(L);if(A)return A;if(R.ownerDocument.querySelector(L)===R)return R;throw{message:"Clipping selector not found"}},S=function(R,L,A,P,O){var D=Math.max(R.scrollWidth,R.clientWidth),j=Math.max(R.scrollHeight,R.clientHeight),G,U,me,oe,we,De,ge,Me;return L?(De=w(R,L),ge=De.getBoundingClientRect(),G=ge.top,U=ge.left,me=ge.width,oe=ge.height):(G=0,U=0,me=D,oe=j),Me=_({width:me,height:oe},A,P,O),we=I.getComputedStyle(R.ownerDocument.documentElement).fontSize,{left:U,top:G,width:Me.width,height:Me.height,viewportWidth:D,viewportHeight:j,rootFontSize:we}},E=function(R,L){var A=R.tagName;return L.querySelector(A)},x=function(R){var L=R.tagName.toLowerCase();return L==="html"||L==="body"?R.outerHTML:'<body style="margin: 0;">'+R.outerHTML+"</body>"};b.calculateDocumentContentSize=function(R,L){return new Promise(function(A,P){var O=L.zoom||1,D;D=M(L.width,L.height,O),I.document.getElementsByTagName("body")[0].appendChild(D),D.onload=function(){var j=D.contentDocument,G;try{G=S(E(R,j),L.clip,L.width,L.height,O),A(G)}catch(U){P(U)}finally{I.document.getElementsByTagName("body")[0].removeChild(D)}},D.contentDocument.open(),D.contentDocument.write("<!DOCTYPE html>"),D.contentDocument.write(x(R)),D.contentDocument.close()})},b.parseHtmlFragment=function(R){var L=I.document.implementation.createHTMLDocument("");L.documentElement.innerHTML=R;var A=L.querySelector("body").firstChild;if(!A)throw"Invalid source";return A};var N=function(R,L){var A=/<html((?:\s+[^>]*)?)>/im.exec(L),P=I.document.implementation.createHTMLDocument(""),O,D,j,G;if(A)for(O="<div"+A[1]+"></div>",P.documentElement.innerHTML=O,j=P.querySelector("div"),D=0;D<j.attributes.length;D++)G=j.attributes[D],R.documentElement.setAttribute(G.name,G.value)};b.parseHTML=function(R){var L=I.document.implementation.createHTMLDocument("");return L.documentElement.innerHTML=R,N(L,R),L};var $=function(R){try{return C.failOnParseError(R)}catch(L){throw{message:"Invalid source",originalError:L}}};b.validateXHTML=function(R){var L=new DOMParser,A=L.parseFromString(R,"application/xml");$(A)};var H=null,Z=function(R,L){return L==="none"||L==="repeated"?((H===null||L!=="repeated")&&(H=Date.now()),R+"?_="+H):R},de=function(R,L){return new Promise(function(A,P){var O=new window.XMLHttpRequest,D=p.joinUrl(L.baseUrl,R),j=Z(D,L.cache),G=function(U){P({message:"Unable to load page",originalError:U})};O.addEventListener("load",function(){O.status===200||O.status===0?A(O.responseXML):G(O.statusText)},!1),O.addEventListener("error",function(U){G(U)},!1);try{O.open("GET",j,!0),O.responseType="document",O.send(null)}catch(U){G(U)}})};return b.loadDocument=function(R,L){return de(R,L).then(function(A){return $(A)})},b})(i,o,n,window),l=(function(){"use strict";var p={},h=function(w,S){return S?URL.createObjectURL(new Blob([w],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(w)},C=function(w){w instanceof Blob&&URL.revokeObjectURL(w)},I='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',b=function(w){return new Promise(function(S,E){var x=document.createElement("canvas"),N=new Image;N.onload=function(){var $=x.getContext("2d");try{$.drawImage(N,0,0),x.toDataURL("image/png"),S(!0)}catch{S(!1)}},N.onerror=E,N.src=w})},g=function(){var w=h(I,!0);return b(w).then(function(S){return C(w),S?!1:b(h(I,!1)).then(function(E){return E})},function(){return!1})},m=function(){return new Promise(function(w,S){g().then(function(E){w(!E)},function(){S()})})},v,M=function(){return v===void 0&&(v=m()),v},_=function(w){return M().then(function(S){return h(w,S)})};return p.renderSvg=function(w){return new Promise(function(S,E){var x,N,$=function(){N.onload=null,N.onerror=null},H=function(){x&&C(x)};N=new Image,N.onload=function(){$(),H(),S(N)},N.onerror=function(){H(),E()},_(w).then(function(Z){x=Z,N.src=x},E)})},p})(window),u=(function(p,h,C,I){"use strict";var b={},g=function(E,x){var N=x||1,$={width:E.width,height:E.height,"font-size":E.rootFontSize};return N!==1&&($.style="transform:scale("+N+"); transform-origin: 0 0;"),$},m=function(E){var x,N,$,H;x=Math.round(E.viewportWidth),N=Math.round(E.viewportHeight),$=-E.left,H=-E.top;var Z={x:$,y:H,width:x,height:N};return Z},v=function(E){var x=E.style||"";E.style=x+"float: left;"},M=function(E){E.externalResourcesRequired=!0},_=function(){return'<style scoped="">html::-webkit-scrollbar { display: none; }</style>'},w=function(E){var x=Object.keys(E);return x.length?" "+x.map(function(N){return N+'="'+E[N]+'"'}).join(" "):""},S=function(E,x,N){var $=I.serializeToString(E);h.validateXHTML($);var H=m(x);return v(H),M(H),'<svg xmlns="http://www.w3.org/2000/svg"'+w(g(x,N))+">"+_()+"<foreignObject"+w(H)+">"+$+"</foreignObject></svg>"};return b.getSvgForDocument=function(E,x,N){return C.rewriteTagNameSelectorsToLowerCase(E),S(E,x,N)},b.drawDocumentAsSvg=function(E,x){return["hover","active","focus","target"].forEach(function(N){x[N]&&C.fakeUserAction(E,x[N],N)}),h.calculateDocumentContentSize(E,x).then(function(N){return b.getSvgForDocument(E,N,x.zoom)})},b})(i,c,a,e),f=(function(p,h,C,I,b,g){"use strict";var m={},v=function(E){return{message:"Error rendering page",originalError:E}},M=function(E){return b.renderSvg(E).then(function(x){return{image:x,svg:E}},function(x){throw v(x)})},_=function(E,x){try{x.getContext("2d").drawImage(E,0,0)}catch(N){throw v(N)}},w=function(E,x,N){return I.drawDocumentAsSvg(E,N).then(M).then(function($){return x&&_($.image,x),$})},S=function(E,x){return h.executeJavascript(E,x).then(function(N){var $=N.document;return C.persistInputValues($),{document:$,errors:N.errors,cleanUp:N.cleanUp}})};return m.rasterize=function(E,x,N){var $;return $=p.clone(N),$.inlineScripts=N.executeJs===!0,g.inlineReferences(E,$).then(function(H){return N.executeJs?S(E,N).then(function(Z){return{element:Z.document.documentElement,errors:H.concat(Z.errors),cleanUp:Z.cleanUp}}):{element:E,errors:H,cleanUp:function(){}}}).then(function(H){return w(H.element,x,N).then(function(Z){return H.cleanUp(),{image:Z.image,svg:Z.svg,errors:H.errors}})})},m})(i,c,a,u,l,r),d=(function(p,h,C){"use strict";var I={},b=function(_,w){var S=300,E=200,x=_?_.width:S,N=_?_.height:E,$=w.width!==void 0?w.width:x,H=w.height!==void 0?w.height:N;return{width:$,height:H}},g=function(_){var w=b(_.canvas,_.options),S;return S=p.clone(_.options),S.width=w.width,S.height=w.height,S};I.drawDocument=function(){var _=arguments[0],w=Array.prototype.slice.call(arguments,1),S=p.parseOptionalParameters(w),E=_.documentElement?_.documentElement:_;return C.rasterize(E,S.canvas,g(S))};var m=function(_,w,S){var E=h.parseHTML(_);return I.drawDocument(E,w,S)};I.drawHTML=function(){var _=arguments[0],w=Array.prototype.slice.call(arguments,1),S=p.parseOptionalParameters(w);return m(_,S.canvas,S.options)};var v=function(_,w,S){var E=document.implementation.createHTMLDocument("");E.replaceChild(_.documentElement,E.documentElement);var x=S?p.clone(S):{};return S.baseUrl||(x.baseUrl=w),{document:E,options:x}},M=function(_,w,S){return h.loadDocument(_,S).then(function(E){var x=v(E,_,S);return I.drawDocument(x.document,w,x.options)})};return I.drawURL=function(){var _=arguments[0],w=Array.prototype.slice.call(arguments,1),S=p.parseOptionalParameters(w);return M(_,S.canvas,S.options)},I})(i,c,f);return d})});var al=null;var Kd=1;var Cr=Symbol("SIGNAL");function K(t){let e=al;return al=t,e}function as(){return al}var cl={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xd(t){if(!(cs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kd)){if(!t.producerMustRecompute(t)&&!dl(t)){ll(t);return}t.producerRecomputeValue(t),ll(t)}}function ll(t){t.dirty=!1,t.lastCleanEpoch=Kd}function ul(t){return t&&Jd(t),K(t)}function Jd(t){t.producersTail=void 0,t.recomputing=!0}function ef(t,e){K(e),t&&tf(t)}function tf(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(cs(t))do n=fl(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function dl(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Xd(n),r!==n.version))return!0}return!1}function ls(t){if(cs(t)){let e=t.producers;for(;e!==void 0;)e=fl(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function fl(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!cs(e)){let o=e.producers;for(;o!==void 0;)o=fl(o)}return n}function cs(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function WI(){throw new Error}var zI=WI;function pl(t){zI=t}function Be(t){return typeof t=="function"}function us(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ds=us(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ai(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){e=o instanceof ds?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nf(o)}catch(s){e=e??[],s instanceof ds?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ds(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ai(n,e)}remove(e){let{_finalizers:n}=this;n&&Ai(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var hl=Ne.EMPTY;function fs(t){return t instanceof Ne||t&&"closed"in t&&Be(t.remove)&&Be(t.add)&&Be(t.unsubscribe)}function nf(t){Be(t)?t():t.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Tr={setTimeout(t,e,...n){let{delegate:r}=Tr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Tr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rf(t){Tr.setTimeout(()=>{let{onUnhandledError:e}=pt;if(e)e(t);else throw t})}function ml(){}var of=gl("C",void 0,void 0);function sf(t){return gl("E",void 0,t)}function af(t){return gl("N",t,void 0)}function gl(t,e,n){return{kind:t,value:e,error:n}}var kn=null;function xr(t){if(pt.useDeprecatedSynchronousErrorHandling){let e=!kn;if(e&&(kn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kn;if(kn=null,n)throw r}}else t()}function lf(t){pt.useDeprecatedSynchronousErrorHandling&&kn&&(kn.errorThrown=!0,kn.error=t)}var Pn=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fs(e)&&e.add(this)):this.destination=ZI}static create(e,n,r){return new _r(e,n,r)}next(e){this.isStopped?vl(af(e),this):this._next(e)}error(e){this.isStopped?vl(sf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vl(of,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GI=Function.prototype.bind;function yl(t,e){return GI.call(t,e)}var Il=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ps(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ps(r)}else ps(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ps(n)}}},_r=class extends Pn{constructor(e,n,r){super();let i;if(Be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yl(e.next,o),error:e.error&&yl(e.error,o),complete:e.complete&&yl(e.complete,o)}):i=e}this.destination=new Il(i)}};function ps(t){pt.useDeprecatedSynchronousErrorHandling?lf(t):rf(t)}function qI(t){throw t}function vl(t,e){let{onStoppedNotification:n}=pt;n&&Tr.setTimeout(()=>n(t,e))}var ZI={closed:!0,next:ml,error:qI,complete:ml};var cf=typeof Symbol=="function"&&Symbol.observable||"@@observable";function uf(t){return t}function df(t){return t.length===0?uf:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Sr=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=QI(n)?n:new _r(n,r,i);return xr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ff(r),new r((i,o)=>{let s=new _r({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[cf](){return this}pipe(...n){return df(n)(this)}toPromise(n){return n=ff(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ff(t){var e;return(e=t??pt.Promise)!==null&&e!==void 0?e:Promise}function YI(t){return t&&Be(t.next)&&Be(t.error)&&Be(t.complete)}function QI(t){return t&&t instanceof Pn||YI(t)&&fs(t)}function KI(t){return Be(t?.lift)}function pf(t){return e=>{if(KI(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function hf(t,e,n,r,i){return new wl(t,e,n,r,i)}var wl=class extends Pn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var mf=us(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ut=(()=>{class t extends Sr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mf}next(n){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hl:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Ai(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Sr;return n.source=this,n}}return t.create=(e,n)=>new hs(e,n),t})(),hs=class extends Ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:hl}};var ki=class extends Ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function bl(t,e){return pf((n,r)=>{let i=0;n.subscribe(hf(r,o=>{r.next(t.call(e,o,i++))}))})}var El;function ms(){return El}function St(t){let e=El;return El=t,e}var gf=Symbol("NotFound");function Dr(t){return t===gf||t?.name==="\u0275NotFound"}var J=class extends Error{code;constructor(e,n){super($l(e,n)),this.code=e}};function rw(t){return`NG0${Math.abs(t)}`}function $l(t,e){return`${rw(t)}${e?": "+e:""}`}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("")}function On(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(On).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Hl(t,e){return t?e?`${t} ${e}`:t:e||""}var iw=le({__forward_ref__:le});function Vl(t){return t.__forward_ref__=Vl,t.toString=function(){return On(this())},t}function Je(t){return Ef(t)?t():t}function Ef(t){return typeof t=="function"&&t.hasOwnProperty(iw)&&t.__forward_ref__===Vl}function ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jl(t){return ow(t,Bl)}function ow(t,e){return t.hasOwnProperty(e)&&t[e]||null}function sw(t){let e=t?.[Bl]??null;return e||null}function Tl(t){return t&&t.hasOwnProperty(xl)?t[xl]:null}var Bl=le({\u0275prov:le}),xl=le({\u0275inj:le}),ne=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ve({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cf(t){return t&&!!t.\u0275providers}var Tf=le({\u0275cmp:le}),xf=le({\u0275dir:le}),_f=le({\u0275pipe:le});var _l=le({\u0275fac:le}),Pr=le({__NG_ELEMENT_ID__:le}),yf=le({__NG_ENV_ID__:le});function Hn(t){return Wl(t,"@Component"),t[Tf]||null}function Ul(t){return Wl(t,"@Directive"),t[xf]||null}function Sf(t){return Wl(t,"@Pipe"),t[_f]||null}function Wl(t,e){if(t==null)throw new J(-919,!1)}function Df(t){return typeof t=="string"?t:t==null?"":String(t)}function Mf(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Df(t)}var Nf=le({ngErrorCode:le}),aw=le({ngErrorMessage:le}),lw=le({ngTokenPath:le});function zl(t,e){return Af("",-200,e)}function bs(t,e){throw new J(-201,!1)}function Af(t,e,n){let r=new J(e,t);return r[Nf]=e,r[aw]=t,n&&(r[lw]=n),r}function cw(t){return t[Nf]}var Sl;function kf(){return Sl}function ze(t){let e=Sl;return Sl=t,e}function Gl(t,e,n){let r=jl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;bs(t,"")}var uw={},Rn=uw,dw="__NG_DI_FLAG__",Dl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Nr(n)||0;try{return this.injector.get(e,r&8?null:Rn,r)}catch(i){if(Dr(i))return i;throw i}}};function fw(t,e=0){let n=ms();if(n===void 0)throw new J(-203,!1);if(n===null)return Gl(t,void 0,e);{let r=pw(e),i=n.retrieve(t,r);if(Dr(i)){if(r.optional)return null;throw i}return i}}function ce(t,e=0){return(kf()||fw)(Je(t),e)}function X(t,e){return ce(t,Nr(e))}function Nr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pw(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Ml(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=hw(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ce(i,o))}else e.push(ce(r))}return e}function hw(t){return t[dw]}function Ar(t,e){let n=t.hasOwnProperty(_l);return n?t[_l]:null}function Pf(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Rf(t){return t.flat(Number.POSITIVE_INFINITY)}function Es(t,e){t.forEach(n=>Array.isArray(n)?Es(n,e):e(n))}function ql(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Li(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Vn={},Ln=[],jn=new ne(""),Of=new ne("",-1),Zl=new ne(""),Ri=class{get(e,n=Rn){if(n===Rn){let i=Af("",-201);throw i.name="\u0275NotFound",i}return n}};function Yl(t){return{\u0275providers:t}}function mw(...t){return{\u0275providers:Ql(!0,t),\u0275fromNgModule:!0}}function Ql(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Es(e,s=>{let a=s;ys(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Lf(i,o),n}function Lf(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Kl(i,o=>{e(o,r)})}}function ys(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,o=Tl(t),s=!o&&Hn(t);if(!o&&!s){let c=t.ngModule;if(o=Tl(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ys(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Es(o.imports,u=>{ys(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Lf(l,e)}if(!a){let l=Ar(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ln},i),e({provide:Zl,useValue:i,multi:!0},i),e({provide:jn,useValue:()=>ce(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Kl(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Kl(t,e){for(let n of t)Cf(n)&&(n=n.\u0275providers),Array.isArray(n)?Kl(n,e):e(n)}var gw=le({provide:String,useValue:le});function Ff(t){return t!==null&&typeof t=="object"&&gw in t}function yw(t){return!!(t&&t.useExisting)}function vw(t){return!!(t&&t.useFactory)}function vs(t){return typeof t=="function"}var Fi=new ne(""),gs={},vf={},Cl;function $i(){return Cl===void 0&&(Cl=new Ri),Cl}var ht=class{},kr=class extends ht{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Al(e,s=>this.processProvider(s)),this.records.set(Of,Mr(void 0,this)),i.has("environment")&&this.records.set(ht,Mr(void 0,this));let o=this.records.get(Fi);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zl,Ln,{self:!0}))}retrieve(e,n){let r=Nr(n)||0;try{return this.get(e,Rn,r)}catch(i){if(Dr(i))return i;throw i}}destroy(){Pi(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Pi(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pi(this);let n=St(this),r=ze(void 0),i;try{return e()}finally{St(n),ze(r)}}get(e,n=Rn,r){if(Pi(this),e.hasOwnProperty(yf))return e[yf](this);let i=Nr(r),o,s=St(this),a=ze(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=Cw(e)&&jl(e);u&&this.injectableDefInScope(u)?l=Mr(Nl(e),gs):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?$i():this.parent;return n=i&8&&n===Rn?null:n,c.get(e,n)}catch(c){let l=cw(c);throw l===-200||l===-201?new J(l,null):c}finally{ze(a),St(s)}}resolveInjectorInitializers(){let e=K(null),n=St(this),r=ze(void 0),i;try{let o=this.get(jn,Ln,{self:!0});for(let s of o)s()}finally{St(n),ze(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(On(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let n=vs(e)?e:Je(e&&e.provide),r=ww(e);if(!vs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Mr(void 0,gs,!0),i.factory=()=>Ml(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===vf)throw zl(On(e));return n.value===gs&&(n.value=vf,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Ew(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Nl(t){let e=jl(t),n=e!==null?e.factory:Ar(t);if(n!==null)return n;if(t instanceof ne)throw new J(204,!1);if(t instanceof Function)return Iw(t);throw new J(204,!1)}function Iw(t){if(t.length>0)throw new J(204,!1);let n=sw(t);return n!==null?()=>n.factory(t):()=>new t}function ww(t){if(Ff(t))return Mr(void 0,t.useValue);{let e=$f(t);return Mr(e,gs)}}function $f(t,e,n){let r;if(vs(t)){let i=Je(t);return Ar(i)||Nl(i)}else if(Ff(t))r=()=>Je(t.useValue);else if(vw(t))r=()=>t.useFactory(...Ml(t.deps||[]));else if(yw(t))r=(i,o)=>ce(Je(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Je(t&&(t.useClass||t.provide));if(bw(t))r=()=>new i(...Ml(t.deps));else return Ar(i)||Nl(i)}return r}function Pi(t){if(t.destroyed)throw new J(205,!1)}function Mr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bw(t){return!!t.deps}function Ew(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Cw(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Al(t,e){for(let n of t)Array.isArray(n)?Al(n,e):n&&Cf(n)?Al(n.\u0275providers,e):e(n)}function Cs(t,e){let n;t instanceof kr?(Pi(t),n=t):n=new Dl(t);let r,i=St(n),o=ze(void 0);try{return e()}finally{St(i),ze(o)}}function Hf(){return kf()!==void 0||ms()!=null}var mt=0,z=1,W=2,Te=3,et=4,tt=5,Hi=6,Vi=7,Ge=8,Bn=9,Gt=10,nt=11,Rr=12,Xl=13,Or=14,gt=15,rn=16,Un=17,Dt=18,ji=19,Jl=20,Wt=21,Ts=22,Bi=23,qe=24,xs=25,Ui=26,Mt=27,Vf=1;var on=7,Wi=8,Wn=9,Fe=10;function qt(t){return Array.isArray(t)&&typeof t[Vf]=="object"}function yt(t){return Array.isArray(t)&&t[Vf]===!0}function ec(t){return(t.flags&4)!==0}function zi(t){return t.componentOffset>-1}function jf(t){return(t.flags&1)===1}function Lr(t){return!!t.template}function Fr(t){return(t[W]&512)!==0}function zn(t){return(t[W]&256)===256}var Bf="svg",Uf="math";function Nt(t){for(;Array.isArray(t);)t=t[mt];return t}function sn(t,e){return Nt(e[t.index])}function tc(t,e){return t.data[e]}function an(t,e){let n=e[t];return qt(n)?n:n[mt]}function Wf(t){return(t[W]&4)===4}function _s(t){return(t[W]&128)===128}function zf(t){return yt(t[Te])}function Gi(t,e){return e==null?null:t[e]}function nc(t){t[Un]=0}function rc(t){t[W]&1024||(t[W]|=1024,_s(t)&&Zi(t))}function qi(t){return!!(t[W]&9216||t[qe]?.dirty)}function Ss(t){t[Gt].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),qi(t)&&Zi(t)}function Zi(t){t[Gt].changeDetectionScheduler?.notify(0);let e=nn(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!_s(e)));)e=nn(e)}function ic(t,e){if(zn(t))throw new J(911,!1);t[Wt]===null&&(t[Wt]=[]),t[Wt].push(e)}function Gf(t,e){if(t[Wt]===null)return;let n=t[Wt].indexOf(e);n!==-1&&t[Wt].splice(n,1)}function nn(t){let e=t[Te];return yt(e)?e[Te]:e}function qf(t){return t[Vi]??=[]}function Zf(t){return t.cleanup??=[]}function Yf(t,e,n,r){let i=qf(e);i.push(n),t.firstCreatePass&&Zf(t).push(r,i.length-1)}var ue={lFrame:cp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kl=!1;function Qf(){return ue.lFrame.elementDepthCount}function Kf(){ue.lFrame.elementDepthCount++}function Xf(){ue.lFrame.elementDepthCount--}function Jf(){return ue.skipHydrationRootTNode!==null}function ep(t){return ue.skipHydrationRootTNode===t}function tp(){ue.skipHydrationRootTNode=null}function rt(){return ue.lFrame.lView}function oc(){return ue.lFrame.tView}function ln(){let t=sc();for(;t!==null&&t.type===64;)t=t.parent;return t}function sc(){return ue.lFrame.currentTNode}function np(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ds(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function ac(){return ue.lFrame.isParent}function rp(){ue.lFrame.isParent=!1}function lc(){return kl}function cc(t){let e=kl;return kl=t,e}function ip(t){return ue.lFrame.bindingIndex=t}function op(){return ue.lFrame.inI18n}function sp(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ms(e)}function ap(){return ue.lFrame.currentDirectiveIndex}function Ms(t){ue.lFrame.currentDirectiveIndex=t}function uc(){return ue.lFrame.currentQueryIndex}function Ns(t){ue.lFrame.currentQueryIndex=t}function Tw(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[tt]:null}function dc(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Tw(o),i===null||(o=o[Or],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=lp();return r.currentTNode=e,r.lView=t,!0}function As(t){let e=lp(),n=t[z];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lp(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?cp(t):e}function cp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function up(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fc=up;function ks(){let t=up();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dp(){return ue.lFrame.selectedIndex}function cn(t){ue.lFrame.selectedIndex=t}function fp(){return ue.lFrame.currentNamespace}var pp=!0;function hp(){return pp}function mp(t){pp=t}function If(t,e=null,n=null,r){let i=gp(t,e,n,r);return i.resolveInjectorInitializers(),i}function gp(t,e=null,n=null,r,i=new Set){let o=[n||Ln,mw(t)];return r=r||(typeof t=="object"?void 0:On(t)),new kr(o,e||$i(),r||null,i)}var Fn=class t{static THROW_IF_NOT_FOUND=Rn;static NULL=new Ri;static create(e,n){if(Array.isArray(e))return If({name:""},n,e,"");{let r=e.name??"";return If({name:r},e.parent,e.providers,r)}}static \u0275prov=ve({token:t,providedIn:"any",factory:()=>ce(Of)});static __NG_ELEMENT_ID__=-1},vt=new ne(""),Ps=(()=>{class t{static __NG_ELEMENT_ID__=xw;static __NG_ENV_ID__=n=>n}return t})(),Pl=class extends Ps{_lView;constructor(e){super(),this._lView=e}get destroyed(){return zn(this._lView)}onDestroy(e){let n=this._lView;return ic(n,e),()=>Gf(n,e)}};function xw(){return new Pl(rt())}var pc=!1,Gn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ki(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Sr(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rl=class extends Ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Hf()&&(this.destroyRef=X(Ps,{optional:!0})??void 0,this.pendingTasks=X(Gn,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tn=Rl;function Is(...t){}function hc(t){let e,n;function r(){t=Is;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function mc(t){return queueMicrotask(()=>t()),()=>{t=Is}}var gc="isAngularZone",Oi=gc+"_ID",_w=0,be=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tn(!1);onMicrotaskEmpty=new tn(!1);onStable=new tn(!1);onError=new tn(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pc}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Mw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Sw,Is,Is);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Sw={};function yc(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hc(()=>{t.callbackScheduled=!1,Ol(t),t.isCheckStableRunning=!0,yc(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ol(t)}function Mw(t){let e=()=>{Dw(t)},n=_w++;t._inner=t._inner.fork({name:"angular",properties:{[gc]:!0,[Oi]:n,[Oi+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Nw(c))return r.invokeTask(o,s,a,c);try{return wf(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bf(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return wf(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Aw(c)&&e(),bf(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ol(t),yc(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ol(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function wf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bf(t){t._nesting--,yc(t)}var ws=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tn;onMicrotaskEmpty=new tn;onStable=new tn;onError=new tn;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Nw(t){return yp(t,"__ignore_ng_zone__")}function Aw(t){return yp(t,"__scheduler_tick__")}function yp(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$r=new ne("",{factory:()=>{let t=X(be),e=X(ht),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(zt),n.handleError(r))})}}}),vp={provide:jn,useValue:()=>{let t=X(zt,{optional:!0})},multi:!0};var $n=class{},Hr=new ne("",{factory:()=>!0});var Rs=new ne("");var Ip=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new Ll})}return t})(),Ll=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Fl=class{[Cr];constructor(e){this[Cr]=e}destroy(){this[Cr].destroy()}};function Up(t){return{toString:t}.toString()}function Rw(t){return typeof t=="function"}function Wp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Hs=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ow(t){return t.type.prototype.ngOnChanges&&(t.setInput=Fw),Lw}function Lw(){let t=Gp(this),e=t?.current;if(e){let n=t.previous;if(n===Vn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Fw(t,e,n,r,i){let o=this.declaredInputs[r],s=Gp(t)||$w(t,{previous:Vn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Hs(l&&l.currentValue,n,c===Vn),Wp(t,e,i,n)}var zp="__ngSimpleChanges__";function Gp(t){return t[zp]||null}function $w(t,e){return t[zp]=e}var wp=[];var fe=function(t,e=null,n){for(let r=0;r<wp.length;r++){let i=wp[r];i(t,e,n)}},se=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(se||{});function Hw(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ow(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Vw(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Os(t,e,n){qp(t,e,3,n)}function Ls(t,e,n,r){(t[W]&3)===n&&qp(t,e,n,r)}function vc(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function qp(t,e,n,r){let i=r!==void 0?t[Un]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Un]+=65536),(a<o||o==-1)&&(jw(t,n,e,c),t[Un]=(t[Un]&4294901760)+c+2),c++}function bp(t,e){fe(se.LifecycleHookStart,t,e);let n=K(null);try{e.call(t)}finally{K(n),fe(se.LifecycleHookEnd,t,e)}}function jw(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[W]>>14<t[Un]>>16&&(t[W]&3)===e&&(t[W]+=16384,bp(a,o)):bp(a,o)}var jr=-1,Ki=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Bw(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Uw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Uw(t){return t.charCodeAt(0)===64}function Vc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ep(t,n,i,null,e[++r]):Ep(t,n,i,null,null))}}return t}function Ep(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Zp(t){return t!==jr}function Vs(t){return t&32767}function Ww(t){return t>>16}function js(t,e){let n=Ww(t),r=e;for(;n>0;)r=r[Or],n--;return r}var Ec=!0;function Cp(t){let e=Ec;return Ec=t,e}var zw=256,Yp=zw-1,Qp=5,Gw=0,At={};function qw(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pr)&&(r=n[Pr]),r==null&&(r=n[Pr]=Gw++);let i=r&Yp,o=1<<i;e.data[t+(i>>Qp)]|=o}function Kp(t,e){let n=Xp(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Ic(r.data,t),Ic(e,null),Ic(r.blueprint,null));let i=jc(t,e),o=t.injectorIndex;if(Zp(i)){let s=Vs(i),a=js(i,e),c=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Ic(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jc(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=rh(i),r===null)return jr;if(n++,i=i[Or],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return jr}function Zw(t,e,n){qw(t,e,n)}function Jp(t,e,n){if(n&8||t!==void 0)return t;bs(e,"NodeInjector")}function eh(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Bn],o=ze(void 0);try{return i?i.get(e,r,n&8):Gl(e,r,n&8)}finally{ze(o)}}return Jp(r,e,n)}function th(t,e,n,r=0,i){if(t!==null){if(e[W]&2048&&!(r&2)){let s=Xw(t,e,n,r,At);if(s!==At)return s}let o=nh(t,e,n,r,At);if(o!==At)return o}return eh(e,n,r,i)}function nh(t,e,n,r,i){let o=Qw(n);if(typeof o=="function"){if(!dc(e,t,r))return r&1?Jp(i,n,r):eh(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))bs(n);else return s}finally{fc()}}else if(typeof o=="number"){let s=null,a=Xp(t,e),c=jr,l=r&1?e[gt][tt]:null;for((a===-1||r&4)&&(c=a===-1?jc(t,e):e[a+8],c===jr||!xp(r,!1)?a=-1:(s=e[z],a=Vs(c),e=js(c,e)));a!==-1;){let u=e[z];if(Tp(o,a,u.data)){let f=Yw(a,e,n,s,r,l);if(f!==At)return f}c=e[a+8],c!==jr&&xp(r,e[z].data[a+8]===l)&&Tp(o,a,e)?(s=u,a=Vs(c),e=js(c,e)):a=-1}}return i}function Yw(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],c=r==null?zi(a)&&Ec:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Fs(a,s,n,c,l);return u!==null?Bs(e,s,u,a,i):At}function Fs(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,f=r?a:a+u,d=i?a+u:l;for(let p=f;p<d;p++){let h=s[p];if(p<c&&n===h||p>=c&&h.type===n)return p}if(i){let p=s[c];if(p&&Lr(p)&&p.type===n)return c}return null}function Bs(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ki){let a=o;if(a.resolving){let p=Mf(s[n]);throw zl(p)}let c=Cp(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,f=a.injectImpl?ze(a.injectImpl):null,d=dc(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Hw(n,s[n],e)}finally{f!==null&&ze(f),Cp(c),a.resolving=!1,fc()}}return o}function Qw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pr)?t[Pr]:void 0;return typeof e=="number"?e>=0?e&Yp:Kw:e}function Tp(t,e,n){let r=1<<t;return!!(n[e+(t>>Qp)]&r)}function xp(t,e){return!(t&2)&&!(t&1&&e)}var qn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return th(this._tNode,this._lView,e,Nr(r),n)}};function Kw(){return new qn(ln(),rt())}function Xw(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!Fr(s);){let a=nh(o,s,n,r|2,At);if(a!==At)return a;let c=o.parent;if(!c){let l=s[Jl];if(l){let u=l.get(n,At,r);if(u!==At)return u}c=rh(s),s=s[Or]}o=c}return i}function rh(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[tt]:null}function Jw(){return Wr(ln(),rt())}function Wr(t,e){return new ro(sn(t,e))}var ro=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Jw}return t})();function eb(t){return t instanceof ro?t.nativeElement:t}function tb(){return this._results[Symbol.iterator]()}var Us=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ut}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Rf(e);(this._changesDetected=!Pf(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=tb};function ih(t){return(t.flags&128)===128}var Bc=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Bc||{}),oh=new Map,nb=0;function rb(){return nb++}function ib(t){oh.set(t[ji],t)}function Cc(t){oh.delete(t[ji])}var _p="__ngContext__";function Xi(t,e){qt(e)?(t[_p]=e[ji],ib(e)):t[_p]=e}function sh(t){return lh(t[Rr])}function ah(t){return lh(t[et])}function lh(t){for(;t!==null&&!yt(t);)t=t[et];return t}var ob;function Uc(t){ob=t}var Zs=new ne("",{factory:()=>sb}),sb="ng";var Ys=new ne(""),io=new ne("",{providedIn:"platform",factory:()=>"unknown"});var Qs=new ne("",{factory:()=>X(vt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ch=!1,uh=new ne("",{factory:()=>ch});function Wc(t){return(t.flags&32)===32}var ab=()=>null;function dh(t,e,n=!1){return ab(t,e,n)}function fh(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Ns(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Tc(t,e,n){Ns(0);let r=K(null);try{e(t,n)}finally{K(r)}}function lb(t,e,n){if(ec(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}var It=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(It||{});function ph(t,e,n){return t.createElement(e,n)}function Ws(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hh(t,e,n){t.appendChild(e,n)}function Sp(t,e,n,r,i){r!==null?Ws(t,e,n,r,i):hh(t,e,n)}function cb(t,e,n,r){t.removeChild(null,e,n,r)}function ub(t,e,n){t.setAttribute(e,"style",n)}function db(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mh(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Bw(t,e,r),i!==null&&db(t,e,i),o!==null&&ub(t,e,o)}var fb="ng-template";function pb(t){return t.type===4&&t.value!==fb}function xc(t){return(t&1)===0}function Dp(t,e){return t?":not("+e.trim()+")":e}function hb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xc(s)&&(e+=Dp(o,i),i=""),r=s,o=o||!xc(r);n++}return i!==""&&(e+=Dp(o,i)),e}function mb(t){return t.map(hb).join(",")}function gb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!xc(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var zc={};function gh(t,e,n,r,i,o,s,a,c,l,u){let f=Mt+r,d=f+i,p=yb(f,d),h=typeof l=="function"?l():l;return p[z]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:u}}function yb(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:zc);return n}function vb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=gh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gc(t,e,n,r,i,o,s,a,c,l,u){let f=e.blueprint.slice();return f[mt]=i,f[W]=r|4|128|8|64|1024,(l!==null||t&&t[W]&2048)&&(f[W]|=2048),nc(f),f[Te]=f[Or]=t,f[Ge]=n,f[Gt]=s||t&&t[Gt],f[nt]=a||t&&t[nt],f[Bn]=c||t&&t[Bn]||null,f[tt]=o,f[ji]=rb(),f[Hi]=u,f[Jl]=l,f[gt]=e.type==2?t[gt]:f,f}function Ib(t,e,n){let r=sn(e,t),i=vb(n),o=t[Gt].rendererFactory,s=Ih(t,Gc(t,i,null,yh(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function yh(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function vh(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ih(t,e){return t[Rr]?t[Xl][et]=e:t[Rr]=e,t[Xl]=e,e}function wb(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Os(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ls(e,o,0,n)}cn(n)}var Ks=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ks||{});function _c(t,e,n,r){let i=K(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Ks.SignalBased)!==0&&(c=e[o][Cr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Wp(e,c,o,r)}finally{K(i)}}var Yn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Yn||{}),bb;function qc(t,e){return bb(t,e)}var Br=new Set,Zc=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Zc||{}),oo=new ne(""),Mp=new Set;function Yc(t){Mp.has(t)||(Mp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var wh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})();var Eb=new ne("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:X(ht)})});function bh(t,e,n){let r=t.get(Eb);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function Cb(t,e){for(let[n,r]of e)bh(t,r.animateFns)}function Np(t,e,n,r){let i=t?.[Ui]?.enter;e!==null&&i&&i.has(n.index)&&Cb(r,i)}function Vr(t,e,n,r,i,o,s,a){if(i!=null){let c,l=!1;yt(i)?c=i:qt(i)&&(l=!0,i=i[mt]);let u=Nt(i);t===0&&r!==null?(Np(a,r,o,n),s==null?hh(e,r,u):Ws(e,r,u,s||null,!0)):t===1&&r!==null?(Np(a,r,o,n),Ws(e,r,u,s||null,!0)):t===2?Ap(a,o,n,f=>{cb(e,u,l,f)}):t===3&&Ap(a,o,n,()=>{e.destroyNode(u)}),c!=null&&Fb(e,t,n,c,o,r,s)}}function Tb(t,e){Eh(t,e),e[mt]=null,e[tt]=null}function xb(t,e,n,r,i,o){r[mt]=i,r[tt]=e,Xs(t,r,n,1,i,o)}function Eh(t,e){e[Gt].changeDetectionScheduler?.notify(9),Xs(t,e,e[nt],2,null,null)}function _b(t){let e=t[Rr];if(!e)return wc(t[z],t);for(;e;){let n=null;if(qt(e))n=e[Rr];else{let r=e[Fe];r&&(n=r)}if(!n){for(;e&&!e[et]&&e!==t;)qt(e)&&wc(e[z],e),e=e[Te];e===null&&(e=t),qt(e)&&wc(e[z],e),n=e&&e[et]}e=n}}function Qc(t,e){let n=t[Wn],r=n.indexOf(e);n.splice(r,1)}function Ch(t,e){if(zn(e))return;let n=e[nt];n.destroyNode&&Xs(t,e,n,3,null,null),_b(e)}function wc(t,e){if(zn(e))return;let n=K(null);try{e[W]&=-129,e[W]|=256,e[qe]&&ls(e[qe]),Mb(t,e),Db(t,e),e[z].type===1&&e[nt].destroy();let r=e[rn];if(r!==null&&yt(e[Te])){r!==e[Te]&&Qc(r,e);let i=e[Dt];i!==null&&i.detachView(t)}Cc(e)}finally{K(n)}}function Ap(t,e,n,r){let i=t?.[Ui];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Br.add(t),bh(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Sb(t,r)}else t&&Br.delete(t),r(!1)},i)}function Sb(t,e){let n=t[Ui]?.running;if(n){n.then(()=>{t[Ui].running=void 0,Br.delete(t),e(!0)});return}e(!1)}function Db(t,e){let n=t.cleanup,r=e[Vi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Vi]=null);let i=e[Wt];if(i!==null){e[Wt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Bi];if(o!==null){e[Bi]=null;for(let s of o)s.destroy()}}function Mb(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ki)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];fe(se.LifecycleHookStart,a,c);try{c.call(a)}finally{fe(se.LifecycleHookEnd,a,c)}}else{fe(se.LifecycleHookStart,i,o);try{o.call(i)}finally{fe(se.LifecycleHookEnd,i,o)}}}}}function Nb(t,e,n){return Ab(t,e.parent,n)}function Ab(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mt];if(zi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===It.None||i===It.Emulated)return null}return sn(r,n)}function kb(t,e,n){return Rb(t,e,n)}function Pb(t,e,n){return t.type&40?sn(t,n):null}var Rb=Pb,kp;function Ob(t,e,n,r){let i=Nb(t,r,e),o=e[nt],s=r.parent||e[tt],a=kb(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Sp(o,i,n[c],a,!1);else Sp(o,i,n,a,!1);kp!==void 0&&kp(o,r,e,n,i)}function Yi(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return Sc(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Yi(t,r);{let i=t[e.index];return yt(i)?Sc(-1,i):Nt(i)}}else{if(n&128)return Yi(t,e.next);if(n&32)return qc(e,t)()||Nt(t[e.index]);{let r=Th(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=nn(t[gt]);return Yi(i,r)}else return Yi(t,e.next)}}}return null}function Th(t,e){if(e!==null){let r=t[gt][tt],i=e.projection;return r.projection[i]}return null}function Sc(t,e){let n=Fe+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Yi(r,i)}return e[on]}function Kc(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Bn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&Xi(Nt(c),r),n.flags|=2),!Wc(n))if(l&8)Kc(t,e,n.child,r,i,o,!1),Vr(e,t,a,i,c,n,o,r);else if(l&32){let u=qc(n,r),f;for(;f=u();)Vr(e,t,a,i,f,n,o,r);Vr(e,t,a,i,c,n,o,r)}else l&16?Lb(t,e,r,n,i,o):Vr(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Xs(t,e,n,r,i,o){Kc(n,r,t.firstChild,e,i,o,!1)}function Lb(t,e,n,r,i,o){let s=n[gt],c=s[tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Vr(e,t,n[Bn],i,u,r,o,n)}else{let l=c,u=s[Te];ih(r)&&(l.flags|=128),Kc(t,e,l,u,i,o,!0)}}function Fb(t,e,n,r,i,o,s){let a=r[on],c=Nt(r);a!==c&&Vr(e,t,n,o,a,i,s);for(let l=Fe;l<r.length;l++){let u=r[l];Xs(u[z],u,t,e,o,a)}}function xh(t,e,n,r,i){let o=dp(),s=r&2;try{cn(-1),s&&e.length>Mt&&wb(t,e,Mt,!1);let a=s?se.TemplateUpdateStart:se.TemplateCreateStart;fe(a,i,n),n(r,i)}finally{cn(o);let a=s?se.TemplateUpdateEnd:se.TemplateCreateEnd;fe(a,i,n)}}function $b(t,e,n){Ub(t,e,n),(n.flags&64)===64&&Wb(t,e,n)}function Hb(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Vb(t,e,n,r){let o=r.get(uh,ch)||n===It.ShadowDom||n===It.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return jb(s),s}function jb(t){Bb(t)}var Bb=()=>null;function Ub(t,e,n){let r=n.directiveStart,i=n.directiveEnd;zi(n)&&Ib(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Kp(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Bs(e,t,s,n);if(Xi(c,e),o!==null&&Gb(e,s-r,c,a,n,o),Lr(a)){let l=an(n.index,e);l[Ge]=Bs(e,t,s,n)}}}function Wb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ap();try{cn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ms(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&zb(c,l)}}finally{cn(-1),Ms(s)}}function zb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Gb(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];_c(r,n,c,l)}}function qb(t,e,n,r,i){let o=Mt+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,Ds(t,!0);let c=t.type===2;return c?(mh(e[nt],a,t),(Qf()===0||jf(t))&&Xi(a,e),Kf()):Xi(a,e),hp()&&(!c||!Wc(t))&&Ob(s,e,a,t),t}function Zb(t){let e=t;return ac()?rp():(e=e.parent,Ds(e,!1)),e}function Yb(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],f=e.data[l];_c(f,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];_c(u,l,r,i),a=!0}return a}function Qb(t,e){let n=an(e,t),r=n[z];Kb(r,n);let i=n[mt];i!==null&&n[Hi]===null&&(n[Hi]=dh(i,n[Bn])),fe(se.ComponentStart);try{Xc(r,n,n[Ge])}finally{fe(se.ComponentEnd,n[Ge])}}function Kb(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xc(t,e,n){As(e);try{let r=t.viewQuery;r!==null&&Tc(1,r,n);let i=t.template;i!==null&&xh(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dt]?.finishViewCreation(t),t.staticContentQueries&&fh(t,e),t.staticViewQueries&&Tc(2,t.viewQuery,n);let o=t.components;o!==null&&Xb(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,ks()}}function Xb(t,e){for(let n=0;n<e.length;n++)Qb(t,e[n])}function Jb(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[W]&4096?4096:16,c=Gc(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[rn]=l;let u=t[Dt];return u!==null&&(c[Dt]=u.createEmbeddedView(o)),Xc(o,c,n),c}finally{K(i)}}function Pp(t,e){return!e||e.firstChild===null||ih(t)}function Ji(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nt(o)),yt(o)&&_h(o,r);let s=n.type;if(s&8)Ji(t,e,n.child,r);else if(s&32){let a=qc(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Th(e,n);if(Array.isArray(a))r.push(...a);else{let c=nn(e[gt]);Ji(c[z],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function _h(t,e){for(let n=Fe;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&Ji(r[z],r,i,e)}t[on]!==t[mt]&&e.push(t[on])}function Sh(t){if(t[xs]!==null){for(let e of t[xs])e.impl.addSequence(e);t[xs].length=0}}var Dh=[];function eE(t){return t[qe]??tE(t)}function tE(t){let e=Dh.pop()??Object.create(rE);return e.lView=t,e}function nE(t){t.lView[qe]!==t&&(t.lView=null,Dh.push(t))}var rE=ft(ke({},cl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Zi(t.lView)},consumerOnSignalRead(){this.lView[qe]=this}});function iE(t){let e=t[qe]??Object.create(oE);return e.lView=t,e}var oE=ft(ke({},cl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=nn(t.lView);for(;e&&!Mh(e[z]);)e=nn(e);e&&rc(e)},consumerOnSignalRead(){this.lView[qe]=this}});function Mh(t){return t.type!==2}function Nh(t){if(t[Bi]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Bi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[W]&8192)}}var sE=100;function Ah(t,e=0){let r=t[Gt].rendererFactory,i=!1;i||r.begin?.();try{aE(t,e)}finally{i||r.end?.()}}function aE(t,e){let n=lc();try{cc(!0),Dc(t,e);let r=0;for(;qi(t);){if(r===sE)throw new J(103,!1);r++,Dc(t,1)}}finally{cc(n)}}function lE(t,e,n,r){if(zn(e))return;let i=e[W],o=!1,s=!1;As(e);let a=!0,c=null,l=null;o||(Mh(t)?(l=eE(e),c=ul(l)):as()===null?(a=!1,l=iE(e),c=ul(l)):e[qe]&&(ls(e[qe]),e[qe]=null));try{nc(e),ip(t.bindingStartIndex),n!==null&&xh(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Os(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ls(e,p,0,null),vc(e,0)}if(s||cE(e),Nh(e),kh(e,0),t.contentQueries!==null&&fh(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Os(e,p)}else{let p=t.contentHooks;p!==null&&Ls(e,p,1),vc(e,1)}dE(t,e);let f=t.components;f!==null&&Rh(e,f,0);let d=t.viewQuery;if(d!==null&&Tc(2,d,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Os(e,p)}else{let p=t.viewHooks;p!==null&&Ls(e,p,2),vc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ts]){for(let p of e[Ts])p();e[Ts]=null}o||(Sh(e),e[W]&=-73)}catch(u){throw o||Zi(e),u}finally{l!==null&&(ef(l,c),a&&nE(l)),ks()}}function kh(t,e){for(let n=sh(t);n!==null;n=ah(n))for(let r=Fe;r<n.length;r++){let i=n[r];Ph(i,e)}}function cE(t){for(let e=sh(t);e!==null;e=ah(e)){if(!(e[W]&2))continue;let n=e[Wn];for(let r=0;r<n.length;r++){let i=n[r];rc(i)}}}function uE(t,e,n){fe(se.ComponentStart);let r=an(e,t);try{Ph(r,n)}finally{fe(se.ComponentEnd,r[Ge])}}function Ph(t,e){_s(t)&&Dc(t,e)}function Dc(t,e){let r=t[z],i=t[W],o=t[qe],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&dl(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)lE(r,t,r.template,t[Ge]);else if(i&8192){let a=K(null);try{Nh(t),kh(t,1);let c=r.components;c!==null&&Rh(t,c,1),Sh(t)}finally{K(a)}}}function Rh(t,e,n){for(let r=0;r<e.length;r++)uE(t,e[r],n)}function dE(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)cn(~i);else{let o=i,s=n[++r],a=n[++r];sp(s,o);let c=e[o];fe(se.HostBindingsUpdateStart,c);try{a(2,c)}finally{fe(se.HostBindingsUpdateEnd,c)}}}}finally{cn(-1)}}function Oh(t,e){let n=lc()?64:1088;for(t[Gt].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=nn(t);if(Fr(t)&&!r)return t;t=r}return null}function fE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pE(t,e,n,r=!0){let i=e[z];if(hE(i,e,t,n),r){let s=Sc(n,t),a=e[nt],c=a.parentNode(t[on]);c!==null&&xb(i,t[tt],a,e,c,s)}let o=e[Hi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mc(t,e){if(t.length<=Fe)return;let n=Fe+e,r=t[n];if(r){let i=r[rn];i!==null&&i!==t&&Qc(i,r),e>0&&(t[n-1][et]=r[et]);let o=Li(t,Fe+e);Tb(r[z],r);let s=o[Dt];s!==null&&s.detachView(o[z]),r[Te]=null,r[et]=null,r[W]&=-129}return r}function hE(t,e,n,r){let i=Fe+r,o=n.length;r>0&&(n[i-1][et]=e),r<o-Fe?(e[et]=n[i],ql(n,Fe+r,e)):(n.push(e),e[et]=null),e[Te]=n;let s=e[rn];s!==null&&n!==s&&Lh(s,e);let a=e[Dt];a!==null&&a.insertView(t),Ss(e),e[W]|=128}function Lh(t,e){let n=t[Wn],r=e[Te];if(qt(r))t[W]|=2;else{let i=r[Te][gt];e[gt]!==i&&(t[W]|=2)}n===null?t[Wn]=[e]:n.push(e)}var Ur=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return Ji(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return zn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(yt(e)){let n=e[Wi],r=n?n.indexOf(this):-1;r>-1&&(Mc(e,r),Li(n,r))}this._attachedToViewContainer=!1}Ch(this._lView[z],this._lView)}onDestroy(e){ic(this._lView,e)}markForCheck(){Oh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Ss(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,Ah(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fr(this._lView),n=this._lView[rn];n!==null&&!e&&Qc(n,this._lView),Eh(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=Fr(this._lView),r=this._lView[rn];r!==null&&!n&&Lh(r,this._lView),Ss(this._lView)}};var eo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=mE;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Jb(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ur(o)}}return t})();function mE(){return Jc(ln(),rt())}function Jc(t,e){return t.type&4?new eo(e,t,Wr(t,e)):null}function Fh(t,e,n,r,i){let o=t.data[e];if(o===null)o=gE(t,e,n,r,i),op()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=np();o.injectorIndex=s===null?-1:s.injectorIndex}return Ds(o,!0),o}function gE(t,e,n,r,i){let o=sc(),s=ac(),a=s?o:o&&o.parent,c=t.data[e]=vE(t,a,n,e,r,i);return yE(t,c,o,s),c}function yE(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function vE(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Jf()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var IE=()=>null;function Rp(t,e){return IE(t,e)}var $h=class{},Js=class{},Nc=class{resolveComponentFactory(e){throw new J(917,!1)}},ea=class{static NULL=new Nc},Zn=class{};var Hh=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:()=>null})}return t})();var $s={},Ac=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,$s,r);return i!==$s||n===$s?i:this.parentInjector.get(e,n,r)}};function zs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hl(i,a);else if(o==2){let c=a,l=e[++s];r=Hl(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Vh(t,e=0){let n=rt();if(n===null)return ce(t,e);let r=ln();return th(r,n,Je(t),e)}function wE(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}CE(t,e,n,a,o,c,l)}o!==null&&r!==null&&bE(n,r,o)}function bE(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}function EE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function CE(t,e,n,r,i,o,s){let a=r.length,c=null;for(let d=0;d<a;d++){let p=r[d];c===null&&Lr(p)&&(c=p,EE(t,n,d)),Zw(Kp(n,e),t,p.type)}ME(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let d=0;d<a;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,f=vh(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let d=0;d<a;d++){let p=r[d];if(n.mergedAttrs=Vc(n.mergedAttrs,p.hostAttrs),xE(t,n,e,f,p),DE(f,p,i),s!==null&&s.has(p)){let[C,I]=s.get(p);n.directiveToIndex.set(p.type,[f,C+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let h=p.type.prototype;!l&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}TE(t,n,o)}function TE(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Op(0,e,i,r),Op(1,e,i,r),Fp(e,r,!1);else{let o=n.get(i);Lp(0,e,o,r),Lp(1,e,o,r),Fp(e,r,!0)}}}function Op(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),jh(e,o)}}function Lp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),jh(e,s)}}function jh(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Fp(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||pb(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function xE(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ar(i.type,!0)),s=new Ki(o,Lr(i),Vh,null);t.blueprint[r]=s,n[r]=s,_E(t,e,r,vh(t,n,i.hostVars,zc),i)}function _E(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;SE(s)!=a&&s.push(a),s.push(n,r,o)}}function SE(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function DE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lr(e)&&(n[""]=t)}}function ME(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NE(t,e,n,r,i,o,s,a){let c=e[z],l=c.consts,u=Gi(l,s),f=Fh(c,t,n,r,u);return o&&wE(c,e,f,Gi(l,a),i),f.mergedAttrs=Vc(f.mergedAttrs,f.attrs),f.attrs!==null&&zs(f,f.attrs,!1),f.mergedAttrs!==null&&zs(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function AE(t,e){Vw(t,e),ec(e)&&t.queries.elementEnd(e)}function kE(t,e,n,r,i,o){let s=e.consts,a=Gi(s,i),c=Fh(e,t,n,r,a);if(c.mergedAttrs=Vc(c.mergedAttrs,c.attrs),o!=null){let l=Gi(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&zs(c,c.attrs,!1),c.mergedAttrs!==null&&zs(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}var kc=Symbol("BINDING");var Pc=class extends ea{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hn(e);return new to(n,this.ngModule)}};function PE(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ks.SignalBased)!==0};return i&&(o.transform=i),o})}function RE(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function OE(t,e,n){let r=e instanceof ht?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ac(n,r):n}function LE(t){let e=t.get(Zn,null);if(e===null)throw new J(407,!1);let n=t.get(Hh,null),r=t.get($n,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function FE(t,e){let n=Bh(t);return ph(e,n,n==="svg"?Bf:n==="math"?Uf:null)}function Bh(t){return(t.selectors[0][0]||"div").toLowerCase()}var to=class extends Js{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=PE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=RE(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=mb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){fe(se.DynamicComponentStart);let a=K(null);try{let c=this.componentDef,l=$E(r,c,s,o),u=OE(c,i||this.ngModule,e),f=LE(u),d=f.rendererFactory.createRenderer(null,c),p=r?Vb(d,r,c.encapsulation,u):FE(c,d),h=s?.some($p)||o?.some(b=>typeof b!="function"&&b.bindings.some($p)),C=Gc(null,l,null,512|yh(c),null,null,f,d,u,null,dh(p,u,!0));C[Mt]=p,As(C);let I=null;try{let b=NE(Mt,C,2,"#host",()=>l.directiveRegistry,!0,0);mh(d,p,b),Xi(p,C),$b(l,C,b),lb(l,b,C),AE(l,b),n!==void 0&&VE(b,this.ngContentSelectors,n),I=an(b.index,C),C[Ge]=I[Ge],Xc(l,C,null)}catch(b){throw I!==null&&Cc(I),Cc(C),b}finally{fe(se.DynamicComponentEnd),ks()}return new Gs(this.componentType,C,!!h)}finally{K(a)}}};function $E(t,e,n,r){let i=t?["ng-version","21.0.6"]:gb(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[kc].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let d of f.bindings){a+=d[kc].requiredVars;let p=u+1;d.create&&(d.targetIdx=p,(o??=[]).push(d)),d.update&&(d.targetIdx=p,(s??=[]).push(d))}}let c=[e];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,d=Ul(f);c.push(d)}return gh(0,null,HE(o,s),1,a,c,null,null,null,[i],null)}function HE(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function $p(t){let e=t[kc].kind;return e==="input"||e==="twoWay"}var Gs=class extends $h{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=tc(n[z],Mt),this.location=Wr(this._tNode,n),this.instance=an(this._tNode.index,n)[Ge],this.hostView=this.changeDetectorRef=new Ur(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Yb(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=an(r.index,i);Oh(s,1)}get injector(){return new qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VE(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ta=(()=>{class t{static __NG_ELEMENT_ID__=jE}return t})();function jE(){let t=ln();return Wh(t,rt())}var BE=ta,Uh=class extends BE{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wr(this._hostTNode,this._hostLView)}get injector(){return new qn(this._hostTNode,this._hostLView)}get parentInjector(){let e=jc(this._hostTNode,this._hostLView);if(Zp(e)){let n=js(e,this._hostLView),r=Vs(e),i=n[z].data[r+8];return new qn(i,n)}else return new qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Fe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Rp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Pp(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!Rw(e),l;if(c)l=n;else{let I=n||{};l=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let u=c?e:new to(Hn(e)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?f:this.parentInjector).get(ht,null);b&&(o=b)}let d=Hn(u.componentType??{}),p=Rp(this._lContainer,d?.id??null),h=p?.firstChild??null,C=u.create(f,i,h,o,s,a);return this.insertImpl(C.hostView,l,Pp(this._hostTNode,p)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zf(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Te],l=new Uh(c,c[tt],c[Te]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return pE(s,i,o,r),e.attachToViewContainerRef(),ql(bc(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mc(this._lContainer,n);r&&(Li(bc(this._lContainer),n),Ch(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mc(this._lContainer,n);return r&&Li(bc(this._lContainer),n)!=null?new Ur(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hp(t){return t[Wi]}function bc(t){return t[Wi]||(t[Wi]=[])}function Wh(t,e){let n,r=e[t.index];return yt(r)?n=r:(n=fE(r,e,null,t),e[t.index]=n,Ih(e,n)),WE(n,e,t,r),new Uh(n,t,e)}function UE(t,e){let n=t[nt],r=n.createComment(""),i=sn(e,t),o=n.parentNode(i);return Ws(n,o,r,n.nextSibling(i),!1),r}var WE=zE;function zE(t,e,n,r){if(t[on])return;let i;n.type&8?i=Nt(r):i=UE(e,n),t[on]=i}var Rc=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Oc=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)eu(e,n).matches!==null&&this.queries[n].setDirty()}},Lc=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=JE(e):this.predicate=e}},Fc=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$c=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,GE(n,o)),this.matchTNodeWithReadOption(e,n,Fs(n,e,o,!1,!1))}else r===eo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Fs(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ro||i===ta||i===eo&&n.type&4)this.addMatch(n.index,-2);else{let o=Fs(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function GE(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function qE(t,e){return t.type&11?Wr(t,e):t.type&4?Jc(t,e):null}function ZE(t,e,n,r){return n===-1?qE(e,t):n===-2?YE(t,e,r):Bs(t,t[z],n,e)}function YE(t,e,n){if(n===ro)return Wr(e,t);if(n===eo)return Jc(e,t);if(n===ta)return Wh(e,t)}function zh(t,e,n,r){let i=e[Dt].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(ZE(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Hc(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=zh(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let f=Fe;f<u.length;f++){let d=u[f];d[rn]===d[Te]&&Hc(d[z],d,l,r)}if(u[Wn]!==null){let f=u[Wn];for(let d=0;d<f.length;d++){let p=f[d];Hc(p[z],p,l,r)}}}}}return r}function QE(t,e){return t[Dt].queries[e].queryList}function KE(t,e,n){let r=new Us((n&4)===4);return Yf(t,e,r,r.destroy),(e[Dt]??=new Oc).queries.push(new Rc(r))-1}function XE(t,e,n){let r=oc();return r.firstCreatePass&&(eC(r,new Lc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),KE(r,rt(),e)}function JE(t){return t.split(",").map(e=>e.trim())}function eC(t,e,n){t.queries===null&&(t.queries=new Fc),t.queries.track(new $c(e,n))}function eu(t,e){return t.queries.getByIndex(e)}function tC(t,e){let n=t[z],r=eu(n,e);return r.crossesNgTemplate?Hc(n,t,e,[]):zh(n,t,r,e)}var qs=class{};var no=class extends qs{injector;componentFactoryResolver=new Pc(this);instance=null;constructor(e){super();let n=new kr([...e.providers,{provide:qs,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],e.parent||$i(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gh(t,e,n=null){return new no({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var nC=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ql(!1,n.type),i=r.length>0?Gh([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ve({token:t,providedIn:"environment",factory:()=>new t(ce(ht))})}return t})();function tu(t){return Up(()=>{let e=sC(t),n=ft(ke({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(nC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,styles:t.styles||Ln,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Yc("NgStandalone"),aC(n);let r=t.dependencies;return n.directiveDefs=Vp(r,rC),n.pipeDefs=Vp(r,Sf),n.id=lC(n),n})}function rC(t){return Hn(t)||Ul(t)}function iC(t,e){if(t==null)return Vn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ks.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function oC(t){if(t==null)return Vn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function sC(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Vn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:iC(t.inputs,e),outputs:oC(t.outputs),debugInfo:null}}function aC(t){t.features?.forEach(e=>e(t))}function Vp(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function lC(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var nu=new ne("");function ru(t){return!!t&&typeof t.then=="function"}function qh(t){return!!t&&typeof t.subscribe=="function"}var Zh=new ne("");var iu=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=X(Zh,{optional:!0})??[];injector=X(Fn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Cs(this.injector,i);if(ru(o))n.push(o);else if(qh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yh=new ne("");function Qh(){pl(()=>{let t="";throw new J(600,t)})}function Kh(t){return t.isBoundToModule}var cC=10;var so=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X($r);afterRenderManager=X(wh);zonelessEnabled=X(Hr);rootEffectScheduler=X(Ip);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=X(Gn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(bl(n=>!n))}constructor(){X(oo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=X(ht);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Fn.NULL){return this._injector.get(be).run(()=>{fe(se.BootstrapComponentStart);let s=n instanceof Js;if(!this._injector.get(iu).done){let h="";throw new J(405,h)}let c;s?c=n:c=this._injector.get(ea).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Kh(c)?void 0:this._injector.get(qs),u=r||c.selector,f=c.create(i,[],u,l),d=f.location.nativeElement,p=f.injector.get(nu,null);return p?.registerApplication(d),f.onDestroy(()=>{this.detachView(f.hostView),Qi(this.components,f),p?.unregisterApplication(d)}),this._loadComponent(f),fe(se.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(se.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Zc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw fe(se.ChangeDetectionEnd),new J(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),fe(se.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<cC;){fe(se.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{fe(se.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!qi(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ah(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>qi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qi(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Yh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qi(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var gk=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ao(t,e,n,r){let i=rt(),o=i[z],s=t+Mt,a=o.firstCreatePass?kE(s,o,2,e,n,r):o.data[s];return qb(a,i,t,e,uC),r!=null&&Hb(i,a),ao}function lo(){let t=ln(),e=Zb(t);return ep(e)&&tp(),Xf(),lo}function na(t,e,n,r){return ao(t,e,n,r),lo(),na}var uC=(t,e,n,r,i)=>(mp(!0),ph(e[nt],r,fp()));var co="en-US";var dC=co;function Xh(t){typeof t=="string"&&(dC=t.toLowerCase().replace(/_/g,"-"))}function ra(t,e,n){return XE(t,e,n),ra}function ia(t){let e=rt(),n=oc(),r=uc();Ns(r+1);let i=eu(n,r);if(t.dirty&&Wf(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=tC(e,r);t.reset(o,eb),t.notifyOnChanges()}return!0}return!1}function oa(){return QE(rt(),uc())}var Jh=(()=>{class t{applicationErrorHandler=X($r);appRef=X(so);taskService=X(Gn);ngZone=X(be);zonelessEnabled=X(Hr);tracing=X(oo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Oi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Rs,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?mc:hc;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Oi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function em(){return[{provide:$n,useExisting:Jh},{provide:be,useClass:ws},{provide:Hr,useValue:!0}]}function fC(){return typeof $localize<"u"&&$localize.locale||co}var ou=new ne("",{factory:()=>X(ou,{optional:!0,skipSelf:!0})||fC()});var IC=(()=>{class t{zone=X(be);changeDetectionScheduler=X($n);applicationRef=X(so);applicationErrorHandler=X($r);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wC=new ne("",{factory:()=>!1});function bC({ngZoneFactory:t,scheduleInRootZone:e}){return t??=()=>new be(ft(ke({},nm()),{scheduleInRootZone:e})),[{provide:Hr,useValue:!1},{provide:be,useFactory:t},{provide:jn,multi:!0,useFactory:()=>{let n=X(IC,{optional:!0});return()=>n.initialize()}},{provide:jn,multi:!0,useFactory:()=>{let n=X(EC);return()=>{n.initialize()}}},{provide:Rs,useValue:e??pc}]}function tm(t){let e=t?.scheduleInRootZone,n=bC({ngZoneFactory:()=>{let r=nm(t);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&Yc("NgZone_CoalesceEvent"),new be(r)},scheduleInRootZone:e});return Yl([{provide:wC,useValue:!0},n])}function nm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var EC=(()=>{class t{subscription=new Ne;initialized=!1;zone=X(be);pendingTasks=X(Gn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var su=new ne(""),CC=new ne("");function uo(t){return!t.moduleRef}function TC(t){let e=uo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{uo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($r),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),uo(t)){let o=()=>e.destroy(),s=t.platformInjector.get(su);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(su);s.add(o),t.moduleRef.onDestroy(()=>{Qi(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return _C(r,n,()=>{let o=e.get(Gn),s=o.add(),a=e.get(iu);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ou,co);if(Xh(c||co),!e.get(CC,!0))return uo(t)?e.get(so):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(uo(t)){let u=e.get(so);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return xC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var xC;function _C(t,e,n){try{let r=n();return ru(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var sa=null;function SC(t=[],e){return Fn.create({name:e,providers:[{provide:Fi,useValue:"platform"},{provide:su,useValue:new Set([()=>sa=null])},...t]})}function DC(t=[]){if(sa)return sa;let e=SC(t);return sa=e,Qh(),MC(e),e}function MC(t){let e=t.get(Ys,null);Cs(t,()=>{e?.forEach(n=>n())})}function rm(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;fe(se.BootstrapApplicationStart);try{let o=i?.injector??DC(r),s=[em(),vp,...n||[]],a=new no({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return TC({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{fe(se.BootstrapApplicationEnd)}}var im=null;function po(){return im}function lu(t){im??=t}var fo=class{};function cu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ho=class{};var om="browser";var mo=class{_doc;constructor(e){this._doc=e}manager},aa=(()=>{class t extends mo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ce(vt))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),ua=new ne(""),pu=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof aa));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof aa);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ce(ua),ce(be))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),uu="ng-app-id";function sm(t){for(let e of t)e.remove()}function am(t,e){let n=e.createElement("style");return n.textContent=t,n}function NC(t,e,n,r){let i=t.head?.querySelectorAll(`style[${uu}="${e}"],link[${uu}="${e}"]`);if(i)for(let o of i)o.removeAttribute(uu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function fu(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var hu=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,NC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,am);r?.forEach(i=>this.addUsage(i,this.external,fu))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(sm(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])sm(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,am(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,fu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ce(vt),ce(Zs),ce(Qs,8),ce(io))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),du={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mu=/%COMP%/g;var cm="%COMP%",AC=`_nghost-${cm}`,kC=`_ngcontent-${cm}`,PC=!0,RC=new ne("",{factory:()=>PC});function OC(t){return kC.replace(mu,t)}function LC(t){return AC.replace(mu,t)}function um(t,e){return e.map(n=>n.replace(mu,t))}var gu=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new go(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof ca?i.applyToHost(n):i instanceof yo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case It.Emulated:o=new ca(c,l,r,this.appId,u,s,a,f);break;case It.ShadowDom:return new la(c,n,r,s,a,this.nonce,f,l);case It.ExperimentalIsolatedShadowDom:return new la(c,n,r,s,a,this.nonce,f);default:o=new yo(c,l,r,u,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ce(pu),ce(hu),ce(Zs),ce(RC),ce(vt),ce(be),ce(Qs),ce(oo,8))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),go=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(du[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lm(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lm(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=du[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=du[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,i&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=po().getGlobalEventTarget(this.doc,e),!e))throw new J(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function lm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var la=class extends go{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=um(r.id,l);for(let f of l){let d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=f,this.shadowRoot.appendChild(d)}let u=r.getExternalStyles?.();if(u)for(let f of u){let d=fu(f,i);s&&d.setAttribute("nonce",s),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},yo=class extends go{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?um(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Br.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ca=class extends yo{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=OC(l),this.hostAttr=LC(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var da=class t extends fo{supportsDOMEvents=!0;static makeCurrent(){lu(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=FC();return n==null?null:$C(n)}resetBaseElement(){vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cu(document.cookie,e)}},vo=null;function FC(){return vo=vo||document.head.querySelector("base"),vo?vo.getAttribute("href"):null}function $C(t){return new URL(t,document.baseURI).pathname}var HC=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),dm=["alt","control","meta","shift"],VC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fm=(()=>{class t extends mo{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>po().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dm.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=VC[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dm.forEach(s=>{if(s!==i){let a=jC[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ce(vt))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})();function yu(t,e,n){let r=ke({rootComponent:t,platformRef:n?.platformRef},BC(e));return rm(r)}function BC(t){return{appProviders:[...qC,...t?.providers??[]],platformProviders:GC}}function UC(){da.makeCurrent()}function WC(){return new zt}function zC(){return Uc(document),document}var GC=[{provide:io,useValue:om},{provide:Ys,useValue:UC,multi:!0},{provide:vt,useFactory:zC}];var qC=[{provide:Fi,useValue:"root"},{provide:zt,useFactory:WC},{provide:ua,useClass:aa,multi:!0},{provide:ua,useClass:fm,multi:!0},gu,hu,pu,{provide:Zn,useExisting:gu},{provide:ho,useClass:HC},[]];var y=class t{x;y;constructor(e,n){this.x=e||0,this.y=n||0}get width(){return this.x}set width(e){this.x=e}get left(){return this.x}get height(){return this.y}set height(e){this.y=e}get top(){return this.y}add(e){return new t(this.x+e.x,this.y+e.y)}sub(e){return this.add(e.mul(-1))}mul(e){return new t(this.x*e,this.y*e)}div(e){return this.mul(1/e)}clone(){return new t(this.x,this.y)}get normal(){return new t(pm(this.x),pm(this.y))}};function pm(t){return t>0?1:t<0?-1:0}var ye=class{_phase=0;_propagationStopped=!1;_target;_source=null;stopPropagation(){this._propagationStopped=!0,this.destroy()}get propagationStopped(){return this._propagationStopped}get target(){return this._target}set target(e){if(this._target!==void 0)throw new Error("Event target already set!");this._target=e,this._phase=0}get source(){return this._source}set source(e){if(this._source!==null)throw new Error("Event source already set!");this._source=e}get phase(){return this._phase}capture(){this._phase=1}destroy(){this._target=null,this._source=null}};var un=class extends ye{};var Qn=class extends ye{};var Pe=class{_eventHandlers=new Map;on(e,n){let r=this._eventHandlers.get(e)||new Set;r.has(n)||(r.add(n),this._eventHandlers.set(e,r))}off(e,n){let r=this._eventHandlers.get(e)||new Set;r.delete(n),this._eventHandlers.set(e,r)}handleEvent(e){e.source===null&&(e.source=this);for(let[n,r]of this._eventHandlers)if(e instanceof n){for(let i of r)if(i(e),e.propagationStopped)return}}};var dn=class extends Pe{_parent;_children=[];_depthSortedChildrenCache;_childrenCacheDirty=!0;_visible=!0;constructor(e){super(),e&&e.forEach(n=>this.addChild(n))}set isVisible(e){this._visible=e}get isVisible(){if(!this._visible)return!1;let e=this.parent;return e?e.isVisible:!0}get childrenWithDepth(){return this._children}get children(){return this._children.map(e=>e.element)}get depthSortedChildren(){return(this._childrenCacheDirty||!this._depthSortedChildrenCache)&&(this._depthSortedChildrenCache=this._children.sort((e,n)=>e.depth-n.depth).map(e=>e.element),this._childrenCacheDirty=!1),this._depthSortedChildrenCache}get parent(){return this._parent}set parent(e){if(this._parent!==void 0)throw new Error("Cannot set parent while one already set! First remove this child from existing parent.");this._parent=e}get rootElement(){return this._parent===void 0?this:this._parent.rootElement}clearParent(){this._parent=void 0}addChild(e,n=0){this._children.push({element:e,depth:n}),this._childrenCacheDirty=!0,e.parent=this,e.dispatchEvent(new un)}removeChild(e){this._children=this._children.filter(n=>n.element!==e),this._childrenCacheDirty=!0,e.dispatchEvent(new Qn),e.clearParent()}removeAllChildren(){this._children.forEach(e=>{e.element.dispatchEvent(new Qn),e.element.removeAllChildren(),e.element.clearParent()}),this._children=[],this._childrenCacheDirty=!0}remove(){if(this._parent===void 0)throw new Error("Cannot remove, no parent set!");this._parent.removeChild(this)}dispatchEvent(e){if(e.target===void 0){e.target=this,this.rootElement.dispatchEvent(e);return}if(super.handleEvent(e),!e.propagationStopped&&!(e.target===this&&(e.capture(),super.handleEvent(e),e.propagationStopped))&&e.phase===0){this._children.length===0&&e.destroy();for(let n of this._children)if(n.element.dispatchEvent(e),e.propagationStopped)return}}};var kt=class extends dn{};function hm(t,e,n=!1){let r=n?t.depthSortedChildren:t.children;for(let i of r)e(i),hm(i,e,n)}var ee=class{static childrenByType(e,n,r=!1,i=!1){if(!r){let a=[];return hm(n,c=>{c instanceof e&&a.push(c)},!1),a}let o=[];function s(a,c){for(let l of a.childrenWithDepth){let u=l.element,f=c+l.depth;i&&!u.isVisible||(u instanceof e&&o.push({element:u,depth:f}),s(u,f))}}return s(n,0),o.sort((a,c)=>a.depth-c.depth),o.map(a=>a.element)}static parentByType(e,n){if(n.parent instanceof e)return n.parent;if(n.parent)return this.parentByType(e,n.parent)}};var fn=class{constructor(e){this.workFn=e;this.maxFps=10,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,document.addEventListener("visibilitychange",()=>{document.hidden?this.stopRequested=!0:this.start(this.maxFps)})}maxFps;fpsInterval;previousTime;adjustedPreviousTime;stopRequested;start(e){this.maxFps=e,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,requestAnimationFrame(this.workLoop.bind(this))}workLoop(e){if(!this.stopRequested){if(this.previousTime===0)this.previousTime=e,this.adjustedPreviousTime=e;else{let n=e-this.adjustedPreviousTime;n>=this.fpsInterval&&(this.workFn(e,e-this.previousTime),this.adjustedPreviousTime=e-n%this.fpsInterval,this.previousTime=e)}requestAnimationFrame(this.workLoop.bind(this))}}computeFpsInterval(){return 1e3/this.maxFps}};var ie=class{static _data=new Map;static get(e){return this._data.get(e)}static set(e,n){this._data.set(e,n)}};var pn=class extends ye{constructor(n){super();this.scene=n}};var zr=class extends Pe{constructor(n,r,i,o){super();this.viewport=n;this.renderer=r;this.physicsSimulation=i;this.inputDevices=o;r.setViewport(n),i.setViewport(n)}loadScene(n){this.renderer.setRootElement(n),this.physicsSimulation.setRootElement(n),this.inputDevices.forEach(r=>r.setRootElement(n)),this.handleEvent(new pn(n))}start(n,r){this.renderer.start(n),this.physicsSimulation.start(r)}};var hn=class extends Pe{rootElement;setRootElement(e){this.rootElement=e}dispatchEvent(e){e.target=null,this.rootElement?.dispatchEvent(e)}};var $e=class extends ye{};var xe=class extends $e{constructor(n,r){super();this.key=n;this.action=r}},Gr=class extends hn{constructor(e){super(),e.addEventListener("keydown",this.eventHandler.bind(this)),e.addEventListener("keyup",this.eventHandler.bind(this))}eventHandler(e){this.dispatchEvent(new xe(e.key,e.type==="keydown"?0:1))}};var ZC=[0,2,1];var mn=class extends $e{constructor(n,r,i){super();this.button=n;this.action=r;this.point=i}},Pt=class extends $e{constructor(n){super();this.point=n}},qr=class extends hn{constructor(n,r){super();this.getLocalPoint=r;n.addEventListener("mousedown",this.inputEventHandler.bind(this)),n.addEventListener("mouseup",this.inputEventHandler.bind(this)),n.addEventListener("mousemove",this.moveEventHandler.bind(this))}inputEventHandler(n){for(let r of ZC)n.button===r&&this.dispatchEvent(new mn(r,n.type==="mousedown"?0:1,this.getLocalPoint(new y(n.x,n.y))))}moveEventHandler(n){this.dispatchEvent(new Pt(this.getLocalPoint(new y(n.x,n.y))))}};var Zr=class extends $e{constructor(n,r){super();this.type=n;this.meta=r}},Yr=class extends Pe{constructor(n){super();this.element=n}trigger(n,r){let i={when:o=>(this.element.on(o.type,s=>{o.condition(s)&&this.handleEvent(new Zr(n,r))}),i)};return i}};var fa=class extends ye{},Qr=class extends Pe{inputMapper;_state=new Map;constructor(e){super(),this.inputMapper=new Yr(e),this.inputMapper.on(Zr,n=>{let r=n.meta==="on";r!==this._state.get(n.type)&&(this._state.set(n.type,r),this.handleEvent(new fa))})}setOn(e){return this.inputMapper.trigger(e,"on")}setOff(e){return this.inputMapper.trigger(e,"off")}onChange(e){this.on(fa,()=>{e(this._state)})}get state(){return this._state}};var Kn=class extends $e{constructor(n){super();this.point=n}},Xn=class extends $e{constructor(n){super();this.point=n}},Jn=class extends $e{constructor(n,r){super();this.button=n;this.point=r}};var Kr=class extends Pe{constructor(n){super();this._target=n;this.setupListeners()}isHovered=!1;get target(){return this._target}setupListeners(){this.target.rootElement.on(Pt,this.handleMouseMove.bind(this)),this.target.rootElement.on(mn,this.handleMouseInput.bind(this))}handleMouseMove(n){if(!(n instanceof Pt))return;let r=this.isPointInBounds(n.point);r&&!this.isHovered?(this.isHovered=!0,this.handleEvent(new Kn(n.point))):!r&&this.isHovered&&(this.isHovered=!1,this.handleEvent(new Xn(n.point)))}handleMouseInput(n){n instanceof mn&&n.action===1&&this.isHovered&&this.handleEvent(new Jn(n.button,n.point))}isPointInBounds(n){let r=this.target.position,i=this.target.width,o=this.target.height;return n.x>=r.x&&n.x<=r.x+i&&n.y>=r.y&&n.y<=r.y+o}destroy(){this.target.rootElement.off(Pt,this.handleMouseMove.bind(this)),this.target.rootElement.off(mn,this.handleMouseInput.bind(this))}};var it=class extends dn{draw(e){}};function gn(t){return"item"in t&&"position"in t}var V=class t extends it{_position;_translation;_opacity=1;_scale=new y(1,1);_fillColor=void 0;clipRegion=void 0;cacheable=!1;constructor(e,n){super(n),this._position=e||new y,this._translation=new y}get cacheKey(){}get hasCacheableParent(){let e=ee.parentByType(t,this);return e?e.cacheable&&e.cacheKey?!0:e.hasCacheableParent:!1}get opacity(){let e=this._opacity,n=ee.parentByType(t,this);return n&&(e*=n.opacity),e}set opacity(e){this._opacity=e}get scale(){let e=this._scale,n=ee.parentByType(t,this);return n&&(e=new y(e.x*n.scale.x,e.y*n.scale.y)),e}set scale(e){this._scale=e}get ownPosition(){return this._position.add(this._translation)}get position(){let e=this.ownPosition,n=ee.parentByType(t,this);return n?n.position.add(e):e}set position(e){this._position=e}set translation(e){this._translation=e}get fillColor(){if(this._fillColor!==void 0)return this._fillColor;let e=ee.parentByType(t,this);if(e)return e.fillColor}set fillColor(e){this._fillColor=e}get width(){return 0}get height(){return 0}get size(){return new y(this.width,this.height)}};function QC(t,e){let n=new Image;n.onload=()=>Y(null,null,function*(){let{naturalWidth:r,naturalHeight:i}=n,s=new OffscreenCanvas(r,i).getContext("2d");if(s){s.drawImage(n,0,0);let a=yield createImageBitmap(s.getImageData(0,0,r,i));e(a)}}),n.src=t}var Ze=class t{static nextId=0;id;data=new Image;width=0;height=0;constructor(){this.id=`tex_${t.nextId++}`}static empty(){return new t}static load(e){let n=new t;return QC(e,r=>{n.data=r,n.width=r.width,n.height=r.height}),n}static fromImageBitmap(e){let n=new t;return n.data=e,n.width=e.width,n.height=e.height,n}toOffscreenCanvas(){let e=new OffscreenCanvas(this.width,this.height);return e.getContext("2d")?.drawImage(this.data,0,0),e}};var wt=class{cache=new Map;get(e,n){return Y(this,null,function*(){let r=this.cache.get(e);return r||(r=n(),this.cache.set(e,r)),r})}};var vu=class{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){let n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){let n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}},bt=new Map,er="___parser_",Et={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},pa={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},ha={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},pe=class t{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new t}primitiveGenerateN(e,n){let r=pa[e],i=ha[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Et[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return bt.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!bt.has(n.type)&&!(n.type in Et))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!bt.has(o)&&!(o in Et))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof t)&&!bt.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof t)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Et)&&!bt.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){let n=new vu(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${er+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${er+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){let n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=bt.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){let e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Et).indexOf(this.type)>=0)e=Et[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Et[this.options.type]:this.options.type instanceof t&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){let i=new t;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}let n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;let n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);let i=(u=0)=>{let f=0;for(let d=u;d<e.bitFields.length;d++){let p=e.bitFields[d].options.length;if(f+p>32)break;f+=p}return f},o=u=>(u<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),u=32),e.pushCode(`offset += ${u/8};`),u),s=0,a=this.endian==="be",c=0,l=0;e.bitFields.forEach((u,f)=>{let d=u.options.length;if(d>l){if(l){let C=-1>>>32-l;e.pushCode(`${u.varName} = (${r} & 0x${C.toString(16)}) << ${d-l};`),d-=l}s=0,l=c=o(i(f)-l)}let p=a?c-s-d:s,h=-1>>>32-d;e.pushCode(`${u.varName} ${d<u.options.length?"|=":"="} ${r} >> ${p} & 0x${h.toString(16)};`),u.options.length===32&&e.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(e),u.options.formatter&&u.generateFormatter(e,u.varName,u.options.formatter),s+=d,l-=d}),e.bitFields=[]}}generateSeek(e){let n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let c=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${c}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${c}));`)}else if(this.options.length){let a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){let n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);let s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{let r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){let n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),c=this.options.key,l=typeof c=="string";if(l?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(bt.get(i)){let u=e.generateTmpVariable();if(e.pushCode(`var ${u} = ${er+i}(offset, {`),e.useContextVariables){let f=e.generateVariable();e.pushCode(`$parent: ${f},`),e.pushCode(`$root: ${f}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&e.addReference(i)}else{let u=pa[i],f=ha[i];e.pushCode(`var ${a} = dataView.get${u}(offset, ${f});`),e.pushCode(`offset += ${Et[i]};`)}else if(i instanceof t){e.pushCode(`var ${a} = {};`);let u=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${u};`),e.pushCode(`${a}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(l?e.pushCode(`${s}[${a}.${c}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,f=e.addImport(u);e.pushCode(`while (!${f}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){let i=e.generateVariable(this.varName);if(bt.has(r)){let o=e.generateTmpVariable();e.pushCode(`var ${o} = ${er+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{let o=pa[r],s=ha[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${Et[r]}`)}}else r instanceof t&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){let n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){let i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){let n=e.generateVariable(this.varName);if(this.options.type instanceof t){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){let r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(bt.has(this.options.type)){let r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${er+this.options.type}(offset, {`),e.useContextVariables){let i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){let c=this.options.readUntil,l=e.generateTmpVariable(),u=e.generateTmpVariable();e.pushCode(`var ${l} = offset;`),e.pushCode(`var ${u} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${u} = dataView.getUint8(offset);`);let f=e.addImport(c);e.pushCode(`if (${f}.call(${e.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{let c=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${c});`),e.pushCode(`offset += ${c};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);let i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof t)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(bt.has(this.options.type)){let c=e.generateTmpVariable();e.pushCode(`var ${c} = ${er+this.options.type}(0);`),e.pushCode(`${n} = ${c}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){let i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){let n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof t){if(e.pushCode(`${o} = {};`),e.useContextVariables){let s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(bt.has(this.options.type)){let s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${er+this.options.type}(offset, {`),e.useContextVariables){let a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Et).indexOf(this.options.type)>=0){let s=pa[n],a=ha[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${Et[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){let n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};var KC=new pe().endianness("little").array("data",{type:"uint8",lengthInBytes:function(){return this.$parent.size-6}}),XC=new pe().endianness("little").uint8("red").uint8("green").uint8("blue"),JC=new pe().endianness("little").uint8("red").uint8("green").uint8("blue").uint8("alpha"),ma=new pe().endianness("little").uint16("length").string("value",{length:"length"}),gm=new pe().endianness("little").uint16("numberOfPackets").array("packets",{type:new pe().endianness("little").uint8("entriesToSkip").uint8("numberOfColors").array("colors",{type:XC,length:function(){return this.numberOfColors||256}}),length:"numberOfPackets"}),eT=new pe().endianness("little").uint32("size").uint32("firstIndex").uint32("lastIndex").seek(8).array("colors",{type:new pe().endianness("little").uint16("flags").nest("color",{type:JC}).array("name",{type:ma,length:function(){return this.flags===1?1:0}}),length:function(){return this.lastIndex-this.firstIndex+1}}),tT=new pe().endianness("little").uint16("flags").uint16("type").uint16("childLevel").uint16("ignored").uint16("ignored").uint16("blendMode").uint8("opacity").seek(3).nest("name",{type:ma}).array("tilesetIndex",{type:"uint32le",length:function(){return this.type===2?1:0}}),nT=new pe().endianness("little").uint16("linkedFrame"),rT=new pe().endianness("little").uint16("w").uint16("h").array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-26}}),iT=new pe().endianness("little").uint16("w").uint16("h").uint16("bitsPerTile").uint32("tileIdBitmask").uint32("xFlipBitmask").uint32("yFlipBitmask").uint32("diagonalFlipBitmask").seek(10).array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-54}}),Iu=1,wu=2,oT=3,sT=new pe().endianness("little").uint16("layerIndex").int16("x").int16("y").uint8("opacity").uint16("cellType").int16("zIndex").seek(5).choice("data",{tag:"cellType",choices:{[Iu]:nT,[wu]:rT,[oT]:iT}}),aT=new pe().endianness("little").uint16("fromFrame").uint16("toFrame").uint8("loopAnimationDirection").uint16("repeatAnimation").seek(10).nest("tagName",{type:ma}),lT=new pe().endianness("little").uint16("numberOfTags").seek(8).array("tags",{type:aT,length:"numberOfTags"}),cT=new pe().endianness("little").uint32("tilesetId").uint32("tilesetFlags").uint32("numberOfTiles").uint16("tileWidth").uint16("tileHeight").int16("baseIndex").seek(14).nest("name",{type:ma}).array("external",{type:"uint32le",length:function(){return this.tilesetFlags&1?2:0}}).array("internalLength",{type:"uint32le",length:function(){return this.tilesetFlags&2?1:0}}).array("rawCompressed",{type:"uint8",length:function(){return this.tilesetFlags&2?this.internalLength[0]:0}}),uT=new pe().endianness("little").uint32("fileSize").uint16("magicNumber").uint16("frames").uint16("width").uint16("height").uint16("colorDepth").uint32("flags").uint16("DEPRECATED_speed").seek(8).uint8("transparentIndex").seek(3).uint16("numberOfColors").uint8("pixelWidth").uint8("pixelHeight").int16("gridX").int16("gridY").uint16("gridWidth").uint16("gridHeight").seek(84),dT=new pe().endianness("little").uint32("bytesInFrame").uint16("magicNumber").uint16("oldChunks").uint16("frameDuration").seek(2).uint32("chunks"),Xr=8196,bu=8197,ga=8216,fT=4,pT=17,Eu=8217,Cu=8227,hT=new pe().endianness("little").uint32("size").uint16("chunkType").choice("data",{tag:"chunkType",choices:{[fT]:gm,[pT]:gm,[Xr]:tT,[bu]:sT,[ga]:lT,[Eu]:eT,[Cu]:cT},defaultChoice:KC}),mT=new pe().endianness("little").nest("header",{type:dT}).array("chunks",{type:hT,length:function(){return this.header.chunks||this.header.oldChunks}}),ym=new pe().useContextVars().endianness("little").nest("header",{type:uT}).array("frames",{type:mT,length:"header.frames"});function ii(t){let e=t.length;for(;--e>=0;)t[e]=0}var gT=0,ng=1,yT=2,vT=3,IT=258,qu=29,Po=256,xo=Po+1+qu,ti=30,Zu=19,rg=2*xo+1,tr=15,Tu=16,wT=7,Yu=256,ig=16,og=17,sg=18,$u=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ea=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),bT=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ag=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ET=512,Yt=new Array((xo+2)*2);ii(Yt);var Eo=new Array(ti*2);ii(Eo);var _o=new Array(ET);ii(_o);var So=new Array(IT-vT+1);ii(So);var Qu=new Array(qu);ii(Qu);var Ca=new Array(ti);ii(Ca);function xu(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var lg,cg,ug;function _u(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var dg=t=>t<256?_o[t]:_o[256+(t>>>7)],Do=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ue=(t,e,n)=>{t.bi_valid>Tu-n?(t.bi_buf|=e<<t.bi_valid&65535,Do(t,t.bi_buf),t.bi_buf=e>>Tu-t.bi_valid,t.bi_valid+=n-Tu):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ot=(t,e,n)=>{Ue(t,n[e*2],n[e*2+1])},fg=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},CT=t=>{t.bi_valid===16?(Do(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},TT=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,l,u,f,d,p,h,C=0;for(d=0;d<=tr;d++)t.bl_count[d]=0;for(n[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<rg;l++)u=t.heap[l],d=n[n[u*2+1]*2+1]+1,d>c&&(d=c,C++),n[u*2+1]=d,!(u>r)&&(t.bl_count[d]++,p=0,u>=a&&(p=s[u-a]),h=n[u*2],t.opt_len+=h*(d+p),o&&(t.static_len+=h*(i[u*2+1]+p)));if(C!==0){do{for(d=c-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,C-=2}while(C>0);for(d=c;d!==0;d--)for(u=t.bl_count[d];u!==0;)f=t.heap[--l],!(f>r)&&(n[f*2+1]!==d&&(t.opt_len+=(d-n[f*2+1])*n[f*2],n[f*2+1]=d),u--)}},pg=(t,e,n)=>{let r=new Array(tr+1),i=0,o,s;for(o=1;o<=tr;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=fg(r[a]++,a))}},xT=()=>{let t,e,n,r,i,o=new Array(tr+1);for(n=0,r=0;r<qu-1;r++)for(Qu[r]=n,t=0;t<1<<$u[r];t++)So[n++]=r;for(So[n-1]=r,i=0,r=0;r<16;r++)for(Ca[r]=i,t=0;t<1<<Ea[r];t++)_o[i++]=r;for(i>>=7;r<ti;r++)for(Ca[r]=i<<7,t=0;t<1<<Ea[r]-7;t++)_o[256+i++]=r;for(e=0;e<=tr;e++)o[e]=0;for(t=0;t<=143;)Yt[t*2+1]=8,t++,o[8]++;for(;t<=255;)Yt[t*2+1]=9,t++,o[9]++;for(;t<=279;)Yt[t*2+1]=7,t++,o[7]++;for(;t<=287;)Yt[t*2+1]=8,t++,o[8]++;for(pg(Yt,xo+1,o),t=0;t<ti;t++)Eo[t*2+1]=5,Eo[t*2]=fg(t,5);lg=new xu(Yt,$u,Po+1,xo,tr),cg=new xu(Eo,Ea,0,ti,tr),ug=new xu(new Array(0),bT,0,Zu,wT)},hg=t=>{let e;for(e=0;e<xo;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ti;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Zu;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Yu*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},mg=t=>{t.bi_valid>8?Do(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},vm=(t,e,n,r)=>{let i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},Su=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&vm(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!vm(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Im=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?Ot(t,i,e):(s=So[i],Ot(t,s+Po+1,e),a=$u[s],a!==0&&(i-=Qu[s],Ue(t,i,a)),r--,s=dg(r),Ot(t,s,n),a=Ea[s],a!==0&&(r-=Ca[s],Ue(t,r,a)));while(o<t.sym_next);Ot(t,Yu,e)},Hu=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c=-1,l;for(t.heap_len=0,t.heap_max=rg,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[l*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)Su(t,n,s);l=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Su(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[l*2]=n[s*2]+n[a*2],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=l,t.heap[1]=l++,Su(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],TT(t,e),pg(n,c,t.bl_count)},wm=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)&&(a<l?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[ig*2]++):a<=10?t.bl_tree[og*2]++:t.bl_tree[sg*2]++,a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4))},bm=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)){if(a<l)do Ot(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Ot(t,o,t.bl_tree),a--),Ot(t,ig,t.bl_tree),Ue(t,a-3,2)):a<=10?(Ot(t,og,t.bl_tree),Ue(t,a-3,3)):(Ot(t,sg,t.bl_tree),Ue(t,a-11,7));a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4)}},_T=t=>{let e;for(wm(t,t.dyn_ltree,t.l_desc.max_code),wm(t,t.dyn_dtree,t.d_desc.max_code),Hu(t,t.bl_desc),e=Zu-1;e>=3&&t.bl_tree[ag[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},ST=(t,e,n,r)=>{let i;for(Ue(t,e-257,5),Ue(t,n-1,5),Ue(t,r-4,4),i=0;i<r;i++)Ue(t,t.bl_tree[ag[i]*2+1],3);bm(t,t.dyn_ltree,e-1),bm(t,t.dyn_dtree,n-1)},DT=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<Po;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},Em=!1,MT=t=>{Em||(xT(),Em=!0),t.l_desc=new _u(t.dyn_ltree,lg),t.d_desc=new _u(t.dyn_dtree,cg),t.bl_desc=new _u(t.bl_tree,ug),t.bi_buf=0,t.bi_valid=0,hg(t)},gg=(t,e,n,r)=>{Ue(t,(gT<<1)+(r?1:0),3),mg(t),Do(t,n),Do(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},NT=t=>{Ue(t,ng<<1,3),Ot(t,Yu,Yt),CT(t)},AT=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=DT(t)),Hu(t,t.l_desc),Hu(t,t.d_desc),s=_T(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?gg(t,e,n,r):t.strategy===4||o===i?(Ue(t,(ng<<1)+(r?1:0),3),Im(t,Yt,Eo)):(Ue(t,(yT<<1)+(r?1:0),3),ST(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Im(t,t.dyn_ltree,t.dyn_dtree)),hg(t),r&&mg(t)},kT=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(So[n]+Po+1)*2]++,t.dyn_dtree[dg(e)*2]++),t.sym_next===t.sym_end),PT=MT,RT=gg,OT=AT,LT=kT,FT=NT,$T={_tr_init:PT,_tr_stored_block:RT,_tr_flush_block:OT,_tr_tally:LT,_tr_align:FT},HT=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},Mo=HT,VT=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},jT=new Uint32Array(VT()),BT=(t,e,n,r)=>{let i=jT,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},_e=BT,ir={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:UT,_tr_stored_block:Vu,_tr_flush_block:WT,_tr_tally:In,_tr_align:zT}=$T,{Z_NO_FLUSH:wn,Z_PARTIAL_FLUSH:GT,Z_FULL_FLUSH:qT,Z_FINISH:ot,Z_BLOCK:Cm,Z_OK:Ae,Z_STREAM_END:Tm,Z_STREAM_ERROR:Lt,Z_DATA_ERROR:ZT,Z_BUF_ERROR:Du,Z_DEFAULT_COMPRESSION:YT,Z_FILTERED:QT,Z_HUFFMAN_ONLY:ya,Z_RLE:KT,Z_FIXED:XT,Z_DEFAULT_STRATEGY:JT,Z_UNKNOWN:ex,Z_DEFLATED:_a}=oi,tx=9,nx=15,rx=8,ix=29,ox=256,ju=ox+1+ix,sx=30,ax=19,lx=2*ju+1,cx=15,Q=3,vn=258,Ft=vn+Q+1,ux=32,ni=42,Ku=57,Bu=69,Uu=73,Wu=91,zu=103,nr=113,wo=666,He=1,si=2,or=3,ai=4,dx=3,rr=(t,e)=>(t.msg=ir[e],e),xm=t=>t*2-(t>4?9:0),yn=t=>{let e=t.length;for(;--e>=0;)t[e]=0},fx=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},px=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,bn=px,Ye=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Qe=(t,e)=>{WT(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ye(t.strm)},re=(t,e)=>{t.pending_buf[t.pending++]=e},Io=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Gu=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Mo(t.adler,e,i,n):t.state.wrap===2&&(t.adler=_e(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},yg=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-Ft?t.strstart-(t.w_size-Ft):0,l=t.window,u=t.w_mask,f=t.prev,d=t.strstart+vn,p=l[r+s-1],h=l[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(l[i+s]!==h||l[i+s-1]!==p||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<d);if(o=vn-(d-r),r=d-vn,o>s){if(t.match_start=e,s=o,o>=a)break;p=l[r+s-1],h=l[r+s]}}while((e=f[e&u])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},ri=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ft)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),fx(t),r+=e),t.strm.avail_in===0)break;if(n=Gu(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Q)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=bn(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=bn(t,t.ins_h,t.window[i+Q-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Q)););}while(t.lookahead<Ft&&t.strm.avail_in!==0)},vg=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==ot||e===wn||r!==i+t.strm.avail_in)))break;s=e===ot&&r===i+t.strm.avail_in?1:0,Vu(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ye(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Gu(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?ai:e!==wn&&e!==ot&&t.strm.avail_in===0&&t.strstart===t.block_start?si:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(Gu(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===ot)&&e!==wn&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===ot&&t.strm.avail_in===0&&r===i?1:0,Vu(t,t.block_start,r,s),t.block_start+=r,Ye(t.strm)),s?or:He)},Mu=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ft){if(ri(t),t.lookahead<Ft&&e===wn)return He;if(t.lookahead===0)break}if(n=0,t.lookahead>=Q&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ft&&(t.match_length=yg(t,n)),t.match_length>=Q)if(r=In(t,t.strstart-t.match_start,t.match_length-Q),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Q){t.match_length--;do t.strstart++,t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=bn(t,t.ins_h,t.window[t.strstart+1]);else r=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Qe(t,!1),t.strm.avail_out===0))return He}return t.insert=t.strstart<Q-1?t.strstart:Q-1,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:ai):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:si},Jr=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ft){if(ri(t),t.lookahead<Ft&&e===wn)return He;if(t.lookahead===0)break}if(n=0,t.lookahead>=Q&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Q-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ft&&(t.match_length=yg(t,n),t.match_length<=5&&(t.strategy===QT||t.match_length===Q&&t.strstart-t.match_start>4096)&&(t.match_length=Q-1)),t.prev_length>=Q&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Q,r=In(t,t.strstart-1-t.prev_match,t.prev_length-Q),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Q-1,t.strstart++,r&&(Qe(t,!1),t.strm.avail_out===0))return He}else if(t.match_available){if(r=In(t,0,t.window[t.strstart-1]),r&&Qe(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return He}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=In(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Q-1?t.strstart:Q-1,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:ai):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:si},hx=(t,e)=>{let n,r,i,o,s=t.window;for(;;){if(t.lookahead<=vn){if(ri(t),t.lookahead<=vn&&e===wn)return He;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Q&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+vn;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=vn-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Q?(n=In(t,1,t.match_length-Q),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Qe(t,!1),t.strm.avail_out===0))return He}return t.insert=0,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:ai):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:si},mx=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(ri(t),t.lookahead===0)){if(e===wn)return He;break}if(t.match_length=0,n=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Qe(t,!1),t.strm.avail_out===0))return He}return t.insert=0,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:ai):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:si};function Rt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var bo=[new Rt(0,0,0,0,vg),new Rt(4,4,8,4,Mu),new Rt(4,5,16,8,Mu),new Rt(4,6,32,32,Mu),new Rt(4,4,16,16,Jr),new Rt(8,16,32,32,Jr),new Rt(8,16,128,128,Jr),new Rt(8,32,128,256,Jr),new Rt(32,128,258,1024,Jr),new Rt(32,258,258,4096,Jr)],gx=t=>{t.window_size=2*t.w_size,yn(t.head),t.max_lazy_match=bo[t.level].max_lazy,t.good_match=bo[t.level].good_length,t.nice_match=bo[t.level].nice_length,t.max_chain_length=bo[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Q-1,t.match_available=0,t.ins_h=0};function yx(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_a,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(lx*2),this.dyn_dtree=new Uint16Array((2*sx+1)*2),this.bl_tree=new Uint16Array((2*ax+1)*2),yn(this.dyn_ltree),yn(this.dyn_dtree),yn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cx+1),this.heap=new Uint16Array(2*ju+1),yn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ju+1),yn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ro=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==ni&&e.status!==Ku&&e.status!==Bu&&e.status!==Uu&&e.status!==Wu&&e.status!==zu&&e.status!==nr&&e.status!==wo?1:0},Ig=t=>{if(Ro(t))return rr(t,Lt);t.total_in=t.total_out=0,t.data_type=ex;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Ku:e.wrap?ni:nr,t.adler=e.wrap===2?0:1,e.last_flush=-2,UT(e),Ae},wg=t=>{let e=Ig(t);return e===Ae&&gx(t.state),e},vx=(t,e)=>Ro(t)||t.state.wrap!==2?Lt:(t.state.gzhead=e,Ae),bg=(t,e,n,r,i,o)=>{if(!t)return Lt;let s=1;if(e===YT&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>tx||n!==_a||r<8||r>15||e<0||e>9||o<0||o>XT||r===8&&s!==1)return rr(t,Lt);r===8&&(r=9);let a=new yx;return t.state=a,a.strm=t,a.status=ni,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Q-1)/Q),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,wg(t)},Ix=(t,e)=>bg(t,e,_a,nx,rx,JT),wx=(t,e)=>{if(Ro(t)||e>Cm||e<0)return t?rr(t,Lt):Lt;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===wo&&e!==ot)return rr(t,t.avail_out===0?Du:Lt);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Ye(t),t.avail_out===0)return n.last_flush=-1,Ae}else if(t.avail_in===0&&xm(e)<=xm(r)&&e!==ot)return rr(t,Du);if(n.status===wo&&t.avail_in!==0)return rr(t,Du);if(n.status===ni&&n.wrap===0&&(n.status=nr),n.status===ni){let i=_a+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=ya||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=ux),i+=31-i%31,Io(n,i),n.strstart!==0&&(Io(n,t.adler>>>16),Io(n,t.adler&65535)),t.adler=1,n.status=nr,Ye(t),n.pending!==0)return n.last_flush=-1,Ae}if(n.status===Ku){if(t.adler=0,re(n,31),re(n,139),re(n,8),n.gzhead)re(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),re(n,n.gzhead.time&255),re(n,n.gzhead.time>>8&255),re(n,n.gzhead.time>>16&255),re(n,n.gzhead.time>>24&255),re(n,n.level===9?2:n.strategy>=ya||n.level<2?4:0),re(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(re(n,n.gzhead.extra.length&255),re(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=_e(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Bu;else if(re(n,0),re(n,0),re(n,0),re(n,0),re(n,0),re(n,n.level===9?2:n.strategy>=ya||n.level<2?4:0),re(n,dx),n.status=nr,Ye(t),n.pending!==0)return n.last_flush=-1,Ae}if(n.status===Bu){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Ye(t),n.pending!==0)return n.last_flush=-1,Ae;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Uu}if(n.status===Uu){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),Ye(t),n.pending!==0)return n.last_flush=-1,Ae;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,re(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Wu}if(n.status===Wu){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),Ye(t),n.pending!==0)return n.last_flush=-1,Ae;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,re(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i))}n.status=zu}if(n.status===zu){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ye(t),n.pending!==0))return n.last_flush=-1,Ae;re(n,t.adler&255),re(n,t.adler>>8&255),t.adler=0}if(n.status=nr,Ye(t),n.pending!==0)return n.last_flush=-1,Ae}if(t.avail_in!==0||n.lookahead!==0||e!==wn&&n.status!==wo){let i=n.level===0?vg(n,e):n.strategy===ya?mx(n,e):n.strategy===KT?hx(n,e):bo[n.level].func(n,e);if((i===or||i===ai)&&(n.status=wo),i===He||i===or)return t.avail_out===0&&(n.last_flush=-1),Ae;if(i===si&&(e===GT?zT(n):e!==Cm&&(Vu(n,0,0,!1),e===qT&&(yn(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ye(t),t.avail_out===0))return n.last_flush=-1,Ae}return e!==ot?Ae:n.wrap<=0?Tm:(n.wrap===2?(re(n,t.adler&255),re(n,t.adler>>8&255),re(n,t.adler>>16&255),re(n,t.adler>>24&255),re(n,t.total_in&255),re(n,t.total_in>>8&255),re(n,t.total_in>>16&255),re(n,t.total_in>>24&255)):(Io(n,t.adler>>>16),Io(n,t.adler&65535)),Ye(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ae:Tm)},bx=t=>{if(Ro(t))return Lt;let e=t.state.status;return t.state=null,e===nr?rr(t,ZT):Ae},Ex=(t,e)=>{let n=e.length;if(Ro(t))return Lt;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==ni||r.lookahead)return Lt;if(i===1&&(t.adler=Mo(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(yn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ri(r);r.lookahead>=Q;){let c=r.strstart,l=r.lookahead-(Q-1);do r.ins_h=bn(r,r.ins_h,r.window[c+Q-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--l);r.strstart=c,r.lookahead=Q-1,ri(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Q-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,Ae},Cx=Ix,Tx=bg,xx=wg,_x=Ig,Sx=vx,Dx=wx,Mx=bx,Nx=Ex,Ax="pako deflate (from Nodeca project)",Co={deflateInit:Cx,deflateInit2:Tx,deflateReset:xx,deflateResetKeep:_x,deflateSetHeader:Sx,deflate:Dx,deflateEnd:Mx,deflateSetDictionary:Nx,deflateInfo:Ax},kx=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Px=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)kx(n,r)&&(t[r]=n[r])}}return t},Rx=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Sa={assign:Px,flattenChunks:Rx},Eg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Eg=!1}var No=new Uint8Array(256);for(let t=0;t<256;t++)No[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;No[254]=No[254]=1;var Ox=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},Lx=(t,e)=>{if(e<65534&&t.subarray&&Eg)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},Fx=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=No[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return Lx(o,i)},$x=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+No[t[n]]>e?n:e},Ao={string2buf:Ox,buf2string:Fx,utf8border:$x};function Hx(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Cg=Hx,Tg=Object.prototype.toString,{Z_NO_FLUSH:Vx,Z_SYNC_FLUSH:jx,Z_FULL_FLUSH:Bx,Z_FINISH:Ux,Z_OK:Ta,Z_STREAM_END:Wx,Z_DEFAULT_COMPRESSION:zx,Z_DEFAULT_STRATEGY:Gx,Z_DEFLATED:qx}=oi;function Oo(t){this.options=Sa.assign({level:zx,method:qx,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gx},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cg,this.strm.avail_out=0;let n=Co.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Ta)throw new Error(ir[n]);if(e.header&&Co.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Ao.string2buf(e.dictionary):Tg.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Co.deflateSetDictionary(this.strm,r),n!==Ta)throw new Error(ir[n]);this._dict_set=!0}}Oo.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Ux:Vx,typeof t=="string"?n.input=Ao.string2buf(t):Tg.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===jx||o===Bx)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Co.deflate(n,o),i===Wx)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Co.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ta;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Oo.prototype.onData=function(t){this.chunks.push(t)};Oo.prototype.onEnd=function(t){t===Ta&&(this.result=Sa.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Xu(t,e){let n=new Oo(e);if(n.push(t,!0),n.err)throw n.msg||ir[n.err];return n.result}function Zx(t,e){return e=e||{},e.raw=!0,Xu(t,e)}function Yx(t,e){return e=e||{},e.gzip=!0,Xu(t,e)}var Qx=Oo,Kx=Xu,Xx=Zx,Jx=Yx,e_=oi,t_={Deflate:Qx,deflate:Kx,deflateRaw:Xx,gzip:Jx,constants:e_},va=16209,n_=16191,r_=function(e,n){let r,i,o,s,a,c,l,u,f,d,p,h,C,I,b,g,m,v,M,_,w,S,E,x,N=e.state;r=e.next_in,E=e.input,i=r+(e.avail_in-5),o=e.next_out,x=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),c=N.dmax,l=N.wsize,u=N.whave,f=N.wnext,d=N.window,p=N.hold,h=N.bits,C=N.lencode,I=N.distcode,b=(1<<N.lenbits)-1,g=(1<<N.distbits)-1;e:do{h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),m=C[p&b];t:for(;;){if(v=m>>>24,p>>>=v,h-=v,v=m>>>16&255,v===0)x[o++]=m&65535;else if(v&16){M=m&65535,v&=15,v&&(h<v&&(p+=E[r++]<<h,h+=8),M+=p&(1<<v)-1,p>>>=v,h-=v),h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),m=I[p&g];n:for(;;){if(v=m>>>24,p>>>=v,h-=v,v=m>>>16&255,v&16){if(_=m&65535,v&=15,h<v&&(p+=E[r++]<<h,h+=8,h<v&&(p+=E[r++]<<h,h+=8)),_+=p&(1<<v)-1,_>c){e.msg="invalid distance too far back",N.mode=va;break e}if(p>>>=v,h-=v,v=o-s,_>v){if(v=_-v,v>u&&N.sane){e.msg="invalid distance too far back",N.mode=va;break e}if(w=0,S=d,f===0){if(w+=l-v,v<M){M-=v;do x[o++]=d[w++];while(--v);w=o-_,S=x}}else if(f<v){if(w+=l+f-v,v-=f,v<M){M-=v;do x[o++]=d[w++];while(--v);if(w=0,f<M){v=f,M-=v;do x[o++]=d[w++];while(--v);w=o-_,S=x}}}else if(w+=f-v,v<M){M-=v;do x[o++]=d[w++];while(--v);w=o-_,S=x}for(;M>2;)x[o++]=S[w++],x[o++]=S[w++],x[o++]=S[w++],M-=3;M&&(x[o++]=S[w++],M>1&&(x[o++]=S[w++]))}else{w=o-_;do x[o++]=x[w++],x[o++]=x[w++],x[o++]=x[w++],M-=3;while(M>2);M&&(x[o++]=x[w++],M>1&&(x[o++]=x[w++]))}}else if((v&64)===0){m=I[(m&65535)+(p&(1<<v)-1)];continue n}else{e.msg="invalid distance code",N.mode=va;break e}break}}else if((v&64)===0){m=C[(m&65535)+(p&(1<<v)-1)];continue t}else if(v&32){N.mode=n_;break e}else{e.msg="invalid literal/length code",N.mode=va;break e}break}}while(r<i&&o<a);M=h>>3,r-=M,h-=M<<3,p&=(1<<h)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),N.hold=p,N.bits=h},ei=15,_m=852,Sm=592,Dm=0,Nu=1,Mm=2,i_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),s_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),l_=(t,e,n,r,i,o,s,a)=>{let c=a.bits,l=0,u=0,f=0,d=0,p=0,h=0,C=0,I=0,b=0,g=0,m,v,M,_,w,S=null,E,x=new Uint16Array(ei+1),N=new Uint16Array(ei+1),$=null,H,Z,de;for(l=0;l<=ei;l++)x[l]=0;for(u=0;u<r;u++)x[e[n+u]]++;for(p=c,d=ei;d>=1&&x[d]===0;d--);if(p>d&&(p=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&x[f]===0;f++);for(p<f&&(p=f),I=1,l=1;l<=ei;l++)if(I<<=1,I-=x[l],I<0)return-1;if(I>0&&(t===Dm||d!==1))return-1;for(N[1]=0,l=1;l<ei;l++)N[l+1]=N[l]+x[l];for(u=0;u<r;u++)e[n+u]!==0&&(s[N[e[n+u]]++]=u);if(t===Dm?(S=$=s,E=20):t===Nu?(S=i_,$=o_,E=257):(S=s_,$=a_,E=0),g=0,u=0,l=f,w=o,h=p,C=0,M=-1,b=1<<p,_=b-1,t===Nu&&b>_m||t===Mm&&b>Sm)return 1;for(;;){H=l-C,s[u]+1<E?(Z=0,de=s[u]):s[u]>=E?(Z=$[s[u]-E],de=S[s[u]-E]):(Z=96,de=0),m=1<<l-C,v=1<<h,f=v;do v-=m,i[w+(g>>C)+v]=H<<24|Z<<16|de|0;while(v!==0);for(m=1<<l-1;g&m;)m>>=1;if(m!==0?(g&=m-1,g+=m):g=0,u++,--x[l]===0){if(l===d)break;l=e[n+s[u]]}if(l>p&&(g&_)!==M){for(C===0&&(C=p),w+=f,h=l-C,I=1<<h;h+C<d&&(I-=x[h+C],!(I<=0));)h++,I<<=1;if(b+=1<<h,t===Nu&&b>_m||t===Mm&&b>Sm)return 1;M=g&_,i[M]=p<<24|h<<16|w-o|0}}return g!==0&&(i[w+g]=l-C<<24|64<<16|0),a.bits=p,0},To=l_,c_=0,xg=1,_g=2,{Z_FINISH:Nm,Z_BLOCK:u_,Z_TREES:Ia,Z_OK:sr,Z_STREAM_END:d_,Z_NEED_DICT:f_,Z_STREAM_ERROR:st,Z_DATA_ERROR:Sg,Z_MEM_ERROR:Dg,Z_BUF_ERROR:p_,Z_DEFLATED:Am}=oi,Da=16180,km=16181,Pm=16182,Rm=16183,Om=16184,Lm=16185,Fm=16186,$m=16187,Hm=16188,Vm=16189,xa=16190,Zt=16191,Au=16192,jm=16193,ku=16194,Bm=16195,Um=16196,Wm=16197,zm=16198,wa=16199,ba=16200,Gm=16201,qm=16202,Zm=16203,Ym=16204,Qm=16205,Pu=16206,Km=16207,Xm=16208,he=16209,Mg=16210,Ng=16211,h_=852,m_=592,g_=15,y_=g_,Jm=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function v_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ar=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<Da||e.mode>Ng?1:0},Ag=t=>{if(ar(t))return st;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Da,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(h_),e.distcode=e.distdyn=new Int32Array(m_),e.sane=1,e.back=-1,sr},kg=t=>{if(ar(t))return st;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ag(t)},Pg=(t,e)=>{let n;if(ar(t))return st;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?st:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,kg(t))},Rg=(t,e)=>{if(!t)return st;let n=new v_;t.state=n,n.strm=t,n.window=null,n.mode=Da;let r=Pg(t,e);return r!==sr&&(t.state=null),r},I_=t=>Rg(t,y_),eg=!0,Ru,Ou,w_=t=>{if(eg){Ru=new Int32Array(512),Ou=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(To(xg,t.lens,0,288,Ru,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;To(_g,t.lens,0,32,Ou,0,t.work,{bits:5}),eg=!1}t.lencode=Ru,t.lenbits=9,t.distcode=Ou,t.distbits=5},Og=(t,e,n,r)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},b_=(t,e)=>{let n,r,i,o,s,a,c,l,u,f,d,p,h,C,I=0,b,g,m,v,M,_,w,S,E=new Uint8Array(4),x,N,$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ar(t)||!t.output||!t.input&&t.avail_in!==0)return st;n=t.state,n.mode===Zt&&(n.mode=Au),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,u=n.bits,f=a,d=c,S=sr;e:for(;;)switch(n.mode){case Da:if(n.wrap===0){n.mode=Au;break}for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0),l=0,u=0,n.mode=km;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=he;break}if((l&15)!==Am){t.msg="unknown compression method",n.mode=he;break}if(l>>>=4,u-=4,w=(l&15)+8,n.wbits===0&&(n.wbits=w),w>15||w>n.wbits){t.msg="invalid window size",n.mode=he;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=l&512?Vm:Zt,l=0,u=0;break;case km:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==Am){t.msg="unknown compression method",n.mode=he;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0)),l=0,u=0,n.mode=Pm;case Pm:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,E[2]=l>>>16&255,E[3]=l>>>24&255,n.check=_e(n.check,E,4,0)),l=0,u=0,n.mode=Rm;case Rm:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0)),l=0,u=0,n.mode=Om;case Om:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=Lm;case Lm:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),w)),n.flags&512&&n.wrap&4&&(n.check=_e(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Fm;case Fm:if(n.flags&2048){if(a===0)break e;p=0;do w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w));while(w&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=_e(n.check,r,p,o)),a-=p,o+=p,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=$m;case $m:if(n.flags&4096){if(a===0)break e;p=0;do w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w));while(w&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=_e(n.check,r,p,o)),a-=p,o+=p,w)break e}else n.head&&(n.head.comment=null);n.mode=Hm;case Hm:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){t.msg="header crc mismatch",n.mode=he;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Zt;break;case Vm:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.adler=n.check=Jm(l),l=0,u=0,n.mode=xa;case xa:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,f_;t.adler=n.check=1,n.mode=Zt;case Zt:if(e===u_||e===Ia)break e;case Au:if(n.last){l>>>=u&7,u-=u&7,n.mode=Pu;break}for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=jm;break;case 1:if(w_(n),n.mode=wa,e===Ia){l>>>=2,u-=2;break e}break;case 2:n.mode=Um;break;case 3:t.msg="invalid block type",n.mode=he}l>>>=2,u-=2;break;case jm:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=he;break}if(n.length=l&65535,l=0,u=0,n.mode=ku,e===Ia)break e;case ku:n.mode=Bm;case Bm:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=Zt;break;case Um:for(;u<14;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=Wm;case Wm:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.lens[$[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},S=To(c_,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,S){t.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=zm;case zm:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[l&(1<<n.lenbits)-1],b=I>>>24,g=I>>>16&255,m=I&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(m<16)l>>>=b,u-=b,n.lens[n.have++]=m;else{if(m===16){for(N=b+2;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(l>>>=b,u-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=he;break}w=n.lens[n.have-1],p=3+(l&3),l>>>=2,u-=2}else if(m===17){for(N=b+3;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,w=0,p=3+(l&7),l>>>=3,u-=3}else{for(N=b+7;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,w=0,p=11+(l&127),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=he;break}for(;p--;)n.lens[n.have++]=w}}if(n.mode===he)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,x={bits:n.lenbits},S=To(xg,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,S){t.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},S=To(_g,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,S){t.msg="invalid distances set",n.mode=he;break}if(n.mode=wa,e===Ia)break e;case wa:n.mode=ba;case ba:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,r_(t,d),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,u=n.bits,n.mode===Zt&&(n.back=-1);break}for(n.back=0;I=n.lencode[l&(1<<n.lenbits)-1],b=I>>>24,g=I>>>16&255,m=I&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(g&&(g&240)===0){for(v=b,M=g,_=m;I=n.lencode[_+((l&(1<<v+M)-1)>>v)],b=I>>>24,g=I>>>16&255,m=I&65535,!(v+b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=v,u-=v,n.back+=v}if(l>>>=b,u-=b,n.back+=b,n.length=m,g===0){n.mode=Qm;break}if(g&32){n.back=-1,n.mode=Zt;break}if(g&64){t.msg="invalid literal/length code",n.mode=he;break}n.extra=g&15,n.mode=Gm;case Gm:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=qm;case qm:for(;I=n.distcode[l&(1<<n.distbits)-1],b=I>>>24,g=I>>>16&255,m=I&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((g&240)===0){for(v=b,M=g,_=m;I=n.distcode[_+((l&(1<<v+M)-1)>>v)],b=I>>>24,g=I>>>16&255,m=I&65535,!(v+b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=v,u-=v,n.back+=v}if(l>>>=b,u-=b,n.back+=b,g&64){t.msg="invalid distance code",n.mode=he;break}n.offset=m,n.extra=g&15,n.mode=Zm;case Zm:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=he;break}n.mode=Ym;case Ym:if(c===0)break e;if(p=d-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=he;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),C=n.window}else C=i,h=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[s++]=C[h++];while(--p);n.length===0&&(n.mode=ba);break;case Qm:if(c===0)break e;i[s++]=n.length,c--,n.mode=ba;break;case Pu:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[o++]<<u,u+=8}if(d-=c,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?_e(n.check,i,d,s-d):Mo(n.check,i,d,s-d)),d=c,n.wrap&4&&(n.flags?l:Jm(l))!==n.check){t.msg="incorrect data check",n.mode=he;break}l=0,u=0}n.mode=Km;case Km:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=he;break}l=0,u=0}n.mode=Xm;case Xm:S=d_;break e;case he:S=Sg;break e;case Mg:return Dg;case Ng:default:return st}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<he&&(n.mode<Pu||e!==Nm))&&Og(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?_e(n.check,i,d,t.next_out-d):Mo(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Zt?128:0)+(n.mode===wa||n.mode===ku?256:0),(f===0&&d===0||e===Nm)&&S===sr&&(S=p_),S},E_=t=>{if(ar(t))return st;let e=t.state;return e.window&&(e.window=null),t.state=null,sr},C_=(t,e)=>{if(ar(t))return st;let n=t.state;return(n.wrap&2)===0?st:(n.head=e,e.done=!1,sr)},T_=(t,e)=>{let n=e.length,r,i,o;return ar(t)||(r=t.state,r.wrap!==0&&r.mode!==xa)?st:r.mode===xa&&(i=1,i=Mo(i,e,n,0),i!==r.check)?Sg:(o=Og(t,e,n,n),o?(r.mode=Mg,Dg):(r.havedict=1,sr))},x_=kg,__=Pg,S_=Ag,D_=I_,M_=Rg,N_=b_,A_=E_,k_=C_,P_=T_,R_="pako inflate (from Nodeca project)",Qt={inflateReset:x_,inflateReset2:__,inflateResetKeep:S_,inflateInit:D_,inflateInit2:M_,inflate:N_,inflateEnd:A_,inflateGetHeader:k_,inflateSetDictionary:P_,inflateInfo:R_};function O_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var L_=O_,Lg=Object.prototype.toString,{Z_NO_FLUSH:F_,Z_FINISH:$_,Z_OK:ko,Z_STREAM_END:Lu,Z_NEED_DICT:Fu,Z_STREAM_ERROR:H_,Z_DATA_ERROR:tg,Z_MEM_ERROR:V_}=oi;function Lo(t){this.options=Sa.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cg,this.strm.avail_out=0;let n=Qt.inflateInit2(this.strm,e.windowBits);if(n!==ko)throw new Error(ir[n]);if(this.header=new L_,Qt.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ao.string2buf(e.dictionary):Lg.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Qt.inflateSetDictionary(this.strm,e.dictionary),n!==ko)))throw new Error(ir[n])}Lo.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?$_:F_,Lg.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Qt.inflate(n,s),o===Fu&&i&&(o=Qt.inflateSetDictionary(n,i),o===ko?o=Qt.inflate(n,s):o===tg&&(o=Fu));n.avail_in>0&&o===Lu&&n.state.wrap>0&&t[n.next_in]!==0;)Qt.inflateReset(n),o=Qt.inflate(n,s);switch(o){case H_:case tg:case Fu:case V_:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Lu))if(this.options.to==="string"){let c=Ao.utf8border(n.output,n.next_out),l=n.next_out-c,u=Ao.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ko&&a===0)){if(o===Lu)return o=Qt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Lo.prototype.onData=function(t){this.chunks.push(t)};Lo.prototype.onEnd=function(t){t===ko&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sa.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ju(t,e){let n=new Lo(e);if(n.push(t),n.err)throw n.msg||ir[n.err];return n.result}function j_(t,e){return e=e||{},e.raw=!0,Ju(t,e)}var B_=Lo,U_=Ju,W_=j_,z_=Ju,G_=oi,q_={Inflate:B_,inflate:U_,inflateRaw:W_,ungzip:z_,constants:G_},{Deflate:aj,deflate:lj,deflateRaw:cj,gzip:uj}=t_,{Inflate:dj,inflate:Z_,inflateRaw:fj,ungzip:pj}=q_;var Ma=Z_;var ed=class{data=new Map;get(e){return this.data.get(e)}set(e,n){this.data.set(e,n)}rawDataToRGBA(e,n,r){if(n===16){let i=e.byteLength/2*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4)*2;o[s+0]=e[a+0],o[s+1]=e[a+0],o[s+2]=e[a+0],o[s+3]=e[a+1]}return o}else if(n===8){let i=e.byteLength*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4),c=[255,255,255,0];e[a]!==r&&(c=this.get(e[a])??[255,255,255,0]),o[s+0]=c[0],o[s+1]=c[1],o[s+2]=c[2],o[s+3]=Math.ceil(c[3]*255)}return o}return e}},lr=class{constructor(e){this.loader=e}getColorPallette(e){let n=new ed,r=this.loader.findFrameChunk(e,Eu);if(r){let i=r.firstIndex;for(let o of r.colors)n.set(i,[o.color.red,o.color.green,o.color.blue,o.color.alpha]),i++}return n}};var cr=class{constructor(e){this.loader=e;this.collorPalletteLoader=new lr(e)}frameCache=new wt;collorPalletteLoader;getFrame(e){return Y(this,null,function*(){return this.frameCache.get(e.toString(10),()=>Y(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.data.frames[e],r=this.getDrawContext(),i=this.collorPalletteLoader.getColorPallette(0),o=this.loader.findFrameChunks(0,Xr),s=this.loader.findFrameChunks(e,bu);for(let l of s)if(l.cellType===Iu){let u=yield this.getFrame(l.data.linkedFrame),f=o[l.layerIndex];(f.flags&1)===1&&!this.loader.ignoredLayerNames.includes(f.name.value)&&(r.save(),r.drawImage(u.texture.data,0,0),r.restore())}else if(l.cellType===wu){let u=o[l.layerIndex];if((u.flags&1)===1&&!this.loader.ignoredLayerNames.includes(u.name.value)){let f=l.data,d=f.rawCompressed,p=Ma(new Uint8Array(d)),h=i.rawDataToRGBA(p,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),C=new ImageData(new Uint8ClampedArray(h),f.w,f.h),I=yield createImageBitmap(C);r.save(),r.globalAlpha=l.opacity/255*(u?.opacity??255)/255,r.drawImage(I,l.x,l.y),r.restore()}}let a=r.getImageData(0,0,this.loader.data.header.width,this.loader.data.header.height),c=yield createImageBitmap(a);return{texture:Ze.fromImageBitmap(c),duration:n.header.frameDuration}}))})}getFrames(e,n){return Y(this,null,function*(){let r=[];for(let i=e;i<=n;i++)r.push(yield this.getFrame(i));return r})}getDrawContext(){let n=new OffscreenCanvas(this.loader.data?.header.width||0,this.loader.data?.header.height||0).getContext("2d");if(!n)throw new Error("Could not obtain OffscreenCanvas 2D Context for processing Aseprite!");return n.imageSmoothingEnabled=!1,n}};var Fo=class{constructor(e){this.loader=e;this.frameLoader=new cr(e)}animationCache=new wt;frameLoader;getAnimationNames(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let e=this.loader.findFrameChunk(0,ga);return e?e.tags.map(n=>n.tagName.value):[]}getAnimation(e){return Y(this,null,function*(){return this.animationCache.get(e,()=>Y(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.findFrameChunk(0,ga);if(!n)throw Error("Aseprite file has no tags!");let r=n.tags.find(o=>o.tagName.value===e);if(!r)throw Error(`Animation with name ${e} not found !`);let i=yield this.frameLoader.getFrames(r.fromFrame,r.toFrame);return{duration:i.map(o=>o.duration).reduce((o,s)=>o+s,0),frames:i,direction:r.loopAnimationDirection,repeat:r.repeatAnimation<=2?r.repeatAnimation:3,repeatTimes:r.repeatAnimation<=2?0:r.repeatAnimation}}))})}};var $o=class t{static asepriteCache=new wt;data;ignoredLayerNames=[];static load(e){return Y(this,null,function*(){return t.asepriteCache.get(e,()=>Y(null,null,function*(){let n=new t,i=yield(yield fetch(e)).arrayBuffer();if(n.data=ym.parse(new Uint8Array(i)),n.data.header.magicNumber!==42464)throw Error("Invalid Aseprite file header magic number!");return n}))})}findFrameChunks(e,n){if(!this.data)throw new Error("Aseprite file not loaded!");return this.data.frames[e].chunks.filter(o=>o.chunkType===n).map(o=>o.data)}findFrameChunk(e,n){let r=this.findFrameChunks(e,n);if(r.length===1)return r[0];if(r.length===0)return;throw new Error(`Multiple Chunks of type ${n} found!`)}};var Ho=class{constructor(e){this.loader=e;this.collorPalletteLoader=new lr(e)}tilemapCache=new wt;collorPalletteLoader;getTilemapNames(e=0){if(!this.loader.data)throw new Error("Aseprite file not loaded!");return this.loader.findFrameChunks(e,Xr).filter(r=>!(!r.tilesetIndex||r.tilesetIndex.length!==1)).map(r=>r.name.value)}getTilemap(e,n=0){return Y(this,null,function*(){return this.tilemapCache.get(`${e}-${n}`,()=>Y(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let r=this.loader.findFrameChunks(n,Cu),o=this.loader.findFrameChunks(n,Xr).find(d=>d.name.value===e);if(!o)throw new Error(`Tilemap Layer with name ${e} not found!`);if(!o.tilesetIndex||o.tilesetIndex.length!==1)throw new Error(`Layer with name ${e} is not a Tilemap!`);let s=r[o.tilesetIndex[0]],a=this.collorPalletteLoader.getColorPallette(n),c=Ma(new Uint8Array(s.rawCompressed)),l=a.rawDataToRGBA(c,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),u=s.tileWidth*s.tileHeight*4,f=new Map;for(let d=0;d<s.numberOfTiles;d+=1){let p=s.baseIndex+d-1,h=l.slice(d*u,(d+1)*u),C=new ImageData(new Uint8ClampedArray(h),s.tileWidth,s.tileHeight),I=yield createImageBitmap(C);f.set(p,Ze.fromImageBitmap(I))}return f}))})}};var ur=class t{constructor(e){this.loader=e;this.frameLoader=new cr(e),this.animationLoader=new Fo(e),this.tilemapLoader=new Ho(e)}frameLoader;animationLoader;tilemapLoader;static load(e){return Y(this,null,function*(){return new t(yield $o.load(e))})}ignoreLayers(e){this.loader.ignoredLayerNames=e}getFrame(e){return Y(this,null,function*(){return this.frameLoader.getFrame(e)})}getFrames(e,n){return Y(this,null,function*(){return this.frameLoader.getFrames(e,n)})}getAnimationNames(){return this.animationLoader.getAnimationNames()}getAnimation(e){return Y(this,null,function*(){return this.animationLoader.getAnimation(e)})}getTilemapNames(e=0){return this.tilemapLoader.getTilemapNames(e)}getTilemap(e,n=0){return Y(this,null,function*(){return this.tilemapLoader.getTilemap(e,n)})}};var dr=class{constructor(e,n,r){this.asset=e;this.tileset=n;this.tileId=r}toObject(){return{asset:this.asset,tileset:this.tileset,tileId:this.tileId}}};var fr=class{constructor(e,n){this.asset=e;this.animationName=n}toObject(){return{asset:this.asset,animationName:this.animationName}}};var pr=class{assets={};chars={};init(e,n,r){return Y(this,null,function*(){let i=Object.keys(e).length,o=n?Object.keys(n).length:0,s=i+o,a=0;for(let c in e){let l=e[c];a++,r?.({current:a,total:s,percentage:a/s*100,currentFile:c});let u=yield ur.load(l.path);u.ignoreLayers(["Grid"]),this.assets[c]={tilemaps:{},animations:{}};for(let f of u.getTilemapNames())this.assets[c].tilemaps[f]=yield u.getTilemap(f);for(let f of u.getAnimationNames())this.assets[c].animations[f]=yield u.getAnimation(f)}if(n)for(let c in n){let l=n[c].path;a++,r?.({current:a,total:s,percentage:a/s*100,currentFile:c});let u=yield ur.load(l);u.ignoreLayers(["Grid"]);let f=yield u.getTilemap(c);this.chars[c]={};for(let d in n[c].map)this.chars[c][d]=f.get(n[c].map[d]);this.chars[c].__unknown__=f.get(n[c].map.__unknown__)}})}};var ae=class extends V{_meta;_texture=Ze.empty();constructor(e,n,r){super(n,r),e&&(this.texture=e)}get texture(){return this._texture}set texture(e){this._texture=e}get width(){return this._texture.width}get height(){return this._texture.height}withMeta(e){this._meta=e}getMeta(){return this._meta}};var We=class t extends V{constructor(n,r,i=[]){super(r,i);this._animation=n;this.frameIndex=0,this.previousTime=0,this._frames=n.frames,n.direction===1&&(this._frames=this._frames.reverse()),this.animationRepeatIndex=n.repeatTimes,this.on(at,this.onTick.bind(this))}_meta;flipH=!1;flipV=!1;_frames=[];frameIndex;animationRepeatIndex;stopped=!1;previousTime;animationSpeed=1;get animation(){return this._animation}get currentFrame(){return this._frames[this.frameIndex]}static empty(){return new t({duration:0,frames:[],direction:0,repeat:0,repeatTimes:0})}onTick(n){if(this.stopped)return;this.previousTime===0&&(this.previousTime=n.currentTime);let r=(n.currentTime-this.previousTime)*this.animationSpeed,i=this._frames[this.frameIndex];if(!i)return;let o=0;for(;r>=i.duration;)r-=i.duration,this.advanceFrame(),i=this._frames[this.frameIndex],o+=1,o>10&&(r=0);o>0&&(this.previousTime=n.currentTime)}play(){this.stopped=!1,this._animation.repeat===0?this.frameIndex=0:this._animation.repeat===3&&(this.frameIndex=0,this.animationRepeatIndex=this._animation.repeatTimes)}stop(){this.stopped=!0,this.previousTime=0}advanceFrame(){if(this.frameIndex+=1,this.frameIndex>=this._frames.length)if(this._animation.repeat===0)this.frameIndex=0;else if(this._animation.repeat===3){if(this.frameIndex=0,this.animationRepeatIndex-=1,this.animationRepeatIndex===0){this.stop();return}}else{this.stop();return}}get width(){return this._frames[0].texture.width}get height(){return this._frames[0].texture.height}get animationDuration(){return this._animation.duration}withMeta(n){this._meta=n}getMeta(){return this._meta}};var li=class t extends V{constructor(n){super();this._numLayers=n;for(let r=0;r<n;r+=1)this.addChild(new V)}getLayer(n){return this.children.at(n)}get numLayers(){return this._numLayers}get width(){let n=0,r=this.position;for(let i=0;i<this._numLayers;i+=1){let o=this.children[i];if(o){for(let s of o.children)if(s instanceof V){let l=s.position.x-r.x+s.width;l>n&&(n=l)}}}return n}get height(){let n=0,r=this.position;for(let i=0;i<this._numLayers;i+=1){let o=this.children[i];if(o){for(let s of o.children)if(s instanceof V){let l=s.position.y-r.y+s.height;l>n&&(n=l)}}}return n}toObject(){let n={numLayers:this._numLayers,layers:[]};for(let r=0;r<this._numLayers;r+=1){let i=[];for(let o of this.children[r].children)if(o instanceof We){let s=o.getMeta();s instanceof fr&&i.push({type:"animated",position:{x:o.position.x,y:o.position.y},animation:s.toObject(),animationSpeed:o.animationSpeed})}else if(o instanceof ae){let s=o.getMeta();s instanceof dr&&i.push({type:"static",position:{x:o.position.x,y:o.position.y},texture:s.toObject()})}n.layers.push(i)}return n}clear(n){this.removeAllChildren(),this._numLayers=n;for(let r=0;r<this._numLayers;r+=1)this.addChild(new V)}static fromData(n){let r=new t(n.numLayers),i=ie.get("assets");for(let o=0;o<n.layers.length;o+=1){let s=n.layers[o];for(let a of s)if(a.type==="animated"){let c=i[a.animation.asset].animations[a.animation.animationName],l=new We(c,new y(a.position.x,a.position.y));l.animationSpeed=a.animationSpeed??1,l.withMeta(new fr(a.animation.asset,a.animation.animationName)),r.getLayer(o)?.addChild(l)}else if(a.type==="static"){let c=i[a.texture.asset].tilemaps[a.texture.tileset].get(a.texture.tileId),l=new ae(c,new y(a.position.x,a.position.y));l.withMeta(new dr(a.texture.asset,a.texture.tileset,a.texture.tileId)),r.getLayer(o)?.addChild(l)}}return r}};var at=class extends ye{constructor(n){super();this.currentTime=n;super.target=null}};var td=class{pool=new Map;maxCanvasesPerSize=10;getCanvas(e,n,r="default"){let i=`${e}x${n}:${r}`,o=this.pool.get(i);o||(o=[],this.pool.set(i,o));for(let l of o)if(!l.inUse){l.inUse=!0,l.lastPurpose=r;let u=l.context;switch(r){case"fill-color":case"result":u.clearRect(0,0,e,n);break;case"mask":u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.clearRect(0,0,e,n);break;case"clip":u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,e,n);break;case"default":default:u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.clearRect(0,0,e,n);break}return{canvas:l.canvas,context:l.context}}let s=new OffscreenCanvas(e,n),a=s.getContext("2d");if(!a)throw new Error("Failed to get 2D context for temporary canvas");a.imageSmoothingEnabled=!1;let c={canvas:s,context:a,inUse:!0,lastPurpose:r};return o.length<this.maxCanvasesPerSize&&o.push(c),{canvas:s,context:a}}releaseCanvas(e){for(let n of this.pool.values())for(let r of n)if(r.canvas===e){r.inUse=!1;return}}releaseAll(){for(let e of this.pool.values())for(let n of e)n.inUse=!1}resetCanvas(e,n,r){e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n,r),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.imageSmoothingEnabled=!1,e.fillStyle="#000000",e.strokeStyle="#000000",e.lineWidth=1}getStats(){let e=0,n=0;for(let r of this.pool.values())e+=r.length,n+=r.filter(i=>i.inUse).length;return{totalCanvases:e,inUse:n,available:e-n}}},nd=new td;var rd=class{cache=new Map;maxCacheSize=100;maxAge=5e3;get(e){let n=this.cache.get(e);return n?(n.hitCount++,n.timestamp=performance.now(),n.canvas):null}set(e,n,r,i){this.cache.size>=this.maxCacheSize&&this.evictLRU();let o=new OffscreenCanvas(r,i),s=o.getContext("2d");if(!s)throw new Error("Failed to create cache canvas context");s.imageSmoothingEnabled=!1,s.drawImage(n,0,0),this.cache.set(e,{canvas:o,context:s,timestamp:performance.now(),hitCount:0})}invalidate(e){this.cache.delete(e)}clear(){this.cache.clear()}evictLRU(){let e=null,n=1/0,r=1/0;for(let[i,o]of this.cache){let s=performance.now()-o.timestamp;if(s>this.maxAge){this.cache.delete(i);return}s/(o.hitCount+1)>n/(r+1)&&(e=i,n=s,r=o.hitCount)}e&&this.cache.delete(e)}static generateKey(e,n,r,...i){return`${e}:${n}x${r}:${i.join(":")}`}renderAndCache(e,n,r,i){let o=this.get(e);if(o)return o;this.set(e,i,n,r);let s=this.cache.get(e);if(!s)throw new Error("Failed to retrieve newly cached canvas");return s.canvas}getStats(){let e=0,n=0,r=performance.now();for(let i of this.cache.values())e+=i.hitCount,n+=r-i.timestamp;return{size:this.cache.size,totalHits:e,averageAge:this.cache.size>0?n/this.cache.size:0}}},Na=new rd;var ci=class{constructor(e,n){this.zoom=n;this.workLoop=new fn(this.render.bind(this)),this.canvas=e,this.canvas.style.display="block",this.canvas.style.imageRendering="pixelated";let r=this.canvas.getContext("2d");if(!r)throw new Error("CanvasRenderingContext2D could not be obtained!");this.context=r,this.context.imageSmoothingEnabled=!1}canvas;context;rootElement;workLoop;renderCount=0;cacheHitCount=0;prevRenderCount=0;prevCacheHitCount=0;setViewport(e){this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.style.width=e.width*this.zoom+"px",this.canvas.style.height=e.height*this.zoom+"px"}setZoom(e){this.zoom=e}getElement(){return this.canvas}globalToLocalPoint(e){let n=e.x,r=e.y,i=this.canvas.getBoundingClientRect();return n-=i.left,r-=i.top,new y(Math.round(n/this.zoom),Math.round(r/this.zoom))}localToGlobalPoint(e){return new y(e.x*this.zoom,e.y*this.zoom)}setRootElement(e){this.rootElement=e}start(e){this.workLoop.start(e)}getRenderStats(){return{renderCount:this.prevRenderCount,cacheHitCount:this.prevCacheHitCount}}hasCanvasItemClipMask(e){return e?(Array.isArray(e)?e:[e]).some(r=>gn(r)):!1}createTempCanvas(e,n,r){return nd.getCanvas(e,n,r)}applyRectangleClips(e,n){if(!n)return;let i=(Array.isArray(n)?n:[n]).filter(o=>!gn(o));if(i.length>0){e.beginPath();for(let o of i)e.rect(o.x,o.y,o.width,o.height);e.clip()}}applyRectangleClipsToCanvas(e,n,r,i){if(!n)return e;let s=(Array.isArray(n)?n:[n]).filter(l=>!gn(l));if(s.length===0)return e;let a=new OffscreenCanvas(r,i),c=a.getContext("2d");if(!c)throw new Error("Failed to get 2D context for rectangle clip canvas");c.imageSmoothingEnabled=!1,c.save(),c.beginPath();for(let l of s)c.rect(l.x,l.y,l.width,l.height);return c.clip(),c.drawImage(e,0,0),c.restore(),a}applyCanvasItemClipMasks(e,n,r){if(!n||!this.hasCanvasItemClipMask(n))return e;let o=(Array.isArray(n)?n:[n]).filter(u=>gn(u));if(o.length===0)return e;let{canvas:s,context:a}=this.createTempCanvas(r.width,r.height,"mask");a.save(),a.translate(-r.x,-r.y);for(let u of o)gn(u)&&this.renderCanvasItem(a,u.item,!0);a.restore();let c=new OffscreenCanvas(r.width,r.height),l=c.getContext("2d");if(!l)throw new Error("Failed to get 2D context for clip mask result canvas");return l.imageSmoothingEnabled=!1,l.drawImage(e,0,0),l.globalCompositeOperation="destination-in",l.drawImage(s,0,0),c}renderCanvasItem(e,n,r=!1){if(n.isVisible&&(this.renderCount++,n instanceof We?this.drawAnimatedSprite(e,n):n instanceof ae?this.drawSprite(e,n):n.draw(e),r)){let i=ee.childrenByType(it,n,!1);for(let o of i)this.renderCanvasItem(e,o,r)}}renderCachedItem(e,n,r){let i=Na.get(r);if(i){this.cacheHitCount++,e.save(),n.opacity<1&&(e.globalAlpha=n.opacity),e.drawImage(i,Math.floor(n.position.x),Math.floor(n.position.y)),e.restore();return}let o=n.width,s=n.height,{canvas:a,context:c}=this.createTempCanvas(o,s,"cache"),l=n.ownPosition.clone(),u=ee.parentByType(V,n),f=u?u.position:new y(0,0);n.position=new y(0,0).sub(f),this.renderCanvasItem(c,n,!0),n.position=l,Na.set(r,a,o,s),e.save(),n.opacity<1&&(e.globalAlpha=n.opacity),e.drawImage(a,Math.floor(n.position.x),Math.floor(n.position.y)),e.restore(),this.renderCount++}applyFillColorToTexture(e,n,r,i){if(!i)return null;let o=new OffscreenCanvas(n,r),s=o.getContext("2d");if(!s)throw new Error("Failed to get 2D context for fill color canvas");return s.imageSmoothingEnabled=!1,s.drawImage(e,0,0),s.globalCompositeOperation="source-in",s.fillStyle=i,s.fillRect(0,0,n,r),o}drawTextureWithTransforms(e,n,r,i,o,s,a,c,l=!1,u=!1,f=new y(1,1)){if(this.hasCanvasItemClipMask(c)){let{canvas:p,context:h}=this.createTempCanvas(i,o),I=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let v=l?-1:1,M=u?-1:1;h.scale(v,M),h.drawImage(I,v*0,0,v*i,o)}else h.drawImage(I,0,0);let b=this.applyCanvasItemClipMasks(p,c,{x:Math.floor(r.x),y:Math.floor(r.y),width:i,height:o}),g=i*f.x,m=o*f.y;e.save(),this.applyRectangleClips(e,c),s<1&&(e.globalAlpha=s),e.drawImage(b,Math.floor(r.x),Math.floor(r.y),g,m),e.restore()}else if((c?Array.isArray(c)?c:[c]:[]).filter(I=>!gn(I)).length>0){let{canvas:I,context:b}=this.createTempCanvas(i,o),m=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let w=l?-1:1,S=u?-1:1;b.scale(w,S),b.drawImage(m,w*0,0,w*i,o)}else b.drawImage(m,0,0);let v=this.applyRectangleClipsToCanvas(I,c,i,o),M=i*f.x,_=o*f.y;e.save(),s<1&&(e.globalAlpha=s),e.drawImage(v,Math.floor(r.x),Math.floor(r.y),M,_),e.restore()}else{e.save(),s<1&&(e.globalAlpha=s);let b=this.applyFillColorToTexture(n,i,o,a)||n,g=i*f.x,m=o*f.y;if(l||u){let v=l?-1:1,M=u?-1:1;e.translate(Math.floor(r.x),Math.floor(r.y)),e.scale(v,M),e.drawImage(b,0,0,v*g,M*m)}else e.drawImage(b,Math.floor(r.x),Math.floor(r.y),g,m);e.restore()}}drawSprite(e,n){let r=n.texture;this.drawTextureWithTransforms(e,r.data,n.position,r.width,r.height,n.opacity,n.fillColor,n.clipRegion,!1,!1,n.scale)}drawAnimatedSprite(e,n){let r=n.currentFrame;if(!r)return;let i=r.texture;this.drawTextureWithTransforms(e,i.data,n.position,i.width,i.height,n.opacity,n.fillColor,n.clipRegion,n.flipH,n.flipV,n.scale)}render(e){if(this.prevRenderCount=this.renderCount,this.prevCacheHitCount=this.cacheHitCount,this.renderCount=0,this.cacheHitCount=0,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),!!this.rootElement){this.rootElement.dispatchEvent(new at(e));for(let n of ee.childrenByType(it,this.rootElement,!0,!0))if(n.isVisible){if(n instanceof V){if(this.itemHasCachedParent(n))continue;let r=n.cacheable?n.cacheKey:void 0;if(r){this.renderCachedItem(this.context,n,r);continue}}this.renderCanvasItem(this.context,n,!1)}nd.releaseAll()}}itemHasCachedParent(e){let n=ee.parentByType(V,e);return n?n.cacheable&&n.cacheKey&&Na.get(n.cacheKey)?!0:this.itemHasCachedParent(n):!1}};var lt=class extends ye{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var Re=class extends V{sim;_colliderDimensions;_colliderOffset;_filterCollision;constructor(e){super(e)}get dimensions(){let e=this.width,n=this.height;for(let r of ee.childrenByType(V,this))e=Math.max(e,r.width),n=Math.max(n,r.height);return new y(e,n)}get collider(){let e=this._colliderOffset||new y(0,0),n=this._colliderDimensions||this.dimensions;return{position:this.position.add(e),dimensions:n}}set filterCollisionFn(e){this._filterCollision=e}setColliderOffset(e){this._colliderOffset=e}setColliderDimensions(e){this._colliderDimensions=e}attachToSimulation(e){this.sim=e}filterCollision(e){return this._filterCollision?this._filterCollision(e):!0}};var Kt=class extends ye{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var Fg=1e3,Ct=class extends Re{_impulse=new y(0,0);_sleeping=!1;_canSleep=!0;_sleepDelay=Fg;avgVelAcc=[new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0)];constructor(e){super(e),this.on(lt,n=>{this.sim&&!this._sleeping&&(this.applyDrag(),this.applyImpulse(this.velocityDelta(this.sim.gravity,n.deltaTime),n.deltaTime,!1))}),this.on(Kt,n=>{if(this._sleeping)return;Math.abs(this._impulse.x)<1&&(this._impulse=new y(0,this._impulse.y)),Math.abs(this._impulse.y)<1&&(this._impulse=new y(this._impulse.x,0));let r=new y(0,0);if(this._impulse.x!==0||this._impulse.y!==0){let i=this.velocityDelta(this._impulse,n.deltaTime),o=this.checkHit(this._impulse,n.deltaTime);this._impulse.normal.x!==0&&(o.x?(this.position=this.position.add(new y(o.x.distance,0)),this._impulse.x=0,r.x+=o.x.distance):(this.position=this.position.add(new y(i.x,0)),this._impulse.x-=i.x,r.x+=i.x)),this._impulse.normal.y!==0&&(o.y?(this.position=this.position.add(new y(0,o.y.distance)),this._impulse.y=0,r.y+=o.y.distance):(this.position=this.position.add(new y(0,i.y)),this._impulse.y-=i.y,r.y+=i.y))}if(this.avgVelAcc.pop(),this.avgVelAcc.unshift(r),this.canSleep){let i=this.avgVelocity(9);i.x===0&&i.y===0&&(this._sleepDelay<=0?this._sleeping=!0:this._sleepDelay-=n.deltaTime)}})}applyDrag(e=.85){this._impulse.x*=e}applyImpulse(e,n,r=!0){r&&this.wakeUp();let i=this._impulse.add(e),o=this.checkHit(i,n);e.normal.x!==0&&!o.x&&(this._impulse.x=i.x),e.normal.y!==0&&!o.y&&(this._impulse.y=i.y)}velocityDelta(e,n){let r=e.mul(n/1e3);return new y(Math.abs(r.x)*r.normal.x,Math.abs(r.y)*r.normal.y)}checkHit(e,n,r,i){return{x:this.sim?.checkFutureCollisionX(this,this.velocityDelta(e,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i),y:this.sim?.checkFutureCollisionY(this,this.velocityDelta(e,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i)}}checkFutureIntersection(e,n){let r=ee.childrenByType(Re,this.rootElement);for(let i of r){if(n&&!n(i))continue;let o=this.sim?.checkFutureIntersection(this.collider.position,e,this.collider.dimensions,i);if(o)return o}}checkAllFutureIntersections(e,n){let r=ee.childrenByType(Re,this.rootElement),i=[];for(let o of r){if(n&&!n(o))continue;let s=this.sim?.checkFutureIntersection(this.collider.position,e,this.collider.dimensions,o);s&&i.push(s)}return i}checkCurrentIntersection(e){return this.checkFutureIntersection(new y(0,0),e)}checkAllCurrentIntersections(e){return this.checkAllFutureIntersections(new y(0,0),e)}isGrounded(){return!!this.checkHit(new y(0,1),1e3).y}avgVelocity(e=3){let n=new y(0,0);e=Math.min(e,9);let r=this.avgVelAcc.slice(0,e);for(let i of r)n.x+=i.x,n.y+=i.y;return n.div(e)}colliderCheck(e){return e!==this}get sleeping(){return this._sleeping}wakeUp(){this._sleeping=!1,this._sleepDelay=Fg}get canSleep(){return this._canSleep}set canSleep(e){this._canSleep=e}};var ui=class{constructor(e=new y(0,1024)){this.gravity=e;this.workLoop=new fn(this.step.bind(this))}viewport;rootElement;workLoop;lastCollisionObjects={x:[],y:[]};wakeUpInterval=250;timeSinceLastWakeUp=0;setViewport(e){this.viewport=e}setRootElement(e){this.rootElement=e;for(let n of ee.childrenByType(Re,this.rootElement))n.attachToSimulation(this);this.rootElement.on(un,n=>{let r=n.target;r instanceof Re&&r.attachToSimulation(this)})}start(e){this.workLoop.start(e)}getDebugInformation(){let e=[];function n(r,i,o){let s=r,a=r.add(i);s.x=Math.floor(s.x),s.y=Math.floor(s.y),a.x=Math.floor(a.x),a.y=Math.floor(a.y),e.push({from:s,to:new y(a.x,s.y),color:o}),e.push({from:new y(a.x,s.y),to:a,color:o}),e.push({from:a,to:new y(s.x,a.y),color:o}),e.push({from:new y(s.x,a.y),to:s,color:o})}if(this.rootElement){for(let r of ee.childrenByType(Re,this.rootElement))n(r.collider.position,r.collider.dimensions,r instanceof Ct&&r.sleeping?"rgba(199, 194, 198, 0.5)":"rgba(205, 93, 215, 0.5)");this.lastCollisionObjects.x.length===2&&(n(this.lastCollisionObjects.x[0].position,this.lastCollisionObjects.x[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.x[1].position,this.lastCollisionObjects.x[1].dimensions,"rgba(49, 252, 3, 0.5)")),this.lastCollisionObjects.y.length===2&&(n(this.lastCollisionObjects.y[0].position,this.lastCollisionObjects.y[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.y[1].position,this.lastCollisionObjects.y[1].dimensions,"rgba(252, 3, 65, 0.5)"))}return e}checkFutureIntersection(e,n,r,i){if(!this.rootElement)return!1;let o=e.add(n),s=o.x,a=o.y,c=o.x+r.x,l=o.y+r.y,u=i.collider.position.x,f=i.collider.position.y,d=i.collider.position.x+i.collider.dimensions.x,p=i.collider.position.y+i.collider.dimensions.y;if(Math.max(s,u)<Math.min(c,d)&&Math.max(a,f)<Math.min(l,p))return i}checkFutureCollisionX(e,n,r,i){if(!this.rootElement)return;let o=ee.childrenByType(Re,this.rootElement),s=e.collider.position.add(n),a=s.x,c=s.x+e.collider.dimensions.x;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:e}))continue;let u=this.checkFutureIntersection(e.collider.position,n,e.collider.dimensions,l),f=l.collider.position.x,d=l.collider.position.x+l.collider.dimensions.x;if(u){let p=n.x;if(n.normal.x===1){if(c>f&&(p-=c-f,Math.abs(p)<Math.abs(n.x)))return this.lastCollisionObjects.x=[e.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:p}}else if(n.normal.x===-1&&a<d&&(p+=d-a,Math.abs(p)<Math.abs(n.x)))return this.lastCollisionObjects.x=[e.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:p}}}this.lastCollisionObjects.x=[]}checkFutureCollisionY(e,n,r,i){if(!this.rootElement)return;let o=ee.childrenByType(Re,this.rootElement),s=e.collider.position.add(n),a=s.y,c=s.y+e.collider.dimensions.y;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:e}))continue;let u=this.checkFutureIntersection(e.collider.position,n,e.collider.dimensions,l),f=l.collider.position.y,d=l.collider.position.y+l.collider.dimensions.y;if(u){let p=n.y;if(n.normal.y===1){if(c>f&&(p-=c-f,Math.abs(p)<Math.abs(n.y)))return this.lastCollisionObjects.y=[e.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:p}}else if(n.normal.y===-1&&a<d&&(p+=d-a,Math.abs(p)<Math.abs(n.y)))return this.lastCollisionObjects.y=[e.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:p}}}this.lastCollisionObjects.y=[]}step(e,n){if(this.rootElement){if(this.timeSinceLastWakeUp+=n,this.timeSinceLastWakeUp>=this.wakeUpInterval){this.timeSinceLastWakeUp=0;let r=ee.childrenByType(Ct,this.rootElement);for(let i of r)i.sleeping&&i.wakeUp()}this.rootElement.dispatchEvent(new lt(e,n,this)),this.rootElement.dispatchEvent(new Kt(e,n,this))}}};var hr=class extends Re{};var Ee=class extends V{_size;flexDirection="row";justifyContent="flex-start";alignItems="flex-start";gap=0;padding=new y(0,0);constructor(e,n){super(e),this._size=n}get width(){return this._size.width}get height(){return this._size.height}addChild(e){super.addChild(e),this.layout()}removeChild(e){super.removeChild(e),this.layout()}layout(){let e=this.children.filter(d=>d instanceof V);if(e.length===0)return;let n=this.flexDirection==="row",r=n?this.padding.x:this.padding.y,i=n?this.padding.y:this.padding.x,o=(n?this._size.width:this._size.height)-r*2,s=(n?this._size.height:this._size.width)-i*2,a=0,c=[];for(let d of e){let p=n?d.width:d.height;c.push(p),a+=p}let l=this.gap*(e.length-1);a+=l;let u=this.calculateJustifyStart(o,a,e.length)+r,f=this.calculateSpacing(o,a,e.length);for(let d=0;d<e.length;d++){let p=e[d],h=c[d],C=n?p.height:p.width,I=this.calculateCrossAxisPosition(s,C)+i;n?p.position=new y(u,I):p.position=new y(I,u),u+=h+this.gap+f}}calculateJustifyStart(e,n,r){switch(this.justifyContent){case"flex-start":return 0;case"flex-end":return e-n;case"center":return(e-n)/2;case"space-between":return 0;case"space-around":return(e-n)/(r*2);default:return 0}}calculateSpacing(e,n,r){let i=e-n;switch(this.justifyContent){case"space-between":return r>1?i/(r-1):0;case"space-around":return r>0?i/r:0;default:return 0}}calculateCrossAxisPosition(e,n){switch(this.alignItems){case"flex-start":return 0;case"flex-end":return e-n;case"center":return(e-n)/2;case"stretch":return(e-n)/2;default:return 0}}};var Tt=class extends V{_width=0;_height=0;_left;_center;_right;constructor(e,n,r,i){super(),this._width=e,this._height=(n||r||i)?.height||0,this._left=n,this._center=r,this._right=i,this.cacheable=!0;let o=new ae(n),s=new ae(i);this.addChild(o),this.addChild(s),s.position=new y(e-s.width,0);let c=e-Math.min(e,o.width+s.width),l=o.width;for(;c>0;){let u=new ae(r);u.position=new y(l,0),c<u.width&&(u.clipRegion={x:0,y:0,width:c,height:u.height}),this.addChild(u),c-=u.width,l+=u.width}}get width(){return this._width}get height(){return this._height}get cacheKey(){if(!this.cacheable)return;let e=this._left?.id||"none",n=this._center?.id||"none",r=this._right?.id||"none",i=this.fillColor||"none";return`3slice:${this._width}:${e}:${n}:${r}:${i}`}};var Xt=class extends V{_size=new y(0,0);_topLeft;_topCenter;_topRight;_middleLeft;_middleCenter;_middleRight;_bottomLeft;_bottomCenter;_bottomRight;constructor(e,n,r,i,o,s,a,c,l,u){super(),this._size=e,this._topLeft=n,this._topCenter=r,this._topRight=i,this._middleLeft=o,this._middleCenter=s,this._middleRight=a,this._bottomLeft=c,this._bottomCenter=l,this._bottomRight=u,this.cacheable=!0;let f=new ae(n),d=new ae(i),p=new ae(c),h=new ae(u);this.addChild(f),this.addChild(d),this.addChild(p),this.addChild(h),f.position=new y(0,0),d.position=new y(e.width-d.width,0),p.position=new y(0,e.height-p.height),h.position=new y(e.width-h.width,e.height-h.height);let C=f.width,I=d.width,b=f.height,g=p.height,m=e.width-C-I,v=e.height-b-g;this.tileHorizontal(r,C,0,m),this.tileHorizontal(l,C,e.height-g,m),this.tileVertical(o,0,b,v),this.tileVertical(a,e.width-I,b,v),this.fillCenter(s,C,b,m,v)}tileHorizontal(e,n,r,i){if(!e||i<=0)return;let o=i,s=n;for(;o>0;){let a=new ae(e);a.position=new y(s,r),o<a.width&&(a.clipRegion={x:0,y:0,width:o,height:a.height}),this.addChild(a),o-=a.width,s+=a.width}}tileVertical(e,n,r,i){if(!e||i<=0)return;let o=i,s=r;for(;o>0;){let a=new ae(e);a.position=new y(n,s),o<a.height&&(a.clipRegion={x:0,y:0,width:a.width,height:o}),this.addChild(a),o-=a.height,s+=a.height}}fillCenter(e,n,r,i,o){if(!e||i<=0||o<=0)return;let s=o,a=r;for(;s>0;){let c=i,l=n;for(;c>0;){let u=new ae(e);u.position=new y(l,a);let f=Math.min(c,u.width),d=Math.min(s,u.height);(f<u.width||d<u.height)&&(u.clipRegion={x:0,y:0,width:f,height:d}),this.addChild(u),c-=u.width,l+=u.width}s-=e.height,a+=e.height}}get width(){return this._size.width}get height(){return this._size.height}get cacheKey(){if(!this.cacheable)return;let e=this._topLeft?.id||"none",n=this._topCenter?.id||"none",r=this._topRight?.id||"none",i=this._middleLeft?.id||"none",o=this._middleCenter?.id||"none",s=this._middleRight?.id||"none",a=this._bottomLeft?.id||"none",c=this._bottomCenter?.id||"none",l=this._bottomRight?.id||"none",u=this.fillColor||"none";return`9slice:${this._size.width}:${this._size.height}:${e}:${n}:${r}:${i}:${o}:${s}:${a}:${c}:${l}:${u}`}};var En=class extends ye{constructor(n){super();this.start=n}},mr=class extends ye{},Vo=class extends Ct{input;constructor(e){super(e),this.input=new Qr(this),this.input.setOn(0).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowUp"}),this.input.setOff(0).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowUp"}),this.input.setOn(3).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowDown"}),this.input.setOff(3).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowDown"}),this.input.setOn(1).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowLeft"}),this.input.setOff(1).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowLeft"}),this.input.setOn(2).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowRight"}),this.input.setOff(2).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowRight"}),this.input.setOn(4).when({type:xe,condition:i=>i.action===0&&i.key===" "}),this.input.setOff(4).when({type:xe,condition:i=>i.action===1&&i.key===" "});let n=!1,r=!1;this.input.onChange(i=>{i.get(0)&&this.isGrounded()&&(n=!0),i.get(3)&&this.isGrounded()?(r=!0,this.dispatchEvent(new En(!0))):r&&(r=!1,this.dispatchEvent(new En(!1))),i.get(4)&&this.isGrounded()&&this.dispatchEvent(new mr)}),this.on(lt,i=>{this.input.state.get(1)&&this.input.state.get(2)||(this.input.state.get(1)&&this.applyImpulse(new y(-16,0),i.deltaTime),this.input.state.get(2)&&this.applyImpulse(new y(16,0),i.deltaTime)),n&&(n=!1,this.applyImpulse(new y(0,-288),i.deltaTime)),r&&this.applyImpulse(new y(0,3),i.deltaTime)}),this.on(Kt,i=>{this.switchStance(i.currentTime)})}switchStance(e){}};var Ke=class extends Vo{constructor(n,r,i=0,o=new y(0,0)){super(n);this.assetName=r;this.spritePointing=i;this.spriteOffset=o;this.gfx=new V,this.addChild(this.gfx),this.ghost=new V,this.ghost.isVisible=!1,this.setColliderOffset(new y(38,4)),this.setColliderDimensions(new y(20,28)),this.switchStance(0),this._pointing=1}gfx;ghost;activeStance;activeStanceStartTime=0;_pointing=1;get pointing(){return this._pointing}get pointingDefault(){return this._pointing===this.spritePointing}get ghostGraphics(){return this.ghost}updateGhostPosition(){this.ghost.position=this.position}switchStance(n){let r=ie.get("assets"),i="Idle",o=this.avgVelocity();o.y>.1?i="Fall":o.y<-.1&&(i="Jump"),o.x>.1?this._pointing=1:o.x<-.1&&(this._pointing=0);let s=n-this.activeStanceStartTime;if((this.activeStance==="Fall"&&i==="Idle"||this.activeStance==="Ground"&&s<=r[this.assetName].animations.Ground.duration)&&(i="Ground"),i!=="Ground"&&Math.abs(o.y)<.1&&Math.abs(o.x)>.1&&(i="Run"),i!==this.activeStance){this.activeStanceStartTime=n,this.activeStance=i,this.gfx.removeAllChildren(),this.gfx.addChild(new We(r[this.assetName].animations[i])),this.ghost.removeAllChildren();let a=new We(r[this.assetName].animations[i]);a.opacity=.5,a.fillColor="rgba(0, 0, 0, 1)",this.ghost.addChild(a)}if(this.gfx.children.length===1){let a=this.gfx?.children[0];a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new y(0,-32).add(this.spriteOffset):a.translation=new y(0,-32).sub(this.spriteOffset)}if(this.ghost.children.length===1){let a=this.ghost?.children[0];a.clipRegion=this.ghostGraphics.clipRegion,a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new y(0,-32).add(this.spriteOffset):a.translation=new y(0,-32).sub(this.spriteOffset)}}};var gr=class extends Ke{constructor(e){super(e,"The Crusty Crew Pink Star")}};var K_={regular:{charsMapKey:"Chars"},hero:{charsMapKey:"CharsHero"}},Oe=class extends V{_width=0;_height=0;letterSpacing;style;_text="";constructor(e,n=1,r="regular"){super(),this.letterSpacing=n,this.style=r,e&&this.setText(e),this.cacheable=!0}get cacheKey(){if(!this.cacheable)return;let e=this.fillColor||"none";return`text:${this._text}:${this.style}:${this.letterSpacing}:${e}`}get fillColor(){return super.fillColor}set fillColor(e){super.fillColor=e;for(let n of this.children)n instanceof ae&&(n.fillColor=e)}setTextFromTextures(e){let n=[...this.children];for(let r of n)this.removeChild(r);this._width=0,this._height=0;for(let r=0;r<e.length;r+=1){let i=e[r],o=new ae(i,new y(this._width,0));this.fillColor&&(o.fillColor=this.fillColor),this.addChild(o),this._width+=o.width,r<e.length-1&&(this._width+=this.letterSpacing),this._height=o.height}}setText(e){this._text=e;let n=ie.get("chars"),r=K_[this.style],o=e.toLowerCase().split("").map(s=>n[r.charsMapKey][s]||n[r.charsMapKey].__unknown__).filter(s=>s!==void 0);this.setTextFromTextures(o)}setTextFromCodes(e,n="Chars",r="Chars"){let o=ie.get("assets")[r]?.tilemaps[n];if(!o){console.warn(`Tilemap "${n}" not found in asset "${r}"`);return}let s=[];for(let a of e){let c=o.get(a);if(!c){console.warn(`Texture at index ${a} not found in tilemap`);continue}s.push(c)}this.setTextFromTextures(s)}get width(){return this._width}get height(){return this._height}};var ct=class extends Ct{constructor(n,r){super(n);this.text=r;let i=ie.get("assets"),o=new Oe(r);this.addChild(new Tt(o.width+6,i.Paper.tilemaps.Paper.get(1),i.Paper.tilemaps.Paper.get(2),i.Paper.tilemaps.Paper.get(3))),o.position=new y(3,3),this.addChild(o)}};var $g="rgba(0, 0, 0, 0.3)",X_="rgba(255, 255, 255, 0.3)",J_={primary:{multiChar:{left:2,center:3,right:4},multiCharHover:{left:44,center:45,right:46},singleChar:1,singleCharHover:43},secondary:{multiChar:{left:6,center:7,right:8},multiCharHover:{left:48,center:49,right:50},singleChar:5,singleCharHover:47}},$t=class extends V{outline;background;hoverBackground;textComponent;textDefaultPosition;mouseInteraction;action=void 0;constructor(e,n,r="primary"){super(e),this.textComponent=n;let o=ie.get("assets")["Wood and Paper UI - Buttons"].tilemaps["Wood and Paper"],s=1,a=1,c=J_[r];if(n.children.length>1){let u=n.width+12;this.background=new Tt(u,o.get(c.multiChar.left),o.get(c.multiChar.center),o.get(c.multiChar.right)),this.hoverBackground=new Tt(u,o.get(c.multiCharHover.left),o.get(c.multiCharHover.center),o.get(c.multiCharHover.right)),this.outline=new Tt(u+s*2,o.get(c.multiChar.left),o.get(c.multiChar.center),o.get(c.multiChar.right)),n.position=new y(6,4),this.textDefaultPosition=new y(6,4)}else this.background=new ae(o.get(c.singleChar)),this.hoverBackground=new ae(o.get(c.singleCharHover)),this.outline=new Tt(this.background.width+s*2,o.get(c.multiChar.left),o.get(c.multiChar.center),o.get(c.multiChar.right)),n.position=new y(5,4),this.textDefaultPosition=new y(5,4);this.outline.position=new y(-s,-a),this.outline.fillColor=$g;let l=(this.background.height+a*2)/this.outline.height;this.outline.scale=new y(1,l),this.addChild(this.outline),this.addChild(this.background),this.addChild(this.hoverBackground),this.hoverBackground.isVisible=!1,this.addChild(n),this.mouseInteraction=new Kr(this),this.mouseInteraction.on(Kn,this.handleMouseEnter.bind(this)),this.mouseInteraction.on(Xn,this.handleMouseLeave.bind(this)),this.mouseInteraction.on(Jn,this.handleMouseClick.bind(this))}handleMouseEnter(){this.outline.fillColor=X_,this.background.isVisible=!1,this.hoverBackground.isVisible=!0,this.textComponent.position=new y(this.textDefaultPosition.x,this.textDefaultPosition.y+1)}handleMouseLeave(){this.outline.fillColor=$g,this.background.isVisible=!0,this.hoverBackground.isVisible=!1,this.textComponent.position=this.textDefaultPosition}handleMouseClick(){this.action&&this.action()}get width(){return this.background.width}get height(){return this.background.height}};var yr=class extends V{constructor(n,r){super(n);this._size=r}get width(){return this._size?.width||0}get height(){return this._size?.height||0}};var xI=UI(TI());var Ci=class extends V{_size;htmlContent;previewCanvas;context;sprite;constructor(e,n,r){super(),this._size=n,this.position=e,this.htmlContent=r,this.previewCanvas=new OffscreenCanvas(this.width,this.height);let i=this.previewCanvas.getContext("2d");if(!i)throw new Error("Could not obtain off-screen canvas context");this.context=i,this.sprite=new ae(Ze.empty()),this.addChild(this.sprite),this.renderHtml()}renderHtml(){return Y(this,null,function*(){this.context.clearRect(0,0,this.width,this.height);let e=`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body {
              margin: 8px;
              font-family: Arial, sans-serif;
              font-size: 12px;
              line-height: 1.4;
            }
            
            a {
              color: blue;
              text-decoration: underline;
            }
          </style>
        </head>
        <body>${this.htmlContent}</body>
      </html>
    `;try{yield(0,xI.drawHTML)(e,this.previewCanvas,{width:this.width,height:this.height,executeJs:!1});let n=yield createImageBitmap(this.previewCanvas),r=Ze.fromImageBitmap(n);this.sprite.texture=r}catch(n){console.error("Error rendering HTML with rasterizehtml:",n)}})}setHtml(e){this.htmlContent!==e&&(this.htmlContent=e,this.renderHtml())}get width(){return this._size.width}get height(){return this._size.height}};var Ti=class extends V{board;constructor(e,n){super(e);let i=ie.get("assets")["Wood and Paper UI - Boards"].tilemaps["Wood and Paper"];this.board=new Xt(n,i.get(33),i.get(34),i.get(35),i.get(41),i.get(42),i.get(43),i.get(49),i.get(50),i.get(51)),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var IM={primary:{topLeft:1,topCenter:2,topRight:3,middleLeft:9,middleCenter:10,middleRight:11,bottomLeft:17,bottomCenter:18,bottomRight:19},secondary:{topLeft:5,topCenter:6,topRight:7,middleLeft:13,middleCenter:14,middleRight:15,bottomLeft:21,bottomCenter:22,bottomRight:23}},_n=class extends V{outline;board;paper;constructor(e,n,r="primary",i=!1){super(e);let s=ie.get("assets")["Wood and Paper UI - Boards"].tilemaps["Wood and Paper"],a=IM[r];if(i){let u=new y(n.width+2,n.height+4),f=new y(-1,-2);this.outline=new Xt(u,s.get(a.topLeft),s.get(a.topCenter),s.get(a.topRight),s.get(a.middleLeft),s.get(a.middleCenter),s.get(a.middleRight),s.get(a.bottomLeft),s.get(a.bottomCenter),s.get(a.bottomRight)),this.outline.position=f,this.outline.fillColor="rgba(0, 0, 0, 0.3)",this.addChild(this.outline)}this.board=new Xt(n,s.get(a.topLeft),s.get(a.topCenter),s.get(a.topRight),s.get(a.middleLeft),s.get(a.middleCenter),s.get(a.middleRight),s.get(a.bottomLeft),s.get(a.bottomCenter),s.get(a.bottomRight)),this.paper=new Ti(new y(0,0),n),this.addChild(this.board),this.addChild(this.paper)}get width(){return this.board.width}get height(){return this.board.height}};var Sn=class extends V{content;_margin;_padding;constructor(e=new y(0,0),n={},r={}){super(e),this._margin={top:n.top??0,right:n.right??0,bottom:n.bottom??0,left:n.left??0},this._padding={top:r.top??0,right:r.right??0,bottom:r.bottom??0,left:r.left??0}}setContent(e){this.content&&this.removeChild(this.content),this.content=e,this.content.position=new y(this._padding.left,this._padding.top),this.addChild(this.content)}get margin(){return ke({},this._margin)}get padding(){return ke({},this._padding)}get width(){return this.content?this._margin.left+this._padding.left+this.content.width+this._padding.right+this._margin.right:0}get height(){return this.content?this._margin.top+this._padding.top+this.content.height+this._padding.bottom+this._margin.bottom:0}get contentSize(){return this.content?new y(this.content.width,this.content.height):new y(0,0)}get innerSize(){return this.content?new y(this._padding.left+this.content.width+this._padding.right,this._padding.top+this.content.height+this._padding.bottom):new y(0,0)}};var xi=class{frameCount;startTime;currentFps;constructor(){this.frameCount=0,this.startTime=0,this.currentFps=0}advance(e){this.startTime===0&&(this.startTime=e);let n=e-this.startTime;this.frameCount+=1,this.currentFps=1e3/(n/this.frameCount),n>=1e4&&(this.startTime=e,this.frameCount=0)}get fps(){return this.currentFps}};var Dn=class{history=[];maxHistoryLength=120;addSample(e){this.history.push(e),this.history.length>this.maxHistoryLength&&this.history.shift()}draw(e,n,r,i,o){if(this.history.length===0)return;let s=Math.max(...this.history,1),a=Math.min(...this.history,0);e.fillStyle="rgba(0, 0, 0, 0.7)",e.fillRect(n,r,i,o),e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=1,e.strokeRect(n,r,i,o),e.strokeStyle="rgba(255, 255, 255, 0.1)",e.beginPath();for(let u=1;u<4;u++){let f=r+o/4*u;e.moveTo(n,f),e.lineTo(n+i,f)}e.stroke(),e.strokeStyle="#00ff00",e.lineWidth=2,e.beginPath();let c=i/this.maxHistoryLength;for(let u=0;u<this.history.length;u++){let d=(this.history[u]-a)/(s-a||1),p=n+u*c,h=r+o-d*o;u===0?e.moveTo(p,h):e.lineTo(p,h)}e.stroke(),e.fillStyle="rgba(255, 255, 255, 0.8)",e.font="10px monospace",e.fillText(`Max: ${s.toFixed(0)}`,n+4,r+12),e.fillText(`Min: ${a.toFixed(0)}`,n+4,r+o-4);let l=this.history[this.history.length-1];e.fillText(`Current: ${l.toFixed(0)}`,n+i-80,r+12)}clear(){this.history=[]}get currentValue(){return this.history[this.history.length-1]||0}get averageValue(){return this.history.length===0?0:this.history.reduce((n,r)=>n+r,0)/this.history.length}};var _i=class extends it{graphCanvas;graphContext;engine;previousScene;renderFpsCounter=new xi;physicsFpsCounter=new xi;renderGraph=new Dn;cacheHitGraph=new Dn;renderFpsGraph=new Dn;physicsFpsGraph=new Dn;debugLines=[];_enablePhysicsDebugLines=!1;_enableGridLines=!1;_enableHoverHighlight=!1;_enableFlexDebugLines=!1;_enableRenderGraph=!1;hoveredObject;gridSize=new y(32,32);constructor(e){super(),this.graphCanvas=document.createElement("canvas"),this.graphCanvas.style.position="absolute",this.graphCanvas.style.top="50px",this.graphCanvas.style.left="20px",this.graphCanvas.style.display="none",this.graphCanvas.width=260,this.graphCanvas.height=480,this.graphCanvas.style.imageRendering="pixelated",e.appendChild(this.graphCanvas);let n=this.graphCanvas.getContext("2d");if(!n)throw new Error("Failed to get 2D context for graph canvas");this.graphContext=n,this.graphContext.imageSmoothingEnabled=!1,this.on(at,this.onTick.bind(this)),this.on(lt,this.onPhysicsTick.bind(this)),this.on(Pt,this.onMouseMove.bind(this))}set enablePhysicsDebugLines(e){this._enablePhysicsDebugLines=e}set enableGridLines(e){this._enableGridLines=e}set enableHoverHighlight(e){this._enableHoverHighlight=e}set enableFlexDebugLines(e){this._enableFlexDebugLines=e}set enableRenderGraph(e){this._enableRenderGraph=e,this.graphCanvas.style.display=e?"block":"none"}attachTo(e){this.engine=e,e.on(pn,n=>{this.attachToScene(n.scene)})}attachToScene(e){this.previousScene&&this.previousScene.removeChild(this),e.addChild(this,99999),this.previousScene=e}onTick(e){if(this._enableRenderGraph&&this.renderFpsCounter.advance(e.currentTime),this._enableRenderGraph&&this.engine){let n=this.engine.renderer.getRenderStats();this.renderGraph.addSample(n.renderCount),this.cacheHitGraph.addSample(n.cacheHitCount),this.renderFpsGraph.addSample(this.renderFpsCounter.fps),this.drawRenderGraphs()}}onPhysicsTick(e){this._enableRenderGraph&&this.physicsFpsCounter.advance(e.currentTime),this._enableRenderGraph&&this.physicsFpsGraph.addSample(this.physicsFpsCounter.fps),this._enablePhysicsDebugLines&&(this.debugLines=e.simulation.getDebugInformation())}onMouseMove(e){if(!this._enableHoverHighlight||!this.previousScene){this.hoveredObject=void 0;return}this.hoveredObject=this.getObjectAt(e.point)}getObjectAt(e){if(!this.previousScene)return;let n=ee.childrenByType(V,this.previousScene);for(let r=n.length-1;r>=0;r--){let i=n[r],o=i.position.left,s=i.position.left+i.width,a=i.position.top,c=i.position.top+i.height;if(o<=e.x&&e.x<=s&&a<=e.y&&e.y<=c)return i}}draw(e){if(this._enableGridLines){let n=this.engine?.viewport.width||0,r=this.engine?.viewport.height||0;for(let i=this.gridSize.width;i<n;i+=this.gridSize.width)e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.2",e.moveTo(i,0),e.lineTo(i,r),e.stroke();for(let i=this.gridSize.height;i<r;i+=this.gridSize.height)e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.2",e.moveTo(0,i),e.lineTo(n,i),e.stroke();e.beginPath(),e.strokeStyle="#ff0000",e.rect(0,0,n,r),e.stroke()}if(this._enablePhysicsDebugLines)for(let n of this.debugLines)e.beginPath(),e.strokeStyle=n.color,e.moveTo(n.from.x,n.from.y),e.lineTo(n.to.x,n.to.y),e.stroke();if(this._enableHoverHighlight&&this.hoveredObject){let n=this.hoveredObject;e.beginPath(),e.strokeStyle="#00ff00",e.lineWidth=2,e.rect(n.position.left,n.position.top,n.width,n.height),e.stroke(),e.lineWidth=1}this._enableFlexDebugLines&&this.previousScene&&this.drawFlexDebugLines(e)}drawRenderGraphs(){this.graphContext.clearRect(0,0,this.graphCanvas.width,this.graphCanvas.height);let e=240,n=80,r=10,i=25,o=r;this.graphContext.fillStyle="rgba(255, 255, 255, 0.9)",this.graphContext.font="12px monospace",this.graphContext.fillText("Render FPS",r,o+2),o+=12,this.renderFpsGraph.draw(this.graphContext,r,o,e,n),o+=n+i,this.graphContext.fillText("Physics FPS",r,o+2),o+=12,this.physicsFpsGraph.draw(this.graphContext,r,o,e,n),o+=n+i,this.graphContext.fillText("Renders/Frame",r,o+2),o+=12,this.renderGraph.draw(this.graphContext,r,o,e,n),o+=n+i,this.graphContext.fillText("Cache Hits/Frame",r,o+2),o+=12,this.cacheHitGraph.draw(this.graphContext,r,o,e,n)}drawFlexDebugLines(e){if(!this.previousScene)return;let n=ee.childrenByType(Ee,this.previousScene);for(let r of n){let i=r.position,o=i.x,s=i.y,a=r.width,c=r.height;e.beginPath(),e.strokeStyle="#0088ff",e.lineWidth=2,e.rect(o,s,a,c),e.stroke(),e.fillStyle="#0088ff",e.font="10px monospace";let l=`${r.flexDirection} | ${r.justifyContent} | ${r.alignItems}`;e.fillText(l,o+4,s+12);let u=r.children.filter(f=>f instanceof V);for(let f of u){let d=f.position,p=d.x,h=d.y;e.beginPath(),e.strokeStyle="#ff8800",e.lineWidth=1,e.rect(p,h,f.width,f.height),e.stroke(),e.beginPath(),e.strokeStyle="#ff0000",e.lineWidth=1,e.moveTo(p-3,h),e.lineTo(p+3,h),e.moveTo(p,h-3),e.lineTo(p,h+3),e.stroke()}if(r.gap>0&&u.length>1){let f=r.flexDirection==="row";e.strokeStyle="#ff00ff",e.lineWidth=1,e.setLineDash([2,2]);for(let d=0;d<u.length-1;d++){let p=u[d],h=u[d+1],C=p.position,I=h.position;if(f){let b=C.x+p.width,g=I.x,m=s+c/2;e.beginPath(),e.moveTo(b,m),e.lineTo(g,m),e.stroke()}else{let b=C.y+p.height,g=I.y,m=o+a/2;e.beginPath(),e.moveTo(m,b),e.lineTo(m,g),e.stroke()}}e.setLineDash([])}e.lineWidth=1}}};var Si=class extends kt{constructor(n,r){super();this.loadingAssetPath=n;this.charsAssetInfo=r}progressText;contentLayout;run(){return Y(this,null,function*(){let n=new pr;yield n.init({Loading:{path:this.loadingAssetPath}},{Chars:this.charsAssetInfo}),ie.set("chars",n.chars);let r=new We(n.assets.Loading.animations["Big Map"]);r.animationSpeed=.5,this.progressText=new Oe("",2),this.progressText.fillColor="#ffffff",this.progressText.setText("0%"),this.contentLayout=new Ee(new y(0,0),new y(r.width,r.height+50)),this.contentLayout.flexDirection="column",this.contentLayout.justifyContent="center",this.contentLayout.alignItems="center",this.contentLayout.gap=0,this.contentLayout.addChild(r),this.contentLayout.addChild(this.progressText);let i=new Ee(new y(0,0),ie.get("viewport"));i.justifyContent="center",i.alignItems="center",i.addChild(this.contentLayout),this.addChild(i)})}loadAssets(n,r){return Y(this,null,function*(){let i=new pr;yield i.init(n,r,o=>{this.updateProgress(o.percentage)}),ie.set("assets",i.assets),ie.set("chars",i.chars)})}updateProgress(n){if(this.progressText){let r=Math.floor(n).toString()+"%";this.progressText.setText(r),this.contentLayout&&this.contentLayout.layout()}}};var Mn=class extends V{board;menuLayout;constructor(e,n,r){super(e);let i;if(r){let C=new Oe;C.setTextFromCodes([53]),i=new $t(new y(0,0),C,"secondary"),i.action=r}let o=[],s=0,a=0,c=8;for(let C of n){let I=new Oe(C.label),b=new $t(new y(0,0),I,C.variant);b.action=C.action,o.push(b),s=Math.max(s,b.width),a+=b.height}a+=c*(o.length-1);let l=new Oe("Markup Mischief",1,"hero"),u=new Sn(new y(0,0),{top:20},{});u.setContent(l),this.menuLayout=new Ee(new y(0,0),new y(s,a)),this.menuLayout.flexDirection="column",this.menuLayout.justifyContent="center",this.menuLayout.alignItems="center",this.menuLayout.gap=c;for(let C of o)this.menuLayout.addChild(C);let f=new Sn(new y(0,0),{},{top:0,bottom:20});f.setContent(this.menuLayout);let d=new Ee(new y(0,0),new y(Math.max(u.width,f.width),u.height+f.height));d.flexDirection="column",d.alignItems="center",d.addChild(u),d.addChild(f);let p=new Sn(new y(0,0),{},{top:20,right:20,bottom:20,left:20});p.setContent(d);let h=new y(p.width,p.height);this.board=new _n(new y(0,0),h,"primary",!0),i&&this.board.addChild(i),this.board.addChild(p),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var br=class extends kt{constructor(e,n){super();let r=ie.get("viewport"),i=new Mn(new y(0,0),e,n),o=new Ee(new y(0,0),r);o.justifyContent="center",o.alignItems="center",o.addChild(i),this.addChild(o)}};var Nn={levels:[{id:1,name:"Level 1 - Emphasis",playerStart:{x:64,y:64},tags:[{position:{x:50,y:32},text:"<em>"},{position:{x:130,y:32},text:"</em>"},{position:{x:180,y:32},text:"text"}],solution:"<em> text </em>"},{id:2,name:"Level 2 - Strong Tag",playerStart:{x:96,y:64},tags:[{position:{x:280,y:96},text:"text"},{position:{x:50,y:160},text:"</strong>"},{position:{x:200,y:224},text:"bold"},{position:{x:150,y:288},text:"<strong>"}],solution:"<strong> bold text </strong>"},{id:3,name:"Level 3 - Nested Tags",playerStart:{x:128,y:64},tags:[{position:{x:400,y:96},text:"</p>"},{position:{x:160,y:128},text:"nested"},{position:{x:240,y:160},text:"</em>"},{position:{x:80,y:192},text:"<em>"},{position:{x:320,y:224},text:"<p>"}],solution:"<p> <em> nested </em> </p>"},{id:4,name:"Level 4 - Link Tag",playerStart:{x:64,y:96},tags:[{position:{x:260,y:160},text:"here"},{position:{x:340,y:192},text:"</a>"},{position:{x:100,y:224},text:"<a>"},{position:{x:180,y:256},text:"click"}],solution:"<a> click here </a>"}]};function jd(t){return new y(t.x,t.y)}var _I={numLayers:6,layers:[[{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:288,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:256,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:160,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:128,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:96,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:64,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:32,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:320,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:288,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:256,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:160,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:128,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:96,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:64,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:32,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}}],[{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:56}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:57}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:8}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:9}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:10}},{type:"animated",position:{x:64,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Big"},animationSpeed:1},{type:"animated",position:{x:256,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Medium"},animationSpeed:1},{type:"animated",position:{x:213,y:329},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Small"},animationSpeed:1}],[{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:10}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:4}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:11}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:8}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:7}},{type:"animated",position:{x:448,y:192},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Left"},animationSpeed:.1},{type:"animated",position:{x:224,y:301},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:128,y:264},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:2,y:201},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Right"},animationSpeed:.1}],[{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:16}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:24}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:19}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:27}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:15}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:1}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}}],[{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:6}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:7}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:8}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:12}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:13}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"animated",position:{x:192,y:111},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.5},{type:"animated",position:{x:416,y:207},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3},{type:"animated",position:{x:320,y:239},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.4},{type:"animated",position:{x:32,y:272},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3}],[{type:"static",position:{x:96,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:288,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:0,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:32,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}}]]};function rs(t,e){let n=new hr(t);return n.addChild(new yr(t,e)),n}function Xa(t,e,n){let r=new hr(t);return r.addChild(new yr(t,e)),r.filterCollisionFn=({collider:i,velocity:o})=>!(i instanceof Ke&&n()||i instanceof Ke&&o.y<=0),r}function xM(t,e,n){let r=new ct(t,e);return r.filterCollisionFn=({collider:i,velocity:o})=>!(i instanceof Ke&&n()||i instanceof Ke&&o.y<=0),r}var Ja=class{scene;levelData;dropping;constructor(e,n,r){this.scene=e,this.levelData=n,this.dropping=r}build(){return this.buildBackground(),this.buildWalls(),this.buildPlatforms(),this.buildTags(),this.buildPlayer()}buildBackground(){let e=li.fromData(_I);this.scene.addChild(e)}buildWalls(){this.scene.addChild(rs(new y(0,0),new y(32,384))),this.scene.addChild(rs(new y(480,0),new y(32,384))),this.scene.addChild(rs(new y(32,0),new y(448,32))),this.scene.addChild(rs(new y(32,352),new y(448,32))),this.scene.addChild(rs(new y(352,288),new y(128,64)))}buildPlatforms(){for(let e=6;e<=10;e+=1)this.scene.addChild(Xa(new y(32,2+32*e),new y(288,1),this.dropping));this.scene.addChild(Xa(new y(344,258),new y(22,1),this.dropping)),this.scene.addChild(Xa(new y(440,226),new y(22,1),this.dropping)),this.scene.addChild(Xa(new y(216,130),new y(22,1),this.dropping))}buildPlayer(){let e=new gr(jd(this.levelData.playerStart));return this.scene.addChild(e,700),this.scene.addChild(e.ghost,900),e}buildTags(){this.levelData.tags.forEach(e=>{this.scene.addChild(xM(jd(e.position),e.text,this.dropping),800)})}};var el=class{scene;levelData;rowTolerance=16;constructor(e,n){this.scene=e,this.levelData=n}getCurrentHtml(){let e=ee.childrenByType(ct,this.scene);return this.sortTags(e).map(r=>r.text).join(" ")}isCorrect(){return this.getCurrentHtml()===this.levelData.solution}sortTags(e){return[...e].sort((n,r)=>Math.abs(n.position.y-r.position.y)<this.rowTolerance?n.position.x-r.position.x:n.position.y-r.position.y)}getSolution(){return this.levelData.solution}};var tl=class{scene;player;grabbedTag;constructor(e,n){this.scene=e,this.player=n}handleGrab(){if(this.grabbedTag)this.releaseTag();else{let e=this.player.checkFutureIntersection(new y(0,1),n=>n instanceof ct);e&&(this.grabbedTag=e)}ee.childrenByType(ct,this.scene).forEach(e=>e.wakeUp())}update(e){this.grabbedTag&&!e&&(this.grabbedTag.position=this.player.position.add(new y(this.player.pointing===0?24:38,8))),this.player.updateGhostPosition(),this.updateGhostVisibility()}updateGhostVisibility(){let e=this.player.checkAllCurrentIntersections(n=>n instanceof ct);e.length>0?(this.player.ghostGraphics.clipRegion=e.map(n=>{let r=n.collider;return{item:n,position:new y(r.position.x,r.position.y)}}),this.player.ghostGraphics.isVisible=!0):(this.player.ghostGraphics.clipRegion=void 0,this.player.ghostGraphics.isVisible=!1)}getGrabbedTag(){return this.grabbedTag}releaseTag(){this.grabbedTag=void 0}};var is=class extends V{board;constructor(e,n){super(e);let r=new y(10,10);this.board=new _n(new y(0,0),n.size.add(r.mul(2)),"secondary",!1),n.position=r,this.board.addChild(n),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var nl=class{scene;levelData;viewport;uiLayout;menuButton;levelNameText;htmlPreview;targetLayout;solutionToggleButton;solutionToggleButtonText;pauseMenu;winMenu;isPaused=!1;showSolutionToggle=!1;isCtrlPressed=!1;onExit;onWin;constructor(e,n,r,i){this.scene=e,this.levelData=n,this.onExit=r,this.onWin=i,this.viewport=ie.get("viewport")}initialize(){this.createBottomRightUI(),this.createTopRightUI()}createBottomRightUI(){this.levelNameText=new Oe(this.levelData.name,0,"hero");let e=new Oe("Menu");this.menuButton=new $t(new y(0,0),e),this.menuButton.action=()=>{this.showPauseMenu()},this.uiLayout=new Ee(new y(0,this.viewport.height-60),new y(this.viewport.width,60)),this.uiLayout.flexDirection="column",this.uiLayout.justifyContent="flex-end",this.uiLayout.alignItems="flex-end",this.uiLayout.padding=new y(8,8),this.uiLayout.gap=6,this.uiLayout.addChild(this.menuButton),this.uiLayout.addChild(this.levelNameText),this.scene.addChild(this.uiLayout)}createTopRightUI(){this.htmlPreview=new Ci(new y(0,0),new y(100,100),"");let e=new is(new y(0,0),this.htmlPreview);this.solutionToggleButtonText=new Oe("Show Solution"),this.solutionToggleButton=new $t(new y(0,0),this.solutionToggleButtonText,"secondary"),this.solutionToggleButton.action=()=>{this.showSolutionToggle=!this.showSolutionToggle,this.solutionToggleButtonText&&this.solutionToggleButtonText.setText(this.showSolutionToggle?"Hide Solution":"Show Solution")},this.targetLayout=new Ee(new y(0,0),this.viewport),this.targetLayout.flexDirection="column",this.targetLayout.justifyContent="flex-start",this.targetLayout.alignItems="flex-end",this.targetLayout.padding=new y(8,8),this.targetLayout.gap=4,this.targetLayout.addChild(e),this.targetLayout.addChild(this.solutionToggleButton),this.scene.addChild(this.targetLayout)}updateHtmlPreview(e,n){this.htmlPreview&&(this.isCtrlPressed||this.showSolutionToggle?this.htmlPreview.setHtml(n):this.htmlPreview.setHtml(e))}setCtrlPressed(e){this.isCtrlPressed=e,this.solutionToggleButtonText&&(this.isCtrlPressed?this.solutionToggleButtonText.setText("Hide Solution"):this.solutionToggleButtonText.setText(this.showSolutionToggle?"Hide Solution":"Show Solution"))}showPauseMenu(){if(this.isPaused)return;this.isPaused=!0,this.menuButton&&(this.menuButton.isVisible=!1);let e=new Mn(new y(0,0),[{label:"Continue",action:()=>{this.hidePauseMenu()}},{label:"Exit",action:()=>{this.hidePauseMenu(),this.onExit&&this.onExit()}}]),n=new Ee(new y(0,0),this.viewport);n.justifyContent="center",n.alignItems="center",n.addChild(e),this.pauseMenu=n,this.scene.addChild(this.pauseMenu,1e3)}hidePauseMenu(){!this.isPaused||!this.pauseMenu||(this.isPaused=!1,this.scene.removeChild(this.pauseMenu),this.pauseMenu=void 0,this.menuButton&&(this.menuButton.isVisible=!0))}showWinMenu(){if(this.winMenu)return;this.menuButton&&(this.menuButton.isVisible=!1);let e=[];this.onWin&&e.push({label:"Next level",action:()=>{this.onWin&&this.onWin()}}),e.push({label:"Exit",action:()=>{this.onExit&&this.onExit()},variant:"secondary"});let n=new Mn(new y(0,0),e),r=new Ee(new y(0,0),this.viewport);r.justifyContent="center",r.alignItems="center",r.addChild(n),this.winMenu=r,this.scene.addChild(this.winMenu,1e3)}isPauseMenuShown(){return this.isPaused}togglePauseMenu(){this.isPaused?this.hidePauseMenu():this.showPauseMenu()}};var Di=class extends kt{currentLevel;onExit;onWin;dropping=!1;hasWon=!1;player;uiManager;winChecker;tagInteraction;constructor(e=1,n,r){super();let o=Nn.levels.find(s=>s.id===e);if(!o)throw new Error(`Level with id ${e} not found`);this.currentLevel=o,this.onExit=n,this.onWin=r,this.run()}run(){return Y(this,null,function*(){let e=new Ja(this,this.currentLevel,()=>this.dropping);this.player=e.build(),this.uiManager=new nl(this,this.currentLevel,this.onExit,this.onWin),this.uiManager.initialize(),this.tagInteraction=new tl(this,this.player),this.winChecker=new el(this,this.currentLevel),this.setupEventHandlers()})}setupEventHandlers(){this.on(xe,this.handleKeyboardInput.bind(this)),this.on(En,e=>{this.dropping=e.start}),this.on(mr,()=>{this.tagInteraction?.handleGrab()}),this.on(at,()=>{if(this.winChecker&&(this.tagInteraction?.update(this.hasWon),!this.hasWon)){let e=this.winChecker.getCurrentHtml();this.uiManager?.updateHtmlPreview(e,this.winChecker.getSolution()),!(this.tagInteraction?.getGrabbedTag()!==void 0)&&this.winChecker.isCorrect()&&(this.hasWon=!0,this.uiManager?.showWinMenu())}})}handleKeyboardInput(e){e instanceof xe&&(e.key==="Control"&&this.uiManager?.setCtrlPressed(e.action===0),e.action===0&&e.key==="Escape"&&this.uiManager?.togglePauseMenu())}};var os={dynamic:{"Captain Clown Nose":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Captain Clown Nose.aseprite"},"Captain Clown Nose Dialogue":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dialogue.aseprite"},"Captain Clown Nose Dust Particles":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dust Particles.aseprite"},"Merchant Ship":{path:"./sprites/Treasure Hunters/Merchant Ship/Aseprite/Merchant Ship.aseprite"},"Palm Tree Island":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree Island (ArtBoard).aseprite"},"Palm Tree Island Chest":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Chest.aseprite"},"Palm Tree Island Flag":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Flag.aseprite"},"Palm Tree Island Palm Tree":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree.aseprite"},"Palm Tree Island Ship Helm":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Ship Helm.aseprite"},"Palm Tree Island Water Reflect":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Water Reflect.aseprite"},"Pirate Ship":{path:"./sprites/Treasure Hunters/Pirate Ship/Aseprite/TileSets.aseprite"},"Pirate Ship Decorations":{path:"./sprites/Treasure Hunters/Pirate Ship/Aseprite/Decorations.aseprite"},"Pirate Treasure":{path:"./sprites/Treasure Hunters/Pirate Treasure/Aseprite/Pirate Treasure.aseprite"},"Shooter Traps":{path:"./sprites/Treasure Hunters/Shooter Traps/Aseprite/Shooter Traps.aseprite"},"The Crusty Crew Crabby":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Crabby.aseprite"},"The Crusty Crew Dialogue":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dialogue.aseprite"},"The Crusty Crew Dust Particles":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dust Particles.aseprite"},"The Crusty Crew Fierce Tooth":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Fierce Tooth.aseprite"},"The Crusty Crew Pink Star":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Pink Star.aseprite"},"Wood and Paper UI":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper.aseprite"},"Wood and Paper UI - Boards":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Boards.aseprite"},"Wood and Paper UI - Buttons Large":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Buttons Large.aseprite"},"Wood and Paper UI - Buttons":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Buttons.aseprite"},"Wood and Paper UI Button Cooldown":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Button Cooldown.aseprite"},Paper:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Paper.aseprite"},Chars:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite"},CharsHero:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/CharsHero.aseprite"}},chars:{Chars:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite",map:{__unknown__:81," ":0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26,"1":27,"2":28,"3":29,"4":30,"5":31,"6":32,"7":33,"8":34,"9":35,"0":36,"-":37,"%":78,"/":40,"<":85,">":86}},CharsHero:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/CharsHero.aseprite",map:{__unknown__:0," ":0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26,"1":27,"2":28,"3":29,"4":30,"5":31,"6":32,"7":33,"8":34,"9":35,"0":36,"-":37}}},loading:"./sprites/Treasure Hunters/Loading.aseprite"};var SM=["game"],DM=["canvas"],rl=class t{gameElement;canvasElement;renderer;viewport=new y(512,384);resizeListener;constructor(){ie.set("viewport",this.viewport)}ngAfterViewInit(){return Y(this,null,function*(){let e=this.gameElement?.nativeElement,n=this.canvasElement?.nativeElement;if(!e)throw new Error("Game element not found!");if(!n)throw new Error("Game canvas not found!");this.resizeListener=()=>this.onResize(e),window.addEventListener("resize",this.resizeListener);let r=this.calculateZoom(e);this.renderer=new ci(n,r);let i=new zr(this.viewport,this.renderer,new ui,[new Gr(document.documentElement),new qr(n,this.renderer.globalToLocalPoint.bind(this.renderer))]);new _i(e).attachTo(i),i.start(120,120);let s=new Si(os.loading,os.chars.Chars);i.loadScene(s),yield s.run(),yield s.loadAssets(os.dynamic,os.chars);let a=new br([{label:"HTML Mode",action:()=>{let c=f=>{let d=Nn.levels.findIndex(h=>h.id===f),p=d<Nn.levels.length-1;i.loadScene(new Di(f,()=>{i.loadScene(a)},p?()=>{let h=Nn.levels[d+1];c(h.id)}:()=>{i.loadScene(u)}))},l=Nn.levels.map(f=>({label:f.name,action:()=>{c(f.id)}})),u=new br(l,()=>{i.loadScene(a)});i.loadScene(u)}}]);i.loadScene(a)})}ngOnDestroy(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}calculateZoom(e){let n=e.clientWidth,r=e.clientHeight,i=n/this.viewport.width,o=r/this.viewport.height;return Math.min(i,o)}onResize(e){if(!this.renderer)return;let n=this.calculateZoom(e);this.renderer.setZoom(n),this.renderer.setViewport(this.viewport)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=tu({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&ra(SM,5)(DM,5),n&2){let i;ia(i=oa())&&(r.gameElement=i.first),ia(i=oa())&&(r.canvasElement=i.first)}},decls:4,vars:0,consts:[["game",""],["canvas",""],[1,"main"]],template:function(n,r){n&1&&(ao(0,"div",2,0),na(2,"canvas",null,1),lo())},styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}"]})};yu(rl,{providers:[tm()]}).catch(t=>console.error(t));
