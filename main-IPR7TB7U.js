var wI=Object.create;var qa=Object.defineProperty,bI=Object.defineProperties,EI=Object.getOwnPropertyDescriptor,xI=Object.getOwnPropertyDescriptors,TI=Object.getOwnPropertyNames,kd=Object.getOwnPropertySymbols,CI=Object.getPrototypeOf,Od=Object.prototype.hasOwnProperty,_I=Object.prototype.propertyIsEnumerable;var Rd=(t,e,n)=>e in t?qa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,We=(t,e)=>{for(var n in e||={})Od.call(e,n)&&Rd(t,n,e[n]);if(kd)for(var n of kd(e))_I.call(e,n)&&Rd(t,n,e[n]);return t},dt=(t,e)=>bI(t,xI(e));var Ci=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var SI=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of TI(e))!Od.call(t,i)&&i!==n&&qa(t,i,{get:()=>e[i],enumerable:!(r=EI(e,i))||r.enumerable});return t};var DI=(t,e,n)=>(n=t!=null?wI(CI(t)):{},SI(e||!t||!t.__esModule?qa(n,"default",{value:t,enumerable:!0}):n,t));var Q=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Tg=F((ai,li)=>{"use strict";(function(t){var e=typeof ai=="object"&&ai&&!ai.nodeType&&ai,n=typeof li=="object"&&li&&!li.nodeType&&li,r=typeof global=="object"&&global;(r.global===r||r.window===r||r.self===r)&&(t=r);var i,o=2147483647,s=36,a=1,c=26,l=38,u=700,p=72,d=128,f="-",h=/^xn--/,x=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=s-a,m=Math.floor,y=String.fromCharCode,N;function _(P){throw new RangeError(b[P])}function I(P,k){for(var O=P.length,D=[];O--;)D[O]=k(P[O]);return D}function S(P,k){var O=P.split("@"),D="";O.length>1&&(D=O[0]+"@",P=O[1]),P=P.replace(v,".");var H=P.split("."),G=I(H,k).join(".");return D+G}function w(P){for(var k=[],O=0,D=P.length,H,G;O<D;)H=P.charCodeAt(O++),H>=55296&&H<=56319&&O<D?(G=P.charCodeAt(O++),(G&64512)==56320?k.push(((H&1023)<<10)+(G&1023)+65536):(k.push(H),O--)):k.push(H);return k}function C(P){return I(P,function(k){var O="";return k>65535&&(k-=65536,O+=y(k>>>10&1023|55296),k=56320|k&1023),O+=y(k),O}).join("")}function M(P){return P-48<10?P-22:P-65<26?P-65:P-97<26?P-97:s}function $(P,k){return P+22+75*(P<26)-((k!=0)<<5)}function V(P,k,O){var D=0;for(P=O?m(P/u):P>>1,P+=m(P/k);P>g*c>>1;D+=s)P=m(P/g);return m(D+(g+1)*P/(P+l))}function Z(P){var k=[],O=P.length,D,H=0,G=d,B=p,he,re,we,De,me,Me,Xe,je,Tt;for(he=P.lastIndexOf(f),he<0&&(he=0),re=0;re<he;++re)P.charCodeAt(re)>=128&&_("not-basic"),k.push(P.charCodeAt(re));for(we=he>0?he+1:0;we<O;){for(De=H,me=1,Me=s;we>=O&&_("invalid-input"),Xe=M(P.charCodeAt(we++)),(Xe>=s||Xe>m((o-H)/me))&&_("overflow"),H+=Xe*me,je=Me<=B?a:Me>=B+c?c:Me-B,!(Xe<je);Me+=s)Tt=s-je,me>m(o/Tt)&&_("overflow"),me*=Tt;D=k.length+1,B=V(H-De,D,De==0),m(H/D)>o-G&&_("overflow"),G+=m(H/D),H%=D,k.splice(H++,0,G)}return C(k)}function ue(P){var k,O,D,H,G,B,he,re,we,De,me,Me=[],Xe,je,Tt,Jo;for(P=w(P),Xe=P.length,k=d,O=0,G=p,B=0;B<Xe;++B)me=P[B],me<128&&Me.push(y(me));for(D=H=Me.length,H&&Me.push(f);D<Xe;){for(he=o,B=0;B<Xe;++B)me=P[B],me>=k&&me<he&&(he=me);for(je=D+1,he-k>m((o-O)/je)&&_("overflow"),O+=(he-k)*je,k=he,B=0;B<Xe;++B)if(me=P[B],me<k&&++O>o&&_("overflow"),me==k){for(re=O,we=s;De=we<=G?a:we>=G+c?c:we-G,!(re<De);we+=s)Jo=re-De,Tt=s-De,Me.push(y($(De+Jo%Tt,0))),re=m(Jo/Tt);Me.push(y($(re,0))),G=V(O,je,D==H),O=0,++D}++O,++k}return Me.join("")}function R(P){return S(P,function(k){return h.test(k)?Z(k.slice(4).toLowerCase()):k})}function L(P){return S(P,function(k){return x.test(k)?"xn--"+ue(k):k})}if(i={version:"1.4.1",ucs2:{decode:w,encode:C},decode:Z,encode:ue,toASCII:L,toUnicode:R},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&n)if(li.exports==e)n.exports=i;else for(N in i)i.hasOwnProperty(N)&&(e[N]=i[N]);else t.punycode=i})(ai)});var mr=F((y8,Cg)=>{"use strict";Cg.exports=TypeError});var _g=F(()=>{"use strict"});var Vo=F((w8,Gg)=>{"use strict";var Xu=typeof Map=="function"&&Map.prototype,Uu=Object.getOwnPropertyDescriptor&&Xu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ta=Xu&&Uu&&typeof Uu.get=="function"?Uu.get:null,Sg=Xu&&Map.prototype.forEach,Ju=typeof Set=="function"&&Set.prototype,Wu=Object.getOwnPropertyDescriptor&&Ju?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ca=Ju&&Wu&&typeof Wu.get=="function"?Wu.get:null,Dg=Ju&&Set.prototype.forEach,F_=typeof WeakMap=="function"&&WeakMap.prototype,Fo=F_?WeakMap.prototype.has:null,$_=typeof WeakSet=="function"&&WeakSet.prototype,$o=$_?WeakSet.prototype.has:null,V_=typeof WeakRef=="function"&&WeakRef.prototype,Mg=V_?WeakRef.prototype.deref:null,H_=Boolean.prototype.valueOf,j_=Object.prototype.toString,B_=Function.prototype.toString,U_=String.prototype.match,ed=String.prototype.slice,xn=String.prototype.replace,W_=String.prototype.toUpperCase,Ng=String.prototype.toLowerCase,Vg=RegExp.prototype.test,Pg=Array.prototype.concat,Vt=Array.prototype.join,z_=Array.prototype.slice,Ag=Math.floor,qu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,zu=Object.getOwnPropertySymbols,Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ci=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Re=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ci||!0)?Symbol.toStringTag:null,Hg=Object.prototype.propertyIsEnumerable,kg=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Rg(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Vg.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Ag(-t):Ag(t);if(r!==t){var i=String(r),o=ed.call(e,i.length+1);return xn.call(i,n,"$&_")+"."+xn.call(xn.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return xn.call(e,n,"$&_")}var Qu=_g(),Og=Qu.custom,Lg=Ug(Og)?Og:null,jg={__proto__:null,double:'"',single:"'"},G_={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Gg.exports=function t(e,n,r,i){var o=n||{};if(Jt(o,"quoteStyle")&&!Jt(jg,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Jt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return zg(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Rg(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?Rg(e,l):l}var u=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof e=="object")return Yu(e)?"[Array]":"[Object]";var p=uS(o,r);if(typeof i>"u")i=[];else if(Wg(i,e)>=0)return"[Circular]";function d(V,Z,ue){if(Z&&(i=z_.call(i),i.push(Z)),ue){var R={depth:o.depth};return Jt(o,"quoteStyle")&&(R.quoteStyle=o.quoteStyle),t(V,R,r+1,i)}return t(V,o,r+1,i)}if(typeof e=="function"&&!Fg(e)){var f=tS(e),h=xa(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(h.length>0?" { "+Vt.call(h,", ")+" }":"")}if(Ug(e)){var x=ci?xn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Zu.call(e);return typeof e=="object"&&!ci?Lo(x):x}if(aS(e)){for(var v="<"+Ng.call(String(e.nodeName)),b=e.attributes||[],g=0;g<b.length;g++)v+=" "+b[g].name+"="+Bg(q_(b[g].value),"double",o);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+Ng.call(String(e.nodeName))+">",v}if(Yu(e)){if(e.length===0)return"[]";var m=xa(e,d);return p&&!cS(m)?"["+Ku(m,p)+"]":"[ "+Vt.call(m,", ")+" ]"}if(Q_(e)){var y=xa(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Hg.call(e,"cause")?"{ ["+String(e)+"] "+Vt.call(Pg.call("[cause]: "+d(e.cause),y),", ")+" }":y.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Vt.call(y,", ")+" }"}if(typeof e=="object"&&s){if(Lg&&typeof e[Lg]=="function"&&Qu)return Qu(e,{depth:u-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(nS(e)){var N=[];return Sg&&Sg.call(e,function(V,Z){N.push(d(Z,e,!0)+" => "+d(V,e))}),$g("Map",Ta.call(e),N,p)}if(oS(e)){var _=[];return Dg&&Dg.call(e,function(V){_.push(d(V,e))}),$g("Set",Ca.call(e),_,p)}if(rS(e))return Gu("WeakMap");if(sS(e))return Gu("WeakSet");if(iS(e))return Gu("WeakRef");if(K_(e))return Lo(d(Number(e)));if(J_(e))return Lo(d(qu.call(e)));if(X_(e))return Lo(H_.call(e));if(Y_(e))return Lo(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!Z_(e)&&!Fg(e)){var I=xa(e,d),S=kg?kg(e)===Object.prototype:e instanceof Object||e.constructor===Object,w=e instanceof Object?"":"null prototype",C=!S&&Re&&Object(e)===e&&Re in e?ed.call(Tn(e),8,-1):w?"Object":"",M=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=M+(C||w?"["+Vt.call(Pg.call([],C||[],w||[]),": ")+"] ":"");return I.length===0?$+"{}":p?$+"{"+Ku(I,p)+"}":$+"{ "+Vt.call(I,", ")+" }"}return String(e)};function Bg(t,e,n){var r=n.quoteStyle||e,i=jg[r];return i+t+i}function q_(t){return xn.call(String(t),/"/g,"&quot;")}function Yu(t){return Tn(t)==="[object Array]"&&(!Re||!(typeof t=="object"&&Re in t))}function Z_(t){return Tn(t)==="[object Date]"&&(!Re||!(typeof t=="object"&&Re in t))}function Fg(t){return Tn(t)==="[object RegExp]"&&(!Re||!(typeof t=="object"&&Re in t))}function Q_(t){return Tn(t)==="[object Error]"&&(!Re||!(typeof t=="object"&&Re in t))}function Y_(t){return Tn(t)==="[object String]"&&(!Re||!(typeof t=="object"&&Re in t))}function K_(t){return Tn(t)==="[object Number]"&&(!Re||!(typeof t=="object"&&Re in t))}function X_(t){return Tn(t)==="[object Boolean]"&&(!Re||!(typeof t=="object"&&Re in t))}function Ug(t){if(ci)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Zu)return!1;try{return Zu.call(t),!0}catch{}return!1}function J_(t){if(!t||typeof t!="object"||!qu)return!1;try{return qu.call(t),!0}catch{}return!1}var eS=Object.prototype.hasOwnProperty||function(t){return t in this};function Jt(t,e){return eS.call(t,e)}function Tn(t){return j_.call(t)}function tS(t){if(t.name)return t.name;var e=U_.call(B_.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Wg(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function nS(t){if(!Ta||!t||typeof t!="object")return!1;try{Ta.call(t);try{Ca.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function rS(t){if(!Fo||!t||typeof t!="object")return!1;try{Fo.call(t,Fo);try{$o.call(t,$o)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function iS(t){if(!Mg||!t||typeof t!="object")return!1;try{return Mg.call(t),!0}catch{}return!1}function oS(t){if(!Ca||!t||typeof t!="object")return!1;try{Ca.call(t);try{Ta.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function sS(t){if(!$o||!t||typeof t!="object")return!1;try{$o.call(t,$o);try{Fo.call(t,Fo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function aS(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function zg(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return zg(ed.call(t,0,e.maxStringLength),e)+r}var i=G_[e.quoteStyle||"single"];i.lastIndex=0;var o=xn.call(xn.call(t,i,"\\$1"),/[\x00-\x1f]/g,lS);return Bg(o,"single",e)}function lS(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+W_.call(e.toString(16))}function Lo(t){return"Object("+t+")"}function Gu(t){return t+" { ? }"}function $g(t,e,n,r){var i=r?Ku(n,r):Vt.call(n,", ");return t+" ("+e+") {"+i+"}"}function cS(t){for(var e=0;e<t.length;e++)if(Wg(t[e],`
`)>=0)return!1;return!0}function uS(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Vt.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Vt.call(Array(e+1),n)}}function Ku(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Vt.call(t,","+n)+`
`+e.prev}function xa(t,e){var n=Yu(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=Jt(t,i)?e(t[i],t):""}var o=typeof zu=="function"?zu(t):[],s;if(ci){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in t)Jt(t,c)&&(n&&String(Number(c))===c&&c<t.length||ci&&s["$"+c]instanceof Symbol||(Vg.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if(typeof zu=="function")for(var l=0;l<o.length;l++)Hg.call(t,o[l])&&r.push("["+e(o[l])+"]: "+e(t[o[l]],t));return r}});var Zg=F((b8,qg)=>{"use strict";var dS=Vo(),fS=mr(),_a=function(t,e,n){for(var r=t,i;(i=r.next)!=null;r=i)if(i.key===e)return r.next=i.next,n||(i.next=t.next,t.next=i),i},pS=function(t,e){if(t){var n=_a(t,e);return n&&n.value}},hS=function(t,e,n){var r=_a(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},mS=function(t,e){return t?!!_a(t,e):!1},gS=function(t,e){if(t)return _a(t,e,!0)};qg.exports=function(){var e,n={assert:function(r){if(!n.has(r))throw new fS("Side channel does not contain "+dS(r))},delete:function(r){var i=e&&e.next,o=gS(e,r);return o&&i&&i===o&&(e=void 0),!!o},get:function(r){return pS(e,r)},has:function(r){return mS(e,r)},set:function(r,i){e||(e={next:void 0}),hS(e,r,i)}};return n}});var td=F((E8,Qg)=>{"use strict";Qg.exports=Object});var Kg=F((x8,Yg)=>{"use strict";Yg.exports=Error});var Jg=F((T8,Xg)=>{"use strict";Xg.exports=EvalError});var ty=F((C8,ey)=>{"use strict";ey.exports=RangeError});var ry=F((_8,ny)=>{"use strict";ny.exports=ReferenceError});var oy=F((S8,iy)=>{"use strict";iy.exports=SyntaxError});var ay=F((D8,sy)=>{"use strict";sy.exports=URIError});var cy=F((M8,ly)=>{"use strict";ly.exports=Math.abs});var dy=F((N8,uy)=>{"use strict";uy.exports=Math.floor});var py=F((P8,fy)=>{"use strict";fy.exports=Math.max});var my=F((A8,hy)=>{"use strict";hy.exports=Math.min});var yy=F((k8,gy)=>{"use strict";gy.exports=Math.pow});var Iy=F((R8,vy)=>{"use strict";vy.exports=Math.round});var by=F((O8,wy)=>{"use strict";wy.exports=Number.isNaN||function(e){return e!==e}});var xy=F((L8,Ey)=>{"use strict";var yS=by();Ey.exports=function(e){return yS(e)||e===0?e:e<0?-1:1}});var Cy=F((F8,Ty)=>{"use strict";Ty.exports=Object.getOwnPropertyDescriptor});var nd=F(($8,_y)=>{"use strict";var Sa=Cy();if(Sa)try{Sa([],"length")}catch{Sa=null}_y.exports=Sa});var Dy=F((V8,Sy)=>{"use strict";var Da=Object.defineProperty||!1;if(Da)try{Da({},"a",{value:1})}catch{Da=!1}Sy.exports=Da});var Ny=F((H8,My)=>{"use strict";My.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var ky=F((j8,Ay)=>{"use strict";var Py=typeof Symbol<"u"&&Symbol,vS=Ny();Ay.exports=function(){return typeof Py!="function"||typeof Symbol!="function"||typeof Py("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:vS()}});var rd=F((B8,Ry)=>{"use strict";Ry.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var id=F((U8,Oy)=>{"use strict";var IS=td();Oy.exports=IS.getPrototypeOf||null});var $y=F((W8,Fy)=>{"use strict";var wS="Function.prototype.bind called on incompatible ",bS=Object.prototype.toString,ES=Math.max,xS="[object Function]",Ly=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},TS=function(e,n){for(var r=[],i=n||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},CS=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};Fy.exports=function(e){var n=this;if(typeof n!="function"||bS.apply(n)!==xS)throw new TypeError(wS+n);for(var r=TS(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,Ly(r,arguments));return Object(u)===u?u:this}return n.apply(e,Ly(r,arguments))},s=ES(0,n.length-r.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+CS(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var Ho=F((z8,Vy)=>{"use strict";var _S=$y();Vy.exports=Function.prototype.bind||_S});var Ma=F((G8,Hy)=>{"use strict";Hy.exports=Function.prototype.call});var od=F((q8,jy)=>{"use strict";jy.exports=Function.prototype.apply});var Uy=F((Z8,By)=>{"use strict";By.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var zy=F((Q8,Wy)=>{"use strict";var SS=Ho(),DS=od(),MS=Ma(),NS=Uy();Wy.exports=NS||SS.call(MS,DS)});var sd=F((Y8,Gy)=>{"use strict";var PS=Ho(),AS=mr(),kS=Ma(),RS=zy();Gy.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new AS("a function is required");return RS(PS,kS,e)}});var Xy=F((K8,Ky)=>{"use strict";var OS=sd(),qy=nd(),Qy;try{Qy=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var ad=!!Qy&&qy&&qy(Object.prototype,"__proto__"),Yy=Object,Zy=Yy.getPrototypeOf;Ky.exports=ad&&typeof ad.get=="function"?OS([ad.get]):typeof Zy=="function"?function(e){return Zy(e==null?e:Yy(e))}:!1});var rv=F((X8,nv)=>{"use strict";var Jy=rd(),ev=id(),tv=Xy();nv.exports=Jy?function(e){return Jy(e)}:ev?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return ev(e)}:tv?function(e){return tv(e)}:null});var ov=F((J8,iv)=>{"use strict";var LS=Function.prototype.call,FS=Object.prototype.hasOwnProperty,$S=Ho();iv.exports=$S.call(LS,FS)});var Aa=F((eW,dv)=>{"use strict";var q,VS=td(),HS=Kg(),jS=Jg(),BS=ty(),US=ry(),pi=oy(),fi=mr(),WS=ay(),zS=cy(),GS=dy(),qS=py(),ZS=my(),QS=yy(),YS=Iy(),KS=xy(),cv=Function,ld=function(t){try{return cv('"use strict"; return ('+t+").constructor;")()}catch{}},jo=nd(),XS=Dy(),cd=function(){throw new fi},JS=jo?(function(){try{return arguments.callee,cd}catch{try{return jo(arguments,"callee").get}catch{return cd}}})():cd,ui=ky()(),Se=rv(),eD=id(),tD=rd(),uv=od(),Bo=Ma(),di={},nD=typeof Uint8Array>"u"||!Se?q:Se(Uint8Array),gr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?q:ArrayBuffer,"%ArrayIteratorPrototype%":ui&&Se?Se([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":di,"%AsyncGenerator%":di,"%AsyncGeneratorFunction%":di,"%AsyncIteratorPrototype%":di,"%Atomics%":typeof Atomics>"u"?q:Atomics,"%BigInt%":typeof BigInt>"u"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":HS,"%eval%":eval,"%EvalError%":jS,"%Float16Array%":typeof Float16Array>"u"?q:Float16Array,"%Float32Array%":typeof Float32Array>"u"?q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?q:FinalizationRegistry,"%Function%":cv,"%GeneratorFunction%":di,"%Int8Array%":typeof Int8Array>"u"?q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ui&&Se?Se(Se([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map>"u"?q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ui||!Se?q:Se(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":VS,"%Object.getOwnPropertyDescriptor%":jo,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?q:Promise,"%Proxy%":typeof Proxy>"u"?q:Proxy,"%RangeError%":BS,"%ReferenceError%":US,"%Reflect%":typeof Reflect>"u"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ui||!Se?q:Se(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ui&&Se?Se(""[Symbol.iterator]()):q,"%Symbol%":ui?Symbol:q,"%SyntaxError%":pi,"%ThrowTypeError%":JS,"%TypedArray%":nD,"%TypeError%":fi,"%Uint8Array%":typeof Uint8Array>"u"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?q:Uint32Array,"%URIError%":WS,"%WeakMap%":typeof WeakMap>"u"?q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?q:WeakSet,"%Function.prototype.call%":Bo,"%Function.prototype.apply%":uv,"%Object.defineProperty%":XS,"%Object.getPrototypeOf%":eD,"%Math.abs%":zS,"%Math.floor%":GS,"%Math.max%":qS,"%Math.min%":ZS,"%Math.pow%":QS,"%Math.round%":YS,"%Math.sign%":KS,"%Reflect.getPrototypeOf%":tD};if(Se)try{null.error}catch(t){sv=Se(Se(t)),gr["%Error.prototype%"]=sv}var sv,rD=function t(e){var n;if(e==="%AsyncFunction%")n=ld("async function () {}");else if(e==="%GeneratorFunction%")n=ld("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=ld("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Se&&(n=Se(i.prototype))}return gr[e]=n,n},av={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Uo=Ho(),Na=ov(),iD=Uo.call(Bo,Array.prototype.concat),oD=Uo.call(uv,Array.prototype.splice),lv=Uo.call(Bo,String.prototype.replace),Pa=Uo.call(Bo,String.prototype.slice),sD=Uo.call(Bo,RegExp.prototype.exec),aD=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lD=/\\(\\)?/g,cD=function(e){var n=Pa(e,0,1),r=Pa(e,-1);if(n==="%"&&r!=="%")throw new pi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new pi("invalid intrinsic syntax, expected opening `%`");var i=[];return lv(e,aD,function(o,s,a,c){i[i.length]=a?lv(c,lD,"$1"):s||o}),i},uD=function(e,n){var r=e,i;if(Na(av,r)&&(i=av[r],r="%"+i[0]+"%"),Na(gr,r)){var o=gr[r];if(o===di&&(o=rD(r)),typeof o>"u"&&!n)throw new fi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new pi("intrinsic "+e+" does not exist!")};dv.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new fi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new fi('"allowMissing" argument must be a boolean');if(sD(/^%?[^%]*%?$/,e)===null)throw new pi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=cD(e),i=r.length>0?r[0]:"",o=uD("%"+i+"%",n),s=o.name,a=o.value,c=!1,l=o.alias;l&&(i=l[0],oD(r,iD([0,1],l)));for(var u=1,p=!0;u<r.length;u+=1){var d=r[u],f=Pa(d,0,1),h=Pa(d,-1);if((f==='"'||f==="'"||f==="`"||h==='"'||h==="'"||h==="`")&&f!==h)throw new pi("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(c=!0),i+="."+d,s="%"+i+"%",Na(gr,s))a=gr[s];else if(a!=null){if(!(d in a)){if(!n)throw new fi("base intrinsic for "+e+" exists, but the property is not available.");return}if(jo&&u+1>=r.length){var x=jo(a,d);p=!!x,p&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[d]}else p=Na(a,d),a=a[d];p&&!c&&(gr[s]=a)}}return a}});var ud=F((tW,hv)=>{"use strict";var fv=Aa(),pv=sd(),dD=pv([fv("%String.prototype.indexOf%")]);hv.exports=function(e,n){var r=fv(e,!!n);return typeof r=="function"&&dD(e,".prototype.")>-1?pv([r]):r}});var dd=F((nW,gv)=>{"use strict";var fD=Aa(),Wo=ud(),pD=Vo(),hD=mr(),mv=fD("%Map%",!0),mD=Wo("Map.prototype.get",!0),gD=Wo("Map.prototype.set",!0),yD=Wo("Map.prototype.has",!0),vD=Wo("Map.prototype.delete",!0),ID=Wo("Map.prototype.size",!0);gv.exports=!!mv&&function(){var e,n={assert:function(r){if(!n.has(r))throw new hD("Side channel does not contain "+pD(r))},delete:function(r){if(e){var i=vD(e,r);return ID(e)===0&&(e=void 0),i}return!1},get:function(r){if(e)return mD(e,r)},has:function(r){return e?yD(e,r):!1},set:function(r,i){e||(e=new mv),gD(e,r,i)}};return n}});var vv=F((rW,yv)=>{"use strict";var wD=Aa(),Ra=ud(),bD=Vo(),ka=dd(),ED=mr(),hi=wD("%WeakMap%",!0),xD=Ra("WeakMap.prototype.get",!0),TD=Ra("WeakMap.prototype.set",!0),CD=Ra("WeakMap.prototype.has",!0),_D=Ra("WeakMap.prototype.delete",!0);yv.exports=hi?function(){var e,n,r={assert:function(i){if(!r.has(i))throw new ED("Side channel does not contain "+bD(i))},delete:function(i){if(hi&&i&&(typeof i=="object"||typeof i=="function")){if(e)return _D(e,i)}else if(ka&&n)return n.delete(i);return!1},get:function(i){return hi&&i&&(typeof i=="object"||typeof i=="function")&&e?xD(e,i):n&&n.get(i)},has:function(i){return hi&&i&&(typeof i=="object"||typeof i=="function")&&e?CD(e,i):!!n&&n.has(i)},set:function(i,o){hi&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new hi),TD(e,i,o)):ka&&(n||(n=ka()),n.set(i,o))}};return r}:ka});var wv=F((iW,Iv)=>{"use strict";var SD=mr(),DD=Vo(),MD=Zg(),ND=dd(),PD=vv(),AD=PD||ND||MD;Iv.exports=function(){var e,n={assert:function(r){if(!n.has(r))throw new SD("Side channel does not contain "+DD(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,i){e||(e=AD()),e.set(r,i)}};return n}});var Oa=F((oW,bv)=>{"use strict";var kD=String.prototype.replace,RD=/%20/g,fd={RFC1738:"RFC1738",RFC3986:"RFC3986"};bv.exports={default:fd.RFC3986,formatters:{RFC1738:function(t){return kD.call(t,RD,"+")},RFC3986:function(t){return String(t)}},RFC1738:fd.RFC1738,RFC3986:fd.RFC3986}});var md=F((sW,xv)=>{"use strict";var OD=Oa(),pd=Object.prototype.hasOwnProperty,yr=Array.isArray,Ht=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),LD=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(yr(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},Ev=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},FD=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(yr(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!pd.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return yr(e)&&!yr(n)&&(i=Ev(e,r)),yr(e)&&yr(n)?(n.forEach(function(o,s){if(pd.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(n).reduce(function(o,s){var a=n[s];return pd.call(o,s)?o[s]=t(o[s],a,r):o[s]=a,o},i)},$D=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},VD=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},hd=1024,HD=function(e,n,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",c=0;c<s.length;c+=hd){for(var l=s.length>=hd?s.slice(c,c+hd):s,u=[],p=0;p<l.length;++p){var d=l.charCodeAt(p);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===OD.RFC1738&&(d===40||d===41)){u[u.length]=l.charAt(p);continue}if(d<128){u[u.length]=Ht[d];continue}if(d<2048){u[u.length]=Ht[192|d>>6]+Ht[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Ht[224|d>>12]+Ht[128|d>>6&63]+Ht[128|d&63];continue}p+=1,d=65536+((d&1023)<<10|l.charCodeAt(p)&1023),u[u.length]=Ht[240|d>>18]+Ht[128|d>>12&63]+Ht[128|d>>6&63]+Ht[128|d&63]}a+=u.join("")}return a},jD=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var l=a[c],u=s[l];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(n.push({obj:s,prop:l}),r.push(u))}return LD(n),e},BD=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},UD=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},WD=function(e,n){return[].concat(e,n)},zD=function(e,n){if(yr(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)};xv.exports={arrayToObject:Ev,assign:$D,combine:WD,compact:jD,decode:VD,encode:HD,isBuffer:UD,isRegExp:BD,maybeMap:zD,merge:FD}});var Mv=F((aW,Dv)=>{"use strict";var Cv=wv(),La=md(),zo=Oa(),GD=Object.prototype.hasOwnProperty,_v={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},jt=Array.isArray,qD=Array.prototype.push,Sv=function(t,e){qD.apply(t,jt(e)?e:[e])},ZD=Date.prototype.toISOString,Tv=zo.default,Ee={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:La.encode,encodeValuesOnly:!1,format:Tv,formatter:zo.formatters[Tv],indices:!1,serializeDate:function(e){return ZD.call(e)},skipNulls:!1,strictNullHandling:!1},QD=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},gd={},YD=function t(e,n,r,i,o,s,a,c,l,u,p,d,f,h,x,v,b,g){for(var m=e,y=g,N=0,_=!1;(y=y.get(gd))!==void 0&&!_;){var I=y.get(e);if(N+=1,typeof I<"u"){if(I===N)throw new RangeError("Cyclic object value");_=!0}typeof y.get(gd)>"u"&&(N=0)}if(typeof u=="function"?m=u(n,m):m instanceof Date?m=f(m):r==="comma"&&jt(m)&&(m=La.maybeMap(m,function(O){return O instanceof Date?f(O):O})),m===null){if(s)return l&&!v?l(n,Ee.encoder,b,"key",h):n;m=""}if(QD(m)||La.isBuffer(m)){if(l){var S=v?n:l(n,Ee.encoder,b,"key",h);return[x(S)+"="+x(l(m,Ee.encoder,b,"value",h))]}return[x(n)+"="+x(String(m))]}var w=[];if(typeof m>"u")return w;var C;if(r==="comma"&&jt(m))v&&l&&(m=La.maybeMap(m,l)),C=[{value:m.length>0?m.join(",")||null:void 0}];else if(jt(u))C=u;else{var M=Object.keys(m);C=p?M.sort(p):M}var $=c?n.replace(/\./g,"%2E"):n,V=i&&jt(m)&&m.length===1?$+"[]":$;if(o&&jt(m)&&m.length===0)return V+"[]";for(var Z=0;Z<C.length;++Z){var ue=C[Z],R=typeof ue=="object"&&typeof ue.value<"u"?ue.value:m[ue];if(!(a&&R===null)){var L=d&&c?ue.replace(/\./g,"%2E"):ue,P=jt(m)?typeof r=="function"?r(V,L):V:V+(d?"."+L:"["+L+"]");g.set(e,N);var k=Cv();k.set(gd,g),Sv(w,t(R,P,r,i,o,s,a,c,r==="comma"&&v&&jt(m)?null:l,u,p,d,f,h,x,v,b,k))}}return w},KD=function(e){if(!e)return Ee;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Ee.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=zo.default;if(typeof e.format<"u"){if(!GD.call(zo.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=zo.formatters[r],o=Ee.filter;(typeof e.filter=="function"||jt(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in _v?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Ee.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ee.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ee.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ee.allowEmptyArrays,arrayFormat:s,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ee.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ee.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ee.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ee.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ee.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ee.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ee.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ee.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ee.strictNullHandling}};Dv.exports=function(t,e){var n=t,r=KD(e),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):jt(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var a=_v[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var l=Cv(),u=0;u<i.length;++u){var p=i[u];r.skipNulls&&n[p]===null||Sv(s,YD(n[p],p,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var d=s.join(r.delimiter),f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}});var Av=F((lW,Pv)=>{"use strict";var mi=md(),yd=Object.prototype.hasOwnProperty,XD=Array.isArray,ve={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:mi.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},JD=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Nv=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},e0="utf8=%26%2310003%3B",t0="utf8=%E2%9C%93",n0=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,o),a=-1,c,l=n.charset;if(n.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===t0?l="utf-8":s[c]===e0&&(l="iso-8859-1"),a=c,c=s.length);for(c=0;c<s.length;++c)if(c!==a){var u=s[c],p=u.indexOf("]="),d=p===-1?u.indexOf("="):p+1,f,h;d===-1?(f=n.decoder(u,ve.decoder,l,"key"),h=n.strictNullHandling?null:""):(f=n.decoder(u.slice(0,d),ve.decoder,l,"key"),h=mi.maybeMap(Nv(u.slice(d+1),n),function(v){return n.decoder(v,ve.decoder,l,"value")})),h&&n.interpretNumericEntities&&l==="iso-8859-1"&&(h=JD(h)),u.indexOf("[]=")>-1&&(h=XD(h)?[h]:h);var x=yd.call(r,f);x&&n.duplicates==="combine"?r[f]=mi.combine(r[f],h):(!x||n.duplicates==="last")&&(r[f]=h)}return r},r0=function(t,e,n,r){for(var i=r?e:Nv(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&n.parseArrays)s=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!n.parseArrays&&l===""?s={0:i}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},i0=function(e,n,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=r.depth>0&&s.exec(o),l=c?o.slice(0,c.index):o,u=[];if(l){if(!r.plainObjects&&yd.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var p=0;r.depth>0&&(c=a.exec(o))!==null&&p<r.depth;){if(p+=1,!r.plainObjects&&yd.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(c[1])}if(c){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+o.slice(c.index)+"]")}return r0(u,n,r,i)}},o0=function(e){if(!e)return ve;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?ve.charset:e.charset,r=typeof e.duplicates>"u"?ve.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ve.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ve.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ve.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ve.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ve.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ve.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ve.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ve.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ve.decoder,delimiter:typeof e.delimiter=="string"||mi.isRegExp(e.delimiter)?e.delimiter:ve.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ve.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ve.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ve.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ve.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ve.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ve.strictNullHandling}};Pv.exports=function(t,e){var n=o0(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?n0(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],c=i0(a,r[a],n,typeof t=="string");i=mi.merge(i,c,n)}return n.allowSparse===!0?i:mi.compact(i)}});var Rv=F((cW,kv)=>{"use strict";var s0=Mv(),a0=Av(),l0=Oa();kv.exports={formats:l0,parse:a0,stringify:s0}});var bd=F(yi=>{"use strict";var c0=Tg();function ct(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var u0=/^([a-z0-9.+-]+:)/i,d0=/:[0-9]*$/,f0=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,p0=["<",">",'"',"`"," ","\r",`
`,"	"],h0=["{","}","|","\\","^","`"].concat(p0),vd=["'"].concat(h0),Ov=["%","/","?",";","#"].concat(vd),Lv=["/","?","#"],m0=255,Fv=/^[+a-z0-9A-Z_-]{0,63}$/,g0=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y0={javascript:!0,"javascript:":!0},Id={javascript:!0,"javascript:":!0},gi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},wd=Rv();function Go(t,e,n){if(t&&typeof t=="object"&&t instanceof ct)return t;var r=new ct;return r.parse(t,e,n),r}ct.prototype.parse=function(t,e,n){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var c=f0.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=wd.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=u0.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(l&&Id[l])&&(a=a.substr(2),this.slashes=!0)}if(!Id[l]&&(p||l&&!gi[l])){for(var d=-1,f=0;f<Lv.length;f++){var h=a.indexOf(Lv[f]);h!==-1&&(d===-1||h<d)&&(d=h)}var x,v;d===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",d),v!==-1&&(x=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(x)),d=-1;for(var f=0;f<Ov.length;f++){var h=a.indexOf(Ov[f]);h!==-1&&(d===-1||h<d)&&(d=h)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var g=this.hostname.split(/\./),f=0,m=g.length;f<m;f++){var y=g[f];if(y&&!y.match(Fv)){for(var N="",_=0,I=y.length;_<I;_++)y.charCodeAt(_)>127?N+="x":N+=y[_];if(!N.match(Fv)){var S=g.slice(0,f),w=g.slice(f+1),C=y.match(g0);C&&(S.push(C[1]),w.unshift(C[2])),w.length&&(a="/"+w.join(".")+a),this.hostname=S.join(".");break}}}this.hostname.length>m0?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=c0.toASCII(this.hostname));var M=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+M,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!y0[u])for(var f=0,m=vd.length;f<m;f++){var V=vd[f];if(a.indexOf(V)!==-1){var Z=encodeURIComponent(V);Z===V&&(Z=escape(V)),a=a.split(V).join(Z)}}var ue=a.indexOf("#");ue!==-1&&(this.hash=a.substr(ue),a=a.slice(0,ue));var R=a.indexOf("?");if(R!==-1?(this.search=a.substr(R),this.query=a.substr(R+1),e&&(this.query=wd.parse(this.query)),a=a.slice(0,R)):e&&(this.search="",this.query={}),a&&(this.pathname=a),gi[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this};function v0(t){return typeof t=="string"&&(t=Go(t)),t instanceof ct?t.format():ct.prototype.format.call(t)}ct.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=wd.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||gi[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+n+s+r};function I0(t,e){return Go(t,!1,!0).resolve(e)}ct.prototype.resolve=function(t){return this.resolveObject(Go(t,!1,!0)).format()};function w0(t,e){return t?Go(t,!1,!0).resolveObject(e):e}ct.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ct;e.parse(t,!1,!0),t=e}for(var n=new ct,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(n[c]=t[c])}return gi[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!gi[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Id[t.protocol]){for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var h=n.pathname&&n.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=x||h||n.host&&t.pathname,b=v,g=n.pathname&&n.pathname.split("/")||[],m=t.pathname&&t.pathname.split("/")||[],y=n.protocol&&!gi[n.protocol];if(y&&(n.hostname="",n.port=null,n.host&&(g[0]===""?g[0]=n.host:g.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(m[0]===""?m[0]=t.host:m.unshift(t.host)),t.host=null),v=v&&(m[0]===""||g[0]==="")),x)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,g=m;else if(m.length)g||(g=[]),g.pop(),g=g.concat(m),n.search=t.search,n.query=t.query;else if(t.search!=null){if(y){n.host=g.shift(),n.hostname=n.host;var N=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;N&&(n.auth=N.shift(),n.hostname=N.shift(),n.host=n.hostname)}return n.search=t.search,n.query=t.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=g.slice(-1)[0],I=(n.host||t.host||g.length>1)&&(_==="."||_==="..")||_==="",S=0,w=g.length;w>=0;w--)_=g[w],_==="."?g.splice(w,1):_===".."?(g.splice(w,1),S++):S&&(g.splice(w,1),S--);if(!v&&!b)for(;S--;S)g.unshift("..");v&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),I&&g.join("/").substr(-1)!=="/"&&g.push("");var C=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(y){n.hostname=C?"":g.length?g.shift():"",n.host=n.hostname;var N=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;N&&(n.auth=N.shift(),n.hostname=N.shift(),n.host=n.hostname)}return v=v||n.host&&g.length,v&&!C&&g.unshift(""),g.length>0?n.pathname=g.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};ct.prototype.parseHost=function(){var t=this.host,e=d0.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};yi.parse=Go;yi.resolve=I0;yi.resolveObject=w0;yi.format=v0;yi.Url=ct});var Vv=F(($v,Fa)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Fa=="object"&&Fa.exports?Fa.exports=e():t.xmlserializer=e()})($v,function(){var t=function(d){return d.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},n=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=function(d){var f=d.value;return" "+d.name+'="'+e(f)+'"'},i=function(d){var f=d.tagName;return d.namespaceURI==="http://www.w3.org/1999/xhtml"&&(f=f.toLowerCase()),f},o=function(d,f){var h=Array.prototype.map.call(d.attributes||d.attrs,function(x){return x.name}).indexOf("xmlns")>=0;return!h&&(f||d.namespaceURI!==d.parentNode.namespaceURI)?' xmlns="'+d.namespaceURI+'"':""},s=function(d){return Array.prototype.map.call(d.childNodes,function(f){return p(f)}).join("")},a=function(d,f){var h="<"+i(d);return h+=o(d,f),Array.prototype.forEach.call(d.attributes||d.attrs,function(x){h+=r(x)}),d.childNodes.length>0?(h+=">",h+=s(d),h+="</"+i(d)+">"):h+="/>",h},c=function(d){var f=d.nodeValue||d.value||"";return n(f)},l=function(d){return"<!--"+d.data.replace(/-/g,"&#45;")+"-->"},u=function(d){return"<![CDATA["+d.nodeValue+"]]>"},p=function(d,f){var h=f&&f.rootNode;if(d.nodeName==="#document"||d.nodeName==="#document-fragment")return s(d);if(d.tagName)return a(d,h);if(d.nodeName==="#text")return c(d);if(d.nodeName==="#comment")return l(d);if(d.nodeName==="#cdata-section")return u(d)};return{serializeToString:function(d){return t(p(d,{rootNode:!0}))}}})});var Bv=F(jv=>{"use strict";var b0=function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(n){return e.serializeToString(n)}).join("")},E0=function(t){if(t.documentElement.tagName==="parsererror"&&t.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml")return t.documentElement;if((t.documentElement.tagName==="xml"||t.documentElement.tagName==="html")&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&t.documentElement.childNodes[0].nodeName==="parsererror")return t.documentElement.childNodes[0];if(t.documentElement.tagName==="html"&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&t.documentElement.childNodes[0].nodeName==="body"&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&t.documentElement.childNodes[0].childNodes[0].nodeName==="parsererror")return t.documentElement.childNodes[0].childNodes[0]},Hv=[new RegExp(`^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)
?</div>`),new RegExp(`^(.+)
`)],x0=function(t){var e=b0(t),n,r;for(n=0;n<Hv.length;n++)if(r=Hv[n].exec(e),r)return r[1]},T0=function(t){var e;if(t===null)throw new Error("Parse error");var n=E0(t);if(n!==void 0)throw e=x0(n)||"Parse error",new Error(e)};jv.failOnParseError=function(t){return T0(t),t}});var qo=F(He=>{"use strict";var C0=bd();He.getDocumentBaseUrl=function(t){return t.baseURI!=="about:blank"?t.baseURI:null};He.clone=function(t){var e={},n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};He.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])};He.joinUrl=function(t,e){return t?C0.resolve(t,e):e};He.isDataUri=function(t){return/^data:/.test(t)};He.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map(function(n){return n.catch(function(r){e.push(r)})})).then(function(){return e})};var Ed=null,_0=function(t,e){return e===!1||e==="none"||e==="repeated"?((Ed===null||e!=="repeated")&&(Ed=Date.now()),t+"?_="+Ed):t};He.ajax=function(t,e){return new Promise(function(n,r){var i=new window.XMLHttpRequest,o=He.joinUrl(e.baseUrl,t),s,a=function(){r({msg:"Unable to load url",url:o})};s=_0(o,e.cache),i.addEventListener("load",function(){i.status===200||i.status===0?n(i.response):a()},!1),i.addEventListener("error",a,!1);try{i.open("GET",s,!0),i.overrideMimeType(e.mimeType),i.send(null)}catch{a()}})};He.binaryAjax=function(t,e){var n=He.clone(e);return n.mimeType="text/plain; charset=x-user-defined",He.ajax(t,n).then(function(r){for(var i="",o=0;o<r.length;o++)i+=String.fromCharCode(r.charCodeAt(o)&255);return i})};var S0=function(t){var e=function(n,r){return n.substring(0,r.length)===r};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"};He.getDataURIForImageURL=function(t,e){return He.binaryAjax(t,e).then(function(n){var r=btoa(n),i=S0(n);return"data:"+i+";base64,"+r})};var xd=[],D0=function(t){return xd.indexOf(t)<0&&xd.push(t),xd.indexOf(t)};He.memoize=function(t,e,n){if(typeof n!="object")throw new Error("cacheBucket is not an object");return function(){var r=Array.prototype.slice.call(arguments),i=e(r),o=D0(t),s;return n[o]&&n[o][i]?n[o][i]:(s=t.apply(null,r),n[o]=n[o]||{},n[o][i]=s,s)}}});var zv=F(Wv=>{"use strict";var Zo=qo(),M0=function(t,e){var n=null;t.hasAttribute("src")?n=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(n=t.getAttribute("href"));var r=Zo.getDocumentBaseUrl(t.ownerDocument),i=Zo.clone(e);return!i.baseUrl&&r&&(i.baseUrl=r),Zo.getDataURIForImageURL(n,i).then(function(o){return o},function(o){throw{resourceType:"image",url:o.url,msg:"Unable to load image "+o.url}})},N0=function(t){return t.filter(function(e){var n=null;return e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href")),n!==null&&!Zo.isDataUri(n)})},P0=function(t){return Array.prototype.filter.call(t,function(e){return e.type==="image"})},Uv=function(t){return Array.prototype.slice.call(t)};Wv.inline=function(t,e){var n=Uv(t.getElementsByTagName("img")),r=Uv(t.getElementsByTagName("image")),i=P0(t.getElementsByTagName("input"));n=n.concat(r),n=n.concat(i);var o=N0(n);return Zo.collectAndReportErrors(o.map(function(s){return M0(s,e).then(function(a){s.attributes.src?s.attributes.src.value=a:s.attributes["xlink:href"]?s.attributes["xlink:href"].value=a:s.attributes.href&&(s.attributes.href.value=a)})}))}});var qv=F(Gv=>{"use strict";var $a=qo(),A0=function(t,e){var n=t.attributes.src.value,r=$a.getDocumentBaseUrl(t.ownerDocument),i=$a.clone(e);return!i.baseUrl&&r&&(i.baseUrl=r),$a.ajax(n,i).catch(function(o){throw{resourceType:"script",url:o.url,msg:"Unable to load script "+o.url}})},k0=function(t){return t.replace(/<\//g,"<\\/")},R0=function(t,e){t.attributes.removeNamedItem("src"),t.textContent=k0(e)},O0=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,function(n){return!!n.attributes.src})};Gv.inline=function(t,e){var n=O0(t);return $a.collectAndReportErrors(n.map(function(r){return A0(r,e).then(function(i){R0(r,i)})}))}});var Va=F(Cn=>{"use strict";Cn.unquoteString=function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t};Cn.rulesForCssText=function(t,e){var n=document.implementation.createHTMLDocument(""),r=document.createElement("style"),i;return r.textContent=t,e&&e.nonce&&(r.nonce=e.nonce),n.body.appendChild(r),i=r.sheet.cssRules,Array.prototype.slice.call(i)};Cn.cssRulesToText=function(t){return t.reduce(function(e,n){return e+n.cssText},"")};Cn.exchangeRule=function(t,e,n,r){var i=t.indexOf(e);t[i]=Cn.rulesForCssText(n,r)[0]};Cn.changeFontFaceRuleSrc=function(t,e,n,r){var i="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(i+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(i+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),e.style.getPropertyValue("unicode-range")&&(i+="unicode-range: "+e.style.getPropertyValue("unicode-range")+"; "),i+="src: "+n+"}",Cn.exchangeRule(t,e,i,r)}});var Zv=F(Qo=>{"use strict";var L0=Va(),F0=function(t){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return t.replace(e,"$1")};Qo.extractCssUrl=function(t){var e=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/,n;if(!e.test(t))throw new Error("Invalid url");return n=e.exec(t)[1],L0.unquoteString(F0(n))};var $0=function(t){var e=`\\s*(?:"[^"]*"|'[^']*'|[^\\(]+)\\s*`,n="(url\\("+e+"\\)|[^,\\s]+)",r="(?:\\s*"+n+")+",i="^\\s*("+r+")(?:\\s*,\\s*("+r+"))*\\s*$",o=new RegExp(r,"g"),s,a=[],c=function(l){var u=new RegExp(n,"g"),p=[],d;for(d=u.exec(l);d;)p.push(d[1]),d=u.exec(l);return p};if(t.match(new RegExp(i))){for(s=o.exec(t);s;)a.push(c(s[0])),s=o.exec(t);return a}return[]},V0=function(t){var e,n;for(e=0;e<t.length;e++)try{return n=Qo.extractCssUrl(t[e]),{url:n,idx:e}}catch{}};Qo.parse=function(t){var e=$0(t);return e.map(function(n){var r=V0(n);return r?{preUrl:n.slice(0,r.idx),url:r.url,postUrl:n.slice(r.idx+1)}:{preUrl:n}})};Qo.serialize=function(t){var e=t.map(function(n){var r=[].concat(n.preUrl);return n.url&&r.push('url("'+n.url+'")'),n.postUrl&&(r=r.concat(n.postUrl)),r.join(" ")});return e.join(", ")}});var Yv=F((Qv,Td)=>{"use strict";(function(t){if(typeof Qv=="object"&&typeof Td<"u")Td.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.cssFontFaceSrc=t()}})(function(){var t,e,n;return(function r(i,o,s){function a(u,p){if(!o[u]){if(!i[u]){var d=typeof Ci=="function"&&Ci;if(!p&&d)return d(u,!0);if(c)return c(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=o[u]={exports:{}};i[u][0].call(h.exports,function(x){var v=i[u][1][x];return a(v||x)},h,h.exports,r,i,o,s)}return o[u].exports}for(var c=typeof Ci=="function"&&Ci,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(r,i,o){"use strict";function s(l,u){function p(){this.constructor=l}p.prototype=u.prototype,l.prototype=new p}function a(l,u,p,d){this.message=l,this.expected=u,this.found=p,this.location=d,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a)}s(a,Error),a.buildMessage=function(l,u){var p={literal:function(g){return'"'+f(g.text)+'"'},class:function(g){var m="",y;for(y=0;y<g.parts.length;y++)m+=g.parts[y]instanceof Array?h(g.parts[y][0])+"-"+h(g.parts[y][1]):h(g.parts[y]);return"["+(g.inverted?"^":"")+m+"]"},any:function(g){return"any character"},end:function(g){return"end of input"},other:function(g){return g.description}};function d(g){return g.charCodeAt(0).toString(16).toUpperCase()}function f(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+d(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+d(m)})}function h(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+d(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+d(m)})}function x(g){return p[g.type](g)}function v(g){var m=new Array(g.length),y,N;for(y=0;y<g.length;y++)m[y]=x(g[y]);if(m.sort(),m.length>0){for(y=1,N=1;y<m.length;y++)m[y-1]!==m[y]&&(m[N]=m[y],N++);m.length=N}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function b(g){return g?'"'+f(g)+'"':"end of input"}return"Expected "+v(l)+" but "+b(u)+" found."};function c(l,u){u=u!==void 0?u:{};var p={},d={start:Md},f=Md,h="",x=function(){return[]},v=",",b=je(",",!1),g=function(T,A){return[T].concat(A)},m=function(T){return[T]},y=function(T,A){return{url:T,format:A}},N=function(T){return{url:T}},_="url(",I=je("url(",!1),S=")",w=je(")",!1),C=function(T){return T},M="format(",$=je("format(",!1),V="local(",Z=je("local(",!1),ue=function(T){return{local:T}},R=/^[^)]/,L=Tt([")"],!0,!1),P=function(T){return II.extractValue(T.join(""))},k=/^[ \t\r\n\f]/,O=Tt([" ","	","\r",`
`,"\f"],!1,!1),D=0,H=0,G=[{line:1,column:1}],B=0,he=[],re=0,we;if("startRule"in u){if(!(u.startRule in d))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');f=d[u.startRule]}function De(){return l.substring(H,D)}function me(){return Ti(H,D)}function Me(T,A){throw A=A!==void 0?A:Ti(H,D),Dd([hI(T)],l.substring(H,D),A)}function Xe(T,A){throw A=A!==void 0?A:Ti(H,D),mI(T,A)}function je(T,A){return{type:"literal",text:T,ignoreCase:A}}function Tt(T,A,j){return{type:"class",parts:T,inverted:A,ignoreCase:j}}function Jo(){return{type:"any"}}function pI(){return{type:"end"}}function hI(T){return{type:"other",description:T}}function Sd(T){var A=G[T],j;if(A)return A;for(j=T-1;!G[j];)j--;for(A=G[j],A={line:A.line,column:A.column};j<T;)l.charCodeAt(j)===10?(A.line++,A.column=1):A.column++,j++;return G[T]=A,A}function Ti(T,A){var j=Sd(T),ee=Sd(A);return{start:{offset:T,line:j.line,column:j.column},end:{offset:A,line:ee.line,column:ee.column}}}function ut(T){D<B||(D>B&&(B=D,he=[]),he.push(T))}function mI(T,A){return new a(T,null,null,A)}function Dd(T,A,j){return new a(a.buildMessage(T,A),T,A,j)}function Md(){var T,A;return T=Nd(),T===p&&(T=D,A=h,A!==p&&(H=T,A=x()),T=A),T}function Nd(){var T,A,j,ee,Ga,Sn;if(T=D,A=Pd(),A!==p){for(j=[],ee=Ir();ee!==p;)j.push(ee),ee=Ir();if(j!==p)if(l.charCodeAt(D)===44?(ee=v,D++):(ee=p,re===0&&ut(b)),ee!==p){for(Ga=[],Sn=Ir();Sn!==p;)Ga.push(Sn),Sn=Ir();Ga!==p?(Sn=Nd(),Sn!==p?(H=T,A=g(A,Sn),T=A):(D=T,T=p)):(D=T,T=p)}else D=T,T=p;else D=T,T=p}else D=T,T=p;return T===p&&(T=D,A=Pd(),A!==p&&(H=T,A=m(A)),T=A),T}function Pd(){var T;return T=gI(),T===p&&(T=vI()),T}function gI(){var T,A,j,ee;if(T=D,A=Ad(),A!==p){if(j=[],ee=Ir(),ee!==p)for(;ee!==p;)j.push(ee),ee=Ir();else j=p;j!==p?(ee=yI(),ee!==p?(H=T,A=y(A,ee),T=A):(D=T,T=p)):(D=T,T=p)}else D=T,T=p;return T===p&&(T=D,A=Ad(),A!==p&&(H=T,A=N(A)),T=A),T}function Ad(){var T,A,j,ee;return T=D,l.substr(D,4)===_?(A=_,D+=4):(A=p,re===0&&ut(I)),A!==p?(j=za(),j!==p?(l.charCodeAt(D)===41?(ee=S,D++):(ee=p,re===0&&ut(w)),ee!==p?(H=T,A=C(j),T=A):(D=T,T=p)):(D=T,T=p)):(D=T,T=p),T}function yI(){var T,A,j,ee;return T=D,l.substr(D,7)===M?(A=M,D+=7):(A=p,re===0&&ut($)),A!==p?(j=za(),j!==p?(l.charCodeAt(D)===41?(ee=S,D++):(ee=p,re===0&&ut(w)),ee!==p?(H=T,A=C(j),T=A):(D=T,T=p)):(D=T,T=p)):(D=T,T=p),T}function vI(){var T,A,j,ee;return T=D,l.substr(D,6)===V?(A=V,D+=6):(A=p,re===0&&ut(Z)),A!==p?(j=za(),j!==p?(l.charCodeAt(D)===41?(ee=S,D++):(ee=p,re===0&&ut(w)),ee!==p?(H=T,A=ue(j),T=A):(D=T,T=p)):(D=T,T=p)):(D=T,T=p),T}function za(){var T,A,j;if(T=D,A=[],R.test(l.charAt(D))?(j=l.charAt(D),D++):(j=p,re===0&&ut(L)),j!==p)for(;j!==p;)A.push(j),R.test(l.charAt(D))?(j=l.charAt(D),D++):(j=p,re===0&&ut(L));else A=p;return A!==p&&(H=T,A=P(A)),T=A,T}function Ir(){var T;return k.test(l.charAt(D))?(T=l.charAt(D),D++):(T=p,re===0&&ut(O)),T}var II=r("../util");if(we=f(),we!==p&&D===l.length)return we;throw we!==p&&D<l.length&&ut(pI()),Dd(he,B<l.length?l.charAt(B):null,B<l.length?Ti(B,B+1):Ti(B,B))}i.exports={SyntaxError:a,parse:c}},{"../util":3}],2:[function(r,i,o){var s=r("./grammar");o.SyntaxError=function(a,c){this.message=a,this.offset=c},o.parse=function(a){try{return s.parse(a)}catch(c){throw new o.SyntaxError(c.message,c.offset)}},o.serialize=function(a){return a.map(function(c){var l;return c.url?(l='url("'+c.url+'")',c.format&&(l+=' format("'+c.format+'")')):l='local("'+c.local+'")',l}).join(", ")}},{"./grammar":1}],3:[function(r,i,o){var s=function(c){var l=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return c.replace(l,"$1")},a=function(c){var l=/^"(.*)"$/,u=/^'(.*)'$/;return l.test(c)?c.replace(l,"$1"):u.test(c)?c.replace(u,"$1"):c};o.extractValue=function(c){return a(s(c))}},{}]},{},[2])(2)})});var oI=F(vi=>{"use strict";var xt=qo(),Yo=Va(),Ha=Zv(),ja=Yv(),Xv=function(t,e,n){t.style.setProperty(e,n,t.style.getPropertyPriority(e))},Jv=function(t){return t.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})},eI=function(t){var e=[];return t.forEach(function(n){n.style.getPropertyValue("background-image")?e.push({property:"background-image",value:n.style.getPropertyValue("background-image"),rule:n}):n.style.getPropertyValue("background")&&e.push({property:"background",value:n.style.getPropertyValue("background"),rule:n})}),e},tI=function(t){return t.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})},nI=function(t){return t.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})},rI=function(t){var e=[];return t.forEach(function(n,r){n.url&&!xt.isDataUri(n.url)&&e.push(r)}),e},iI=function(t){var e=[];return t.forEach(function(n,r){n.url&&!xt.isDataUri(n.url)&&e.push(r)}),e};vi.adjustPathsOfCssResources=function(t,e,n){var r=Jv(e),i=eI(r),o=!1;return i.forEach(function(s){var a=Ha.parse(s.value),c=rI(a),l;c.length>0&&(c.forEach(function(u){var p=a[u].url,d=xt.joinUrl(t,p);a[u].url=d}),l=Ha.serialize(a),Xv(s.rule,s.property,l),o=!0)}),tI(e).forEach(function(s){var a=s.style.getPropertyValue("src"),c,l;try{c=ja.parse(a)}catch{return}l=iI(c),l.length>0&&(l.forEach(function(u){var p=c[u].url,d=xt.joinUrl(t,p);c[u].url=d}),Yo.changeFontFaceRuleSrc(e,s,ja.serialize(c,n),n),o=!0)}),nI(e).forEach(function(s){var a=s.href,c=xt.joinUrl(t,a);Yo.exchangeRule(e,s,"@import url("+c+");",n),o=!0}),o};var Kv=function(t,e,n){var r=t.indexOf(e);t.splice(r,1),n.forEach(function(i,o){t.splice(r+o,0,i)})},H0=function(t,e,n,r){var i=e.href,o;return i=Yo.unquoteString(i),o=xt.joinUrl(r.baseUrl,i),n.indexOf(o)>=0?(Kv(t,e,[]),Promise.resolve([])):(n.push(o),xt.ajax(i,r).then(function(s){var a=Yo.rulesForCssText(s,r);return vi.loadCSSImportsForRules(a,n,r).then(function(c){return vi.adjustPathsOfCssResources(i,a,r),Kv(t,e,a),c.errors})},function(s){throw{resourceType:"stylesheet",url:s.url,msg:"Unable to load stylesheet "+s.url}}))};vi.loadCSSImportsForRules=function(t,e,n){var r=nI(t),i=[],o=!1;return Promise.all(r.map(function(s){return H0(t,s,e,n).then(function(a){i=i.concat(a),o=!0},function(a){i.push(a)})})).then(function(){return{hasChanges:o,errors:i}})};var j0=function(t,e){var n=Ha.parse(t),r=rI(n),i=!1;return xt.collectAndReportErrors(r.map(function(o){var s=n[o].url;return xt.getDataURIForImageURL(s,e).then(function(a){n[o].url=a,i=!0},function(a){throw{resourceType:"backgroundImage",url:a.url,msg:"Unable to load background-image "+a.url}})})).then(function(o){return{backgroundValue:Ha.serialize(n),hasChanges:i,errors:o}})},B0=function(t,e){var n=Jv(t),r=eI(n),i=[],o=!1;return Promise.all(r.map(function(s){return j0(s.value,e).then(function(a){a.hasChanges&&(Xv(s.rule,s.property,a.backgroundValue),o=!0),i=i.concat(a.errors)})})).then(function(){return{hasChanges:o,errors:i}})},U0=function(t,e){var n=!1,r,i;try{r=ja.parse(t)}catch{r=[]}return i=iI(r),xt.collectAndReportErrors(i.map(function(o){var s=r[o],a=s.format||"woff";return xt.binaryAjax(s.url,e).then(function(c){var l=btoa(c);s.url="data:font/"+a+";base64,"+l,n=!0},function(c){throw{resourceType:"fontFace",url:c.url,msg:"Unable to load font-face "+c.url}})})).then(function(o){return{srcDeclarationValue:ja.serialize(r),hasChanges:n,errors:o}})},W0=function(t,e){var n=tI(t),r=[],i=!1;return Promise.all(n.map(function(o){var s=o.style.getPropertyValue("src");return U0(s,e).then(function(a){a.hasChanges&&(Yo.changeFontFaceRuleSrc(t,o,a.srcDeclarationValue,e),i=!0),r=r.concat(a.errors)})})).then(function(){return{hasChanges:i,errors:r}})};vi.loadAndInlineCSSResourcesForRules=function(t,e){var n=!1,r=[];return Promise.all([B0,W0].map(function(i){return i(t,e).then(function(o){n=n||o.hasChanges,r=r.concat(o.errors)})})).then(function(){return{hasChanges:n,errors:r}})}});var aI=F(Bt=>{"use strict";var en=qo(),z0=zv(),G0=qv(),Ko=oI(),Ba=Va(),q0=function(t){return en.joinUrl(t,".")},Z0=function(t){var e=t.map(function(n,r){return r===t.length-1&&(n={baseUrl:q0(n.baseUrl)}),JSON.stringify(n)});return e},sI=function(t,e){return e.cache!==!1&&e.cache!=="none"&&e.cacheBucket?en.memoize(t,Z0,e.cacheBucket):t},Q0=function(t,e,n){var r=Ba.rulesForCssText(t,n);return Ko.loadCSSImportsForRules(r,e,n).then(function(i){return Ko.loadAndInlineCSSResourcesForRules(r,n).then(function(o){var s=i.errors.concat(o.errors),a=i.hasChanges||o.hasChanges;return a&&(t=Ba.cssRulesToText(r)),{hasChanges:a,content:t,errors:s}})})},Y0=function(t,e,n){var r=t.textContent,i=sI(Q0,e);return i(r,n,e).then(function(o){return o.hasChanges&&(t.childNodes[0].nodeValue=o.content),en.cloneArray(o.errors)})},K0=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,function(n){return!n.attributes.type||n.attributes.type.value==="text/css"})};Bt.loadAndInlineStyles=function(t,e){var n=K0(t),r=[],i=[],o;return o=en.clone(e),o.baseUrl=o.baseUrl||en.getDocumentBaseUrl(t),Promise.all(n.map(function(s){return Y0(s,o,i).then(function(a){r=r.concat(a)})})).then(function(){return r})};var X0=function(t,e){var n=t.parentNode,r;e=e.trim(),e&&(r=t.ownerDocument.createElement("style"),r.type="text/css",r.appendChild(t.ownerDocument.createTextNode(e)),n.insertBefore(r,t)),n.removeChild(t)},J0=function(t,e){return en.ajax(t,e).then(function(n){var r=Ba.rulesForCssText(n,e);return{content:n,cssRules:r}}).then(function(n){var r=Ko.adjustPathsOfCssResources(t,n.cssRules,e);return{content:n.content,cssRules:n.cssRules,hasChanges:r}}).then(function(n){return Ko.loadCSSImportsForRules(n.cssRules,[],e).then(function(r){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||r.hasChanges,errors:r.errors}})}).then(function(n){return Ko.loadAndInlineCSSResourcesForRules(n.cssRules,e).then(function(r){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||r.hasChanges,errors:n.errors.concat(r.errors)}})}).then(function(n){var r=n.content;return n.hasChanges&&(r=Ba.cssRulesToText(n.cssRules)),{content:r,errors:n.errors}})},eM=function(t,e){var n=t.attributes.href.value,r=en.getDocumentBaseUrl(t.ownerDocument),i=en.clone(e);!i.baseUrl&&r&&(i.baseUrl=r);var o=sI(J0,e);return o(n,i).then(function(s){return{content:s.content,errors:en.cloneArray(s.errors)}})},tM=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,function(n){return n.attributes.rel&&n.attributes.rel.value==="stylesheet"&&(!n.attributes.type||n.attributes.type.value==="text/css")})};Bt.loadAndInlineCssLinks=function(t,e){var n=tM(t),r=[];return Promise.all(n.map(function(i){return eM(i,e).then(function(o){X0(i,o.content+`
`),r=r.concat(o.errors)},function(o){r.push({resourceType:"stylesheet",url:o.url,msg:"Unable to load stylesheet "+o.url})})})).then(function(){return r})};Bt.loadAndInlineImages=z0.inline;Bt.loadAndInlineScript=G0.inline;Bt.inlineReferences=function(t,e){var n=[],r=[Bt.loadAndInlineImages,Bt.loadAndInlineStyles,Bt.loadAndInlineCssLinks];return e.inlineScripts!==!1&&r.push(Bt.loadAndInlineScript),Promise.all(r.map(function(i){return i(t,e).then(function(o){n=n.concat(o)})})).then(function(){return n})}});var cI=F((lI,Ua)=>{"use strict";(function(t,e){t===void 0&&window!==void 0&&(t=window),typeof define=="function"&&define.amd?define(["url","xmlserializer","sane-domparser-error","inlineresources"],function(n,r,i,o){return t.rasterizeHTML=e(n,r,i,o)}):typeof Ua=="object"&&Ua.exports?Ua.exports=e(bd(),Vv(),Bv(),aI()):t.rasterizeHTML=e(t.url,t.xmlserializer,t.sanedomparsererror,t.inlineresources)})(lI,function(t,e,n,r){var i=(function(f){"use strict";var h={},x=[];h.joinUrl=function(g,m){return g?f.resolve(g,m):m},h.getConstantUniqueIdFor=function(g){return x.indexOf(g)<0&&x.push(g),x.indexOf(g)},h.clone=function(g){var m={},y;for(y in g)g.hasOwnProperty(y)&&(m[y]=g[y]);return m};var v=function(g){return typeof g=="object"&&g!==null},b=function(g){return v(g)&&Object.prototype.toString.apply(g).match(/\[object (Canvas|HTMLCanvasElement|OffscreenCanvas)\]/i)};return h.parseOptionalParameters=function(g){var m={canvas:null,options:{}};return g[0]==null||b(g[0])?(m.canvas=g[0]||null,m.options=h.clone(g[1])):m.options=h.clone(g[0]),m},h})(t),o=(function(f){"use strict";var h={},x=function(v,b,g){var m=v[b];return v[b]=function(){var y=Array.prototype.slice.call(arguments);return g.apply(this,[y,m])},m};return h.baseUrlRespectingXhr=function(v,b){var g=function(){var m=new v;return x(m,"open",function(y,N){var _=y.shift(),I=y.shift(),S=f.joinUrl(b,I);return N.apply(this,[_,S].concat(y))}),m};return g},h.finishNotifyingXhr=function(v){var b=0,g=0,m=!1,y,N=new Promise(function(I){y=function(){var S=b-g;S<=0&&m&&I({totalCount:b})}}),_=function(){var I=new v;return x(I,"send",function(S,w){return b+=1,w.apply(this,arguments)}),I.addEventListener("load",function(){g+=1,y()}),I};return _.waitForRequestsToFinish=function(){return m=!0,y(),N},_},h})(i),s=(function(){"use strict";var f={},h=function(_){return Array.prototype.slice.call(_)};f.addClassName=function(_,I){_.className+=" "+I},f.addClassNameRecursively=function(_,I){f.addClassName(_,I),_.parentNode!==_.ownerDocument&&f.addClassNameRecursively(_.parentNode,I)};var x=function(_,I){var S=_.parentStyleSheet,w=h(S.cssRules).indexOf(_);S.insertRule(I,w+1),S.deleteRule(w)},v=function(_,I){var S=_.cssText.replace(/^[^\{]+/,""),w=I+" "+S;x(_,w)},b=function(_){return h(_).reduce(function(I,S){return I+S.cssText},"")},g=function(_){_.textContent=b(_.sheet.cssRules)},m=function(_){var I=document.implementation.createHTMLDocument(""),S=document.createElement("style");S.textContent=_.textContent,I.body.appendChild(S),_.sheet=S.sheet},y=function(_){return"((?:^|[^.#:\\w])|(?=\\W))("+_.join("|")+")(?=\\W|$)"},N=function(_,I,S){var w=y(I);h(_.querySelectorAll("style")).forEach(function(C){typeof C.sheet>"u"&&m(C);var M=h(C.sheet.cssRules).filter(function($){return $.selectorText&&new RegExp(w,"i").test($.selectorText)});M.length&&(M.forEach(function($){var V=$.selectorText.replace(new RegExp(w,"gi"),function(Z,ue,R){return ue+S(R)});V!==$.selectorText&&v($,V)}),g(C))})};return f.rewriteCssSelectorWith=function(_,I,S){N(_,[I],function(){return S})},f.lowercaseCssTypeSelectors=function(_,I){N(_,I,function(S){return S.toLowerCase()})},f.findHtmlOnlyNodeNames=function(_){var I=_.ownerDocument.createTreeWalker(_,NodeFilter.SHOW_ELEMENT),S={},w={},C;do C=I.currentNode.tagName.toLowerCase(),I.currentNode.namespaceURI==="http://www.w3.org/1999/xhtml"?S[C]=!0:w[C]=!0;while(I.nextNode());return Object.keys(S).filter(function(M){return!w[M]})},f})(),a=(function(f){"use strict";var h={},x=function(b){return Array.prototype.slice.call(b)},v={active:!0,hover:!0,focus:!1,target:!1};return h.fakeUserAction=function(b,g,m){var y=b.querySelector(g),N=":"+m,_="rasterizehtml"+m;y&&(v[m]?f.addClassNameRecursively(y,_):f.addClassName(y,_),f.rewriteCssSelectorWith(b,N,"."+_))},h.persistInputValues=function(b){var g=b.querySelectorAll("input"),m=b.querySelectorAll("textarea"),y=function(N){return N.type==="checkbox"||N.type==="radio"};x(g).filter(y).forEach(function(N){N.checked?N.setAttribute("checked",""):N.removeAttribute("checked")}),x(g).filter(function(N){return!y(N)}).forEach(function(N){N.setAttribute("value",N.value)}),x(m).forEach(function(N){N.textContent=N.value})},h.rewriteTagNameSelectorsToLowerCase=function(b){f.lowercaseCssTypeSelectors(b,f.findHtmlOnlyNodeNames(b))},h})(s),c=(function(f,h,x,v){"use strict";var b={},g=function(R,L,P,k){var O=R.createElement(L);return O.style.visibility="hidden",O.style.width=P+"px",O.style.height=k+"px",O.style.position="absolute",O.style.top=-1e4-k+"px",O.style.left=-1e4-P+"px",R.getElementsByTagName("body")[0].appendChild(O),O},m=function(R){return R>0?new Promise(function(L){setTimeout(L,R)}):Promise.resolve()};b.executeJavascript=function(R,L){return new Promise(function(P){var k=g(v.document,"iframe",L.width,L.height),O=R.outerHTML,D=[],H=L.executeJsTimeout||0,G=function(){v.document.getElementsByTagName("body")[0].removeChild(k)},B=function(){var De=k.contentDocument;P({document:De,errors:D,cleanUp:G})},he=k.contentWindow.XMLHttpRequest,re=h.finishNotifyingXhr(he),we=h.baseUrlRespectingXhr(re,L.baseUrl);k.onload=function(){m(H).then(re.waitForRequestsToFinish).then(B)},k.contentDocument.open(),k.contentWindow.XMLHttpRequest=we,k.contentWindow.onerror=function(De){D.push({resourceType:"scriptExecution",msg:De})},k.contentDocument.write("<!DOCTYPE html>"),k.contentDocument.write(O),k.contentDocument.close()})};var y=function(R,L,P){var k=R.createElement("iframe");return k.style.width=L+"px",k.style.height=P+"px",k.style.visibility="hidden",k.style.position="absolute",k.style.top=-1e4-P+"px",k.style.left=-1e4-L+"px",k.style.borderWidth=0,k.sandbox="allow-same-origin",k.scrolling="no",k},N=function(R,L,P){var k=Math.floor(R/P),O=Math.floor(L/P);return y(v.document,k,O)},_=function(R,L,P,k){return{width:Math.max(R.width*k,L),height:Math.max(R.height*k,P)}},I=function(R,L){var P=R.querySelector(L);if(P)return P;if(R.ownerDocument.querySelector(L)===R)return R;throw{message:"Clipping selector not found"}},S=function(R,L,P,k,O){var D=Math.max(R.scrollWidth,R.clientWidth),H=Math.max(R.scrollHeight,R.clientHeight),G,B,he,re,we,De,me,Me;return L?(De=I(R,L),me=De.getBoundingClientRect(),G=me.top,B=me.left,he=me.width,re=me.height):(G=0,B=0,he=D,re=H),Me=_({width:he,height:re},P,k,O),we=v.getComputedStyle(R.ownerDocument.documentElement).fontSize,{left:B,top:G,width:Me.width,height:Me.height,viewportWidth:D,viewportHeight:H,rootFontSize:we}},w=function(R,L){var P=R.tagName;return L.querySelector(P)},C=function(R){var L=R.tagName.toLowerCase();return L==="html"||L==="body"?R.outerHTML:'<body style="margin: 0;">'+R.outerHTML+"</body>"};b.calculateDocumentContentSize=function(R,L){return new Promise(function(P,k){var O=L.zoom||1,D;D=N(L.width,L.height,O),v.document.getElementsByTagName("body")[0].appendChild(D),D.onload=function(){var H=D.contentDocument,G;try{G=S(w(R,H),L.clip,L.width,L.height,O),P(G)}catch(B){k(B)}finally{v.document.getElementsByTagName("body")[0].removeChild(D)}},D.contentDocument.open(),D.contentDocument.write("<!DOCTYPE html>"),D.contentDocument.write(C(R)),D.contentDocument.close()})},b.parseHtmlFragment=function(R){var L=v.document.implementation.createHTMLDocument("");L.documentElement.innerHTML=R;var P=L.querySelector("body").firstChild;if(!P)throw"Invalid source";return P};var M=function(R,L){var P=/<html((?:\s+[^>]*)?)>/im.exec(L),k=v.document.implementation.createHTMLDocument(""),O,D,H,G;if(P)for(O="<div"+P[1]+"></div>",k.documentElement.innerHTML=O,H=k.querySelector("div"),D=0;D<H.attributes.length;D++)G=H.attributes[D],R.documentElement.setAttribute(G.name,G.value)};b.parseHTML=function(R){var L=v.document.implementation.createHTMLDocument("");return L.documentElement.innerHTML=R,M(L,R),L};var $=function(R){try{return x.failOnParseError(R)}catch(L){throw{message:"Invalid source",originalError:L}}};b.validateXHTML=function(R){var L=new DOMParser,P=L.parseFromString(R,"application/xml");$(P)};var V=null,Z=function(R,L){return L==="none"||L==="repeated"?((V===null||L!=="repeated")&&(V=Date.now()),R+"?_="+V):R},ue=function(R,L){return new Promise(function(P,k){var O=new window.XMLHttpRequest,D=f.joinUrl(L.baseUrl,R),H=Z(D,L.cache),G=function(B){k({message:"Unable to load page",originalError:B})};O.addEventListener("load",function(){O.status===200||O.status===0?P(O.responseXML):G(O.statusText)},!1),O.addEventListener("error",function(B){G(B)},!1);try{O.open("GET",H,!0),O.responseType="document",O.send(null)}catch(B){G(B)}})};return b.loadDocument=function(R,L){return ue(R,L).then(function(P){return $(P)})},b})(i,o,n,window),l=(function(){"use strict";var f={},h=function(I,S){return S?URL.createObjectURL(new Blob([I],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(I)},x=function(I){I instanceof Blob&&URL.revokeObjectURL(I)},v='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',b=function(I){return new Promise(function(S,w){var C=document.createElement("canvas"),M=new Image;M.onload=function(){var $=C.getContext("2d");try{$.drawImage(M,0,0),C.toDataURL("image/png"),S(!0)}catch{S(!1)}},M.onerror=w,M.src=I})},g=function(){var I=h(v,!0);return b(I).then(function(S){return x(I),S?!1:b(h(v,!1)).then(function(w){return w})},function(){return!1})},m=function(){return new Promise(function(I,S){g().then(function(w){I(!w)},function(){S()})})},y,N=function(){return y===void 0&&(y=m()),y},_=function(I){return N().then(function(S){return h(I,S)})};return f.renderSvg=function(I){return new Promise(function(S,w){var C,M,$=function(){M.onload=null,M.onerror=null},V=function(){C&&x(C)};M=new Image,M.onload=function(){$(),V(),S(M)},M.onerror=function(){V(),w()},_(I).then(function(Z){C=Z,M.src=C},w)})},f})(window),u=(function(f,h,x,v){"use strict";var b={},g=function(w,C){var M=C||1,$={width:w.width,height:w.height,"font-size":w.rootFontSize};return M!==1&&($.style="transform:scale("+M+"); transform-origin: 0 0;"),$},m=function(w){var C,M,$,V;C=Math.round(w.viewportWidth),M=Math.round(w.viewportHeight),$=-w.left,V=-w.top;var Z={x:$,y:V,width:C,height:M};return Z},y=function(w){var C=w.style||"";w.style=C+"float: left;"},N=function(w){w.externalResourcesRequired=!0},_=function(){return'<style scoped="">html::-webkit-scrollbar { display: none; }</style>'},I=function(w){var C=Object.keys(w);return C.length?" "+C.map(function(M){return M+'="'+w[M]+'"'}).join(" "):""},S=function(w,C,M){var $=v.serializeToString(w);h.validateXHTML($);var V=m(C);return y(V),N(V),'<svg xmlns="http://www.w3.org/2000/svg"'+I(g(C,M))+">"+_()+"<foreignObject"+I(V)+">"+$+"</foreignObject></svg>"};return b.getSvgForDocument=function(w,C,M){return x.rewriteTagNameSelectorsToLowerCase(w),S(w,C,M)},b.drawDocumentAsSvg=function(w,C){return["hover","active","focus","target"].forEach(function(M){C[M]&&x.fakeUserAction(w,C[M],M)}),h.calculateDocumentContentSize(w,C).then(function(M){return b.getSvgForDocument(w,M,C.zoom)})},b})(i,c,a,e),p=(function(f,h,x,v,b,g){"use strict";var m={},y=function(w){return{message:"Error rendering page",originalError:w}},N=function(w){return b.renderSvg(w).then(function(C){return{image:C,svg:w}},function(C){throw y(C)})},_=function(w,C){try{C.getContext("2d").drawImage(w,0,0)}catch(M){throw y(M)}},I=function(w,C,M){return v.drawDocumentAsSvg(w,M).then(N).then(function($){return C&&_($.image,C),$})},S=function(w,C){return h.executeJavascript(w,C).then(function(M){var $=M.document;return x.persistInputValues($),{document:$,errors:M.errors,cleanUp:M.cleanUp}})};return m.rasterize=function(w,C,M){var $;return $=f.clone(M),$.inlineScripts=M.executeJs===!0,g.inlineReferences(w,$).then(function(V){return M.executeJs?S(w,M).then(function(Z){return{element:Z.document.documentElement,errors:V.concat(Z.errors),cleanUp:Z.cleanUp}}):{element:w,errors:V,cleanUp:function(){}}}).then(function(V){return I(V.element,C,M).then(function(Z){return V.cleanUp(),{image:Z.image,svg:Z.svg,errors:V.errors}})})},m})(i,c,a,u,l,r),d=(function(f,h,x){"use strict";var v={},b=function(_,I){var S=300,w=200,C=_?_.width:S,M=_?_.height:w,$=I.width!==void 0?I.width:C,V=I.height!==void 0?I.height:M;return{width:$,height:V}},g=function(_){var I=b(_.canvas,_.options),S;return S=f.clone(_.options),S.width=I.width,S.height=I.height,S};v.drawDocument=function(){var _=arguments[0],I=Array.prototype.slice.call(arguments,1),S=f.parseOptionalParameters(I),w=_.documentElement?_.documentElement:_;return x.rasterize(w,S.canvas,g(S))};var m=function(_,I,S){var w=h.parseHTML(_);return v.drawDocument(w,I,S)};v.drawHTML=function(){var _=arguments[0],I=Array.prototype.slice.call(arguments,1),S=f.parseOptionalParameters(I);return m(_,S.canvas,S.options)};var y=function(_,I,S){var w=document.implementation.createHTMLDocument("");w.replaceChild(_.documentElement,w.documentElement);var C=S?f.clone(S):{};return S.baseUrl||(C.baseUrl=I),{document:w,options:C}},N=function(_,I,S){return h.loadDocument(_,S).then(function(w){var C=y(w,_,S);return v.drawDocument(C.document,I,C.options)})};return v.drawURL=function(){var _=arguments[0],I=Array.prototype.slice.call(arguments,1),S=f.parseOptionalParameters(I);return N(_,S.canvas,S.options)},v})(i,c,p);return d})});var Za=null;var Ld=1;var wr=Symbol("SIGNAL");function K(t){let e=Za;return Za=t,e}function es(){return Za}var Ya={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fd(t){if(!(ns(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ld)){if(!t.producerMustRecompute(t)&&!Xa(t)){Qa(t);return}t.producerRecomputeValue(t),Qa(t)}}function Qa(t){t.dirty=!1,t.lastCleanEpoch=Ld}function Ka(t){return t&&$d(t),K(t)}function $d(t){t.producersTail=void 0,t.recomputing=!0}function Vd(t,e){K(e),t&&Hd(t)}function Hd(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ns(t))do n=Ja(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Xa(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Fd(n),r!==n.version))return!0}return!1}function ts(t){if(ns(t)){let e=t.producers;for(;e!==void 0;)e=Ja(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Ja(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ns(e)){let o=e.producers;for(;o!==void 0;)o=Ja(o)}return n}function ns(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function MI(){throw new Error}var NI=MI;function el(t){NI=t}function Be(t){return typeof t=="function"}function rs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var is=rs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _i(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){e=o instanceof is?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jd(o)}catch(s){e=e??[],s instanceof is?e=[...e,...s.errors]:e.push(s)}}if(e)throw new is(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jd(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_i(n,e)}remove(e){let{_finalizers:n}=this;n&&_i(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var tl=Ne.EMPTY;function os(t){return t instanceof Ne||t&&"closed"in t&&Be(t.remove)&&Be(t.add)&&Be(t.unsubscribe)}function jd(t){Be(t)?t():t.unsubscribe()}var ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var br={setTimeout(t,e,...n){let{delegate:r}=br;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=br;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bd(t){br.setTimeout(()=>{let{onUnhandledError:e}=ft;if(e)e(t);else throw t})}function nl(){}var Ud=rl("C",void 0,void 0);function Wd(t){return rl("E",void 0,t)}function zd(t){return rl("N",t,void 0)}function rl(t,e,n){return{kind:t,value:e,error:n}}var Dn=null;function Er(t){if(ft.useDeprecatedSynchronousErrorHandling){let e=!Dn;if(e&&(Dn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Dn;if(Dn=null,n)throw r}}else t()}function Gd(t){ft.useDeprecatedSynchronousErrorHandling&&Dn&&(Dn.errorThrown=!0,Dn.error=t)}var Mn=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,os(e)&&e.add(this)):this.destination=kI}static create(e,n,r){return new xr(e,n,r)}next(e){this.isStopped?ol(zd(e),this):this._next(e)}error(e){this.isStopped?ol(Wd(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ol(Ud,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PI=Function.prototype.bind;function il(t,e){return PI.call(t,e)}var sl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ss(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ss(r)}else ss(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ss(n)}}},xr=class extends Mn{constructor(e,n,r){super();let i;if(Be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&il(e.next,o),error:e.error&&il(e.error,o),complete:e.complete&&il(e.complete,o)}):i=e}this.destination=new sl(i)}};function ss(t){ft.useDeprecatedSynchronousErrorHandling?Gd(t):Bd(t)}function AI(t){throw t}function ol(t,e){let{onStoppedNotification:n}=ft;n&&br.setTimeout(()=>n(t,e))}var kI={closed:!0,next:nl,error:AI,complete:nl};var qd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zd(t){return t}function Qd(t){return t.length===0?Zd:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Tr=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OI(n)?n:new xr(n,r,i);return Er(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Yd(r),new r((i,o)=>{let s=new xr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qd](){return this}pipe(...n){return Qd(n)(this)}toPromise(n){return n=Yd(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Yd(t){var e;return(e=t??ft.Promise)!==null&&e!==void 0?e:Promise}function RI(t){return t&&Be(t.next)&&Be(t.error)&&Be(t.complete)}function OI(t){return t&&t instanceof Mn||RI(t)&&os(t)}function LI(t){return Be(t?.lift)}function Kd(t){return e=>{if(LI(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xd(t,e,n,r,i){return new al(t,e,n,r,i)}var al=class extends Mn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Jd=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ut=(()=>{class t extends Tr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new as(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Jd}next(n){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?tl:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,_i(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Tr;return n.source=this,n}}return t.create=(e,n)=>new as(e,n),t})(),as=class extends Ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:tl}};var Si=class extends Ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function ll(t,e){return Kd((n,r)=>{let i=0;n.subscribe(Xd(r,o=>{r.next(t.call(e,o,i++))}))})}var cl;function ls(){return cl}function Ct(t){let e=cl;return cl=t,e}var ef=Symbol("NotFound");function Cr(t){return t===ef||t?.name==="\u0275NotFound"}var J=class extends Error{code;constructor(e,n){super(Cl(e,n)),this.code=e}};function BI(t){return`NG0${Math.abs(t)}`}function Cl(t,e){return`${BI(t)}${e?": "+e:""}`}function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("")}function Pn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Pn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function _l(t,e){return t?e?`${t} ${e}`:t:e||""}var UI=oe({__forward_ref__:oe});function Sl(t){return t.__forward_ref__=Sl,t.toString=function(){return Pn(this())},t}function Je(t){return af(t)?t():t}function af(t){return typeof t=="function"&&t.hasOwnProperty(UI)&&t.__forward_ref__===Sl}function ye(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dl(t){return WI(t,Ml)}function WI(t,e){return t.hasOwnProperty(e)&&t[e]||null}function zI(t){let e=t?.[Ml]??null;return e||null}function dl(t){return t&&t.hasOwnProperty(fl)?t[fl]:null}var Ml=oe({\u0275prov:oe}),fl=oe({\u0275inj:oe}),te=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lf(t){return t&&!!t.\u0275providers}var cf=oe({\u0275cmp:oe}),uf=oe({\u0275dir:oe}),df=oe({\u0275pipe:oe});var pl=oe({\u0275fac:oe}),Nr=oe({__NG_ELEMENT_ID__:oe}),tf=oe({__NG_ENV_ID__:oe});function On(t){return Pl(t,"@Component"),t[cf]||null}function Nl(t){return Pl(t,"@Directive"),t[uf]||null}function ff(t){return Pl(t,"@Pipe"),t[df]||null}function Pl(t,e){if(t==null)throw new J(-919,!1)}function pf(t){return typeof t=="string"?t:t==null?"":String(t)}function hf(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():pf(t)}var mf=oe({ngErrorCode:oe}),GI=oe({ngErrorMessage:oe}),qI=oe({ngTokenPath:oe});function Al(t,e){return gf("",-200,e)}function hs(t,e){throw new J(-201,!1)}function gf(t,e,n){let r=new J(e,t);return r[mf]=e,r[GI]=t,n&&(r[qI]=n),r}function ZI(t){return t[mf]}var hl;function yf(){return hl}function ze(t){let e=hl;return hl=t,e}function kl(t,e,n){let r=Dl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;hs(t,"")}var QI={},Nn=QI,YI="__NG_DI_FLAG__",ml=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Sr(n)||0;try{return this.injector.get(e,r&8?null:Nn,r)}catch(i){if(Cr(i))return i;throw i}}};function KI(t,e=0){let n=ls();if(n===void 0)throw new J(-203,!1);if(n===null)return kl(t,void 0,e);{let r=XI(e),i=n.retrieve(t,r);if(Cr(i)){if(r.optional)return null;throw i}return i}}function se(t,e=0){return(yf()||KI)(Je(t),e)}function X(t,e){return se(t,Sr(e))}function Sr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function XI(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function gl(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=JI(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function JI(t){return t[YI]}function Dr(t,e){let n=t.hasOwnProperty(pl);return n?t[pl]:null}function vf(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function If(t){return t.flat(Number.POSITIVE_INFINITY)}function ms(t,e){t.forEach(n=>Array.isArray(n)?ms(n,e):e(n))}function Rl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Ln={},An=[],Fn=new te(""),wf=new te("",-1),Ol=new te(""),Mi=class{get(e,n=Nn){if(n===Nn){let i=gf("",-201);throw i.name="\u0275NotFound",i}return n}};function Ll(t){return{\u0275providers:t}}function ew(...t){return{\u0275providers:Fl(!0,t),\u0275fromNgModule:!0}}function Fl(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ms(e,s=>{let a=s;us(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&bf(i,o),n}function bf(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$l(i,o=>{e(o,r)})}}function us(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,o=dl(t),s=!o&&On(t);if(!o&&!s){let c=t.ngModule;if(o=dl(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)us(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ms(o.imports,u=>{us(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&bf(l,e)}if(!a){let l=Dr(i)||(()=>new i);e({provide:i,useFactory:l,deps:An},i),e({provide:Ol,useValue:i,multi:!0},i),e({provide:Fn,useValue:()=>se(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;$l(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function $l(t,e){for(let n of t)lf(n)&&(n=n.\u0275providers),Array.isArray(n)?$l(n,e):e(n)}var tw=oe({provide:String,useValue:oe});function Ef(t){return t!==null&&typeof t=="object"&&tw in t}function nw(t){return!!(t&&t.useExisting)}function rw(t){return!!(t&&t.useFactory)}function ds(t){return typeof t=="function"}var Ai=new te(""),cs={},nf={},ul;function ki(){return ul===void 0&&(ul=new Mi),ul}var pt=class{},Mr=class extends pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,vl(e,s=>this.processProvider(s)),this.records.set(wf,_r(void 0,this)),i.has("environment")&&this.records.set(pt,_r(void 0,this));let o=this.records.get(Ai);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ol,An,{self:!0}))}retrieve(e,n){let r=Sr(n)||0;try{return this.get(e,Nn,r)}catch(i){if(Cr(i))return i;throw i}}destroy(){Di(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Di(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Di(this);let n=Ct(this),r=ze(void 0),i;try{return e()}finally{Ct(n),ze(r)}}get(e,n=Nn,r){if(Di(this),e.hasOwnProperty(tf))return e[tf](this);let i=Sr(r),o,s=Ct(this),a=ze(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=lw(e)&&Dl(e);u&&this.injectableDefInScope(u)?l=_r(yl(e),cs):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?ki():this.parent;return n=i&8&&n===Nn?null:n,c.get(e,n)}catch(c){let l=ZI(c);throw l===-200||l===-201?new J(l,null):c}finally{ze(a),Ct(s)}}resolveInjectorInitializers(){let e=K(null),n=Ct(this),r=ze(void 0),i;try{let o=this.get(Fn,An,{self:!0});for(let s of o)s()}finally{Ct(n),ze(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Pn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let n=ds(e)?e:Je(e&&e.provide),r=ow(e);if(!ds(e)&&e.multi===!0){let i=this.records.get(n);i||(i=_r(void 0,cs,!0),i.factory=()=>gl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===nf)throw Al(Pn(e));return n.value===cs&&(n.value=nf,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&aw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yl(t){let e=Dl(t),n=e!==null?e.factory:Dr(t);if(n!==null)return n;if(t instanceof te)throw new J(204,!1);if(t instanceof Function)return iw(t);throw new J(204,!1)}function iw(t){if(t.length>0)throw new J(204,!1);let n=zI(t);return n!==null?()=>n.factory(t):()=>new t}function ow(t){if(Ef(t))return _r(void 0,t.useValue);{let e=xf(t);return _r(e,cs)}}function xf(t,e,n){let r;if(ds(t)){let i=Je(t);return Dr(i)||yl(i)}else if(Ef(t))r=()=>Je(t.useValue);else if(rw(t))r=()=>t.useFactory(...gl(t.deps||[]));else if(nw(t))r=(i,o)=>se(Je(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Je(t&&(t.useClass||t.provide));if(sw(t))r=()=>new i(...gl(t.deps));else return Dr(i)||yl(i)}return r}function Di(t){if(t.destroyed)throw new J(205,!1)}function _r(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sw(t){return!!t.deps}function aw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lw(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function vl(t,e){for(let n of t)Array.isArray(n)?vl(n,e):n&&lf(n)?vl(n.\u0275providers,e):e(n)}function gs(t,e){let n;t instanceof Mr?(Di(t),n=t):n=new ml(t);let r,i=Ct(n),o=ze(void 0);try{return e()}finally{Ct(i),ze(o)}}function Tf(){return yf()!==void 0||ls()!=null}var ht=0,W=1,U=2,xe=3,et=4,tt=5,Ri=6,Oi=7,Ge=8,$n=9,Gt=10,nt=11,Pr=12,Vl=13,Ar=14,mt=15,rn=16,Vn=17,_t=18,Li=19,Hl=20,Wt=21,ys=22,Fi=23,qe=24,vs=25,$i=26,St=27,Cf=1;var on=7,Vi=8,Hn=9,Oe=10;function qt(t){return Array.isArray(t)&&typeof t[Cf]=="object"}function gt(t){return Array.isArray(t)&&t[Cf]===!0}function jl(t){return(t.flags&4)!==0}function Hi(t){return t.componentOffset>-1}function _f(t){return(t.flags&1)===1}function kr(t){return!!t.template}function Rr(t){return(t[U]&512)!==0}function jn(t){return(t[U]&256)===256}var Sf="svg",Df="math";function Dt(t){for(;Array.isArray(t);)t=t[ht];return t}function sn(t,e){return Dt(e[t.index])}function Bl(t,e){return t.data[e]}function an(t,e){let n=e[t];return qt(n)?n:n[ht]}function Mf(t){return(t[U]&4)===4}function Is(t){return(t[U]&128)===128}function Nf(t){return gt(t[xe])}function ji(t,e){return e==null?null:t[e]}function Ul(t){t[Vn]=0}function Wl(t){t[U]&1024||(t[U]|=1024,Is(t)&&Ui(t))}function Bi(t){return!!(t[U]&9216||t[qe]?.dirty)}function ws(t){t[Gt].changeDetectionScheduler?.notify(8),t[U]&64&&(t[U]|=1024),Bi(t)&&Ui(t)}function Ui(t){t[Gt].changeDetectionScheduler?.notify(0);let e=nn(t);for(;e!==null&&!(e[U]&8192||(e[U]|=8192,!Is(e)));)e=nn(e)}function zl(t,e){if(jn(t))throw new J(911,!1);t[Wt]===null&&(t[Wt]=[]),t[Wt].push(e)}function Pf(t,e){if(t[Wt]===null)return;let n=t[Wt].indexOf(e);n!==-1&&t[Wt].splice(n,1)}function nn(t){let e=t[xe];return gt(e)?e[xe]:e}function Af(t){return t[Oi]??=[]}function kf(t){return t.cleanup??=[]}function Rf(t,e,n,r){let i=Af(e);i.push(n),t.firstCreatePass&&kf(t).push(r,i.length-1)}var ae={lFrame:Zf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Il=!1;function Of(){return ae.lFrame.elementDepthCount}function Lf(){ae.lFrame.elementDepthCount++}function Ff(){ae.lFrame.elementDepthCount--}function $f(){return ae.skipHydrationRootTNode!==null}function Vf(t){return ae.skipHydrationRootTNode===t}function Hf(){ae.skipHydrationRootTNode=null}function rt(){return ae.lFrame.lView}function Gl(){return ae.lFrame.tView}function ln(){let t=ql();for(;t!==null&&t.type===64;)t=t.parent;return t}function ql(){return ae.lFrame.currentTNode}function jf(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bs(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Zl(){return ae.lFrame.isParent}function Bf(){ae.lFrame.isParent=!1}function Ql(){return Il}function Yl(t){let e=Il;return Il=t,e}function Uf(t){return ae.lFrame.bindingIndex=t}function Wf(){return ae.lFrame.inI18n}function zf(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Es(e)}function Gf(){return ae.lFrame.currentDirectiveIndex}function Es(t){ae.lFrame.currentDirectiveIndex=t}function Kl(){return ae.lFrame.currentQueryIndex}function xs(t){ae.lFrame.currentQueryIndex=t}function cw(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[tt]:null}function Xl(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=cw(o),i===null||(o=o[Ar],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=qf();return r.currentTNode=e,r.lView=t,!0}function Ts(t){let e=qf(),n=t[W];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qf(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?Zf(t):e}function Zf(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Qf(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jl=Qf;function Cs(){let t=Qf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yf(){return ae.lFrame.selectedIndex}function cn(t){ae.lFrame.selectedIndex=t}function Kf(){return ae.lFrame.currentNamespace}var Xf=!0;function Jf(){return Xf}function ep(t){Xf=t}function rf(t,e=null,n=null,r){let i=tp(t,e,n,r);return i.resolveInjectorInitializers(),i}function tp(t,e=null,n=null,r,i=new Set){let o=[n||An,ew(t)];return r=r||(typeof t=="object"?void 0:Pn(t)),new Mr(o,e||ki(),r||null,i)}var kn=class t{static THROW_IF_NOT_FOUND=Nn;static NULL=new Mi;static create(e,n){if(Array.isArray(e))return rf({name:""},n,e,"");{let r=e.name??"";return rf({name:r},e.parent,e.providers,r)}}static \u0275prov=ye({token:t,providedIn:"any",factory:()=>se(wf)});static __NG_ELEMENT_ID__=-1},yt=new te(""),_s=(()=>{class t{static __NG_ELEMENT_ID__=uw;static __NG_ENV_ID__=n=>n}return t})(),wl=class extends _s{_lView;constructor(e){super(),this._lView=e}get destroyed(){return jn(this._lView)}onDestroy(e){let n=this._lView;return zl(n,e),()=>Pf(n,e)}};function uw(){return new wl(rt())}var ec=!1,Bn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Si(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Tr(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}return t})(),bl=class extends Ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Tf()&&(this.destroyRef=X(_s,{optional:!0})??void 0,this.pendingTasks=X(Bn,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tn=bl;function fs(...t){}function tc(t){let e,n;function r(){t=fs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function nc(t){return queueMicrotask(()=>t()),()=>{t=fs}}var rc="isAngularZone",Ni=rc+"_ID",dw=0,be=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tn(!1);onMicrotaskEmpty=new tn(!1);onStable=new tn(!1);onError=new tn(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ec}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,hw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,fw,fs,fs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},fw={};function ic(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){tc(()=>{t.callbackScheduled=!1,El(t),t.isCheckStableRunning=!0,ic(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),El(t)}function hw(t){let e=()=>{pw(t)},n=dw++;t._inner=t._inner.fork({name:"angular",properties:{[rc]:!0,[Ni]:n,[Ni+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(mw(c))return r.invokeTask(o,s,a,c);try{return of(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sf(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return of(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!gw(c)&&e(),sf(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,El(t),ic(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function El(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function of(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sf(t){t._nesting--,ic(t)}var ps=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tn;onMicrotaskEmpty=new tn;onStable=new tn;onError=new tn;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function mw(t){return np(t,"__ignore_ng_zone__")}function gw(t){return np(t,"__scheduler_tick__")}function np(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Or=new te("",{factory:()=>{let t=X(be),e=X(pt),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(zt),n.handleError(r))})}}}),rp={provide:Fn,useValue:()=>{let t=X(zt,{optional:!0})},multi:!0};var Rn=class{},Lr=new te("",{factory:()=>!0});var Ss=new te("");var ip=(()=>{class t{static \u0275prov=ye({token:t,providedIn:"root",factory:()=>new xl})}return t})(),xl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Tl=class{[wr];constructor(e){this[wr]=e}destroy(){this[wr].destroy()}};function Dp(t){return{toString:t}.toString()}function Iw(t){return typeof t=="function"}function Mp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var As=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ww(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ew),bw}function bw(){let t=Pp(this),e=t?.current;if(e){let n=t.previous;if(n===Ln)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ew(t,e,n,r,i){let o=this.declaredInputs[r],s=Pp(t)||xw(t,{previous:Ln,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new As(l&&l.currentValue,n,c===Ln),Mp(t,e,i,n)}var Np="__ngSimpleChanges__";function Pp(t){return t[Np]||null}function xw(t,e){return t[Np]=e}var op=[];var de=function(t,e=null,n){for(let r=0;r<op.length;r++){let i=op[r];i(t,e,n)}},ie=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(ie||{});function Tw(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ww(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Cw(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ds(t,e,n){Ap(t,e,3,n)}function Ms(t,e,n,r){(t[U]&3)===n&&Ap(t,e,n,r)}function oc(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function Ap(t,e,n,r){let i=r!==void 0?t[Vn]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Vn]+=65536),(a<o||o==-1)&&(_w(t,n,e,c),t[Vn]=(t[Vn]&4294901760)+c+2),c++}function sp(t,e){de(ie.LifecycleHookStart,t,e);let n=K(null);try{e.call(t)}finally{K(n),de(ie.LifecycleHookEnd,t,e)}}function _w(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[U]>>14<t[Vn]>>16&&(t[U]&3)===e&&(t[U]+=16384,sp(a,o)):sp(a,o)}var $r=-1,Gi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Sw(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Dw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Dw(t){return t.charCodeAt(0)===64}function Sc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ap(t,n,i,null,e[++r]):ap(t,n,i,null,null))}}return t}function ap(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function kp(t){return t!==$r}function ks(t){return t&32767}function Mw(t){return t>>16}function Rs(t,e){let n=Mw(t),r=e;for(;n>0;)r=r[Ar],n--;return r}var cc=!0;function lp(t){let e=cc;return cc=t,e}var Nw=256,Rp=Nw-1,Op=5,Pw=0,Mt={};function Aw(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nr)&&(r=n[Nr]),r==null&&(r=n[Nr]=Pw++);let i=r&Rp,o=1<<i;e.data[t+(i>>Op)]|=o}function Lp(t,e){let n=Fp(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,sc(r.data,t),sc(e,null),sc(r.blueprint,null));let i=Dc(t,e),o=t.injectorIndex;if(kp(i)){let s=ks(i),a=Rs(i,e),c=a[W].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function sc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dc(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Bp(i),r===null)return $r;if(n++,i=i[Ar],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return $r}function kw(t,e,n){Aw(t,e,n)}function $p(t,e,n){if(n&8||t!==void 0)return t;hs(e,"NodeInjector")}function Vp(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[$n],o=ze(void 0);try{return i?i.get(e,r,n&8):kl(e,r,n&8)}finally{ze(o)}}return $p(r,e,n)}function Hp(t,e,n,r=0,i){if(t!==null){if(e[U]&2048&&!(r&2)){let s=Fw(t,e,n,r,Mt);if(s!==Mt)return s}let o=jp(t,e,n,r,Mt);if(o!==Mt)return o}return Vp(e,n,r,i)}function jp(t,e,n,r,i){let o=Ow(n);if(typeof o=="function"){if(!Xl(e,t,r))return r&1?$p(i,n,r):Vp(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))hs(n);else return s}finally{Jl()}}else if(typeof o=="number"){let s=null,a=Fp(t,e),c=$r,l=r&1?e[mt][tt]:null;for((a===-1||r&4)&&(c=a===-1?Dc(t,e):e[a+8],c===$r||!up(r,!1)?a=-1:(s=e[W],a=ks(c),e=Rs(c,e)));a!==-1;){let u=e[W];if(cp(o,a,u.data)){let p=Rw(a,e,n,s,r,l);if(p!==Mt)return p}c=e[a+8],c!==$r&&up(r,e[W].data[a+8]===l)&&cp(o,a,e)?(s=u,a=ks(c),e=Rs(c,e)):a=-1}}return i}function Rw(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],c=r==null?Hi(a)&&cc:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Ns(a,s,n,c,l);return u!==null?Os(e,s,u,a,i):Mt}function Ns(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,p=r?a:a+u,d=i?a+u:l;for(let f=p;f<d;f++){let h=s[f];if(f<c&&n===h||f>=c&&h.type===n)return f}if(i){let f=s[c];if(f&&kr(f)&&f.type===n)return c}return null}function Os(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Gi){let a=o;if(a.resolving){let f=hf(s[n]);throw Al(f)}let c=lp(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,p=a.injectImpl?ze(a.injectImpl):null,d=Xl(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Tw(n,s[n],e)}finally{p!==null&&ze(p),lp(c),a.resolving=!1,Jl()}}return o}function Ow(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Nr)?t[Nr]:void 0;return typeof e=="number"?e>=0?e&Rp:Lw:e}function cp(t,e,n){let r=1<<t;return!!(n[e+(t>>Op)]&r)}function up(t,e){return!(t&2)&&!(t&1&&e)}var Un=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Hp(this._tNode,this._lView,e,Sr(r),n)}};function Lw(){return new Un(ln(),rt())}function Fw(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[U]&2048&&!Rr(s);){let a=jp(o,s,n,r|2,Mt);if(a!==Mt)return a;let c=o.parent;if(!c){let l=s[Hl];if(l){let u=l.get(n,Mt,r);if(u!==Mt)return u}c=Bp(s),s=s[Ar]}o=c}return i}function Bp(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[tt]:null}function $w(){return jr(ln(),rt())}function jr(t,e){return new Xi(sn(t,e))}var Xi=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=$w}return t})();function Vw(t){return t instanceof Xi?t.nativeElement:t}function Hw(){return this._results[Symbol.iterator]()}var Ls=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ut}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=If(e);(this._changesDetected=!vf(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Hw};function Up(t){return(t.flags&128)===128}var Mc=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Mc||{}),Wp=new Map,jw=0;function Bw(){return jw++}function Uw(t){Wp.set(t[Li],t)}function uc(t){Wp.delete(t[Li])}var dp="__ngContext__";function qi(t,e){qt(e)?(t[dp]=e[Li],Uw(e)):t[dp]=e}function zp(t){return qp(t[Pr])}function Gp(t){return qp(t[et])}function qp(t){for(;t!==null&&!gt(t);)t=t[et];return t}var Ww;function Nc(t){Ww=t}var js=new te("",{factory:()=>zw}),zw="ng";var Bs=new te(""),Ji=new te("",{providedIn:"platform",factory:()=>"unknown"});var Us=new te("",{factory:()=>X(yt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Zp=!1,Qp=new te("",{factory:()=>Zp});function Pc(t){return(t.flags&32)===32}var Gw=()=>null;function Yp(t,e,n=!1){return Gw(t,e,n)}function Kp(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];xs(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function dc(t,e,n){xs(0);let r=K(null);try{e(t,n)}finally{K(r)}}function qw(t,e,n){if(jl(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}var vt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(vt||{});function Xp(t,e,n){return t.createElement(e,n)}function Fs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Jp(t,e,n){t.appendChild(e,n)}function fp(t,e,n,r,i){r!==null?Fs(t,e,n,r,i):Jp(t,e,n)}function Zw(t,e,n,r){t.removeChild(null,e,n,r)}function Qw(t,e,n){t.setAttribute(e,"style",n)}function Yw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eh(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Sw(t,e,r),i!==null&&Yw(t,e,i),o!==null&&Qw(t,e,o)}var Kw="ng-template";function Xw(t){return t.type===4&&t.value!==Kw}function fc(t){return(t&1)===0}function pp(t,e){return t?":not("+e.trim()+")":e}function Jw(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!fc(s)&&(e+=pp(o,i),i=""),r=s,o=o||!fc(r);n++}return i!==""&&(e+=pp(o,i)),e}function eb(t){return t.map(Jw).join(",")}function tb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!fc(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ac={};function th(t,e,n,r,i,o,s,a,c,l,u){let p=St+r,d=p+i,f=nb(p,d),h=typeof l=="function"?l():l;return f[W]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:u}}function nb(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ac);return n}function rb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=th(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kc(t,e,n,r,i,o,s,a,c,l,u){let p=e.blueprint.slice();return p[ht]=i,p[U]=r|4|128|8|64|1024,(l!==null||t&&t[U]&2048)&&(p[U]|=2048),Ul(p),p[xe]=p[Ar]=t,p[Ge]=n,p[Gt]=s||t&&t[Gt],p[nt]=a||t&&t[nt],p[$n]=c||t&&t[$n]||null,p[tt]=o,p[Li]=Bw(),p[Ri]=u,p[Hl]=l,p[mt]=e.type==2?t[mt]:p,p}function ib(t,e,n){let r=sn(e,t),i=rb(n),o=t[Gt].rendererFactory,s=ih(t,kc(t,i,null,nh(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function nh(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function rh(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ih(t,e){return t[Pr]?t[Vl][et]=e:t[Pr]=e,t[Vl]=e,e}function ob(t,e,n,r){if(!r)if((e[U]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ds(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ms(e,o,0,n)}cn(n)}var Ws=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ws||{});function pc(t,e,n,r){let i=K(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Ws.SignalBased)!==0&&(c=e[o][wr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Mp(e,c,o,r)}finally{K(i)}}var zn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(zn||{}),sb;function Rc(t,e){return sb(t,e)}var Vr=new Set,Oc=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Oc||{}),eo=new te(""),hp=new Set;function Lc(t){hp.has(t)||(hp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var oh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ye({token:t,providedIn:"root",factory:()=>new t})}return t})();var ab=new te("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:X(pt)})});function sh(t,e,n){let r=t.get(ab);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function lb(t,e){for(let[n,r]of e)sh(t,r.animateFns)}function mp(t,e,n,r){let i=t?.[$i]?.enter;e!==null&&i&&i.has(n.index)&&lb(r,i)}function Fr(t,e,n,r,i,o,s,a){if(i!=null){let c,l=!1;gt(i)?c=i:qt(i)&&(l=!0,i=i[ht]);let u=Dt(i);t===0&&r!==null?(mp(a,r,o,n),s==null?Jp(e,r,u):Fs(e,r,u,s||null,!0)):t===1&&r!==null?(mp(a,r,o,n),Fs(e,r,u,s||null,!0)):t===2?gp(a,o,n,p=>{Zw(e,u,l,p)}):t===3&&gp(a,o,n,()=>{e.destroyNode(u)}),c!=null&&Eb(e,t,n,c,o,r,s)}}function cb(t,e){ah(t,e),e[ht]=null,e[tt]=null}function ub(t,e,n,r,i,o){r[ht]=i,r[tt]=e,zs(t,r,n,1,i,o)}function ah(t,e){e[Gt].changeDetectionScheduler?.notify(9),zs(t,e,e[nt],2,null,null)}function db(t){let e=t[Pr];if(!e)return ac(t[W],t);for(;e;){let n=null;if(qt(e))n=e[Pr];else{let r=e[Oe];r&&(n=r)}if(!n){for(;e&&!e[et]&&e!==t;)qt(e)&&ac(e[W],e),e=e[xe];e===null&&(e=t),qt(e)&&ac(e[W],e),n=e&&e[et]}e=n}}function Fc(t,e){let n=t[Hn],r=n.indexOf(e);n.splice(r,1)}function lh(t,e){if(jn(e))return;let n=e[nt];n.destroyNode&&zs(t,e,n,3,null,null),db(e)}function ac(t,e){if(jn(e))return;let n=K(null);try{e[U]&=-129,e[U]|=256,e[qe]&&ts(e[qe]),hb(t,e),pb(t,e),e[W].type===1&&e[nt].destroy();let r=e[rn];if(r!==null&&gt(e[xe])){r!==e[xe]&&Fc(r,e);let i=e[_t];i!==null&&i.detachView(t)}uc(e)}finally{K(n)}}function gp(t,e,n,r){let i=t?.[$i];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Vr.add(t),sh(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),fb(t,r)}else t&&Vr.delete(t),r(!1)},i)}function fb(t,e){let n=t[$i]?.running;if(n){n.then(()=>{t[$i].running=void 0,Vr.delete(t),e(!0)});return}e(!1)}function pb(t,e){let n=t.cleanup,r=e[Oi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Oi]=null);let i=e[Wt];if(i!==null){e[Wt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Fi];if(o!==null){e[Fi]=null;for(let s of o)s.destroy()}}function hb(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Gi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];de(ie.LifecycleHookStart,a,c);try{c.call(a)}finally{de(ie.LifecycleHookEnd,a,c)}}else{de(ie.LifecycleHookStart,i,o);try{o.call(i)}finally{de(ie.LifecycleHookEnd,i,o)}}}}}function mb(t,e,n){return gb(t,e.parent,n)}function gb(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ht];if(Hi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===vt.None||i===vt.Emulated)return null}return sn(r,n)}function yb(t,e,n){return Ib(t,e,n)}function vb(t,e,n){return t.type&40?sn(t,n):null}var Ib=vb,yp;function wb(t,e,n,r){let i=mb(t,r,e),o=e[nt],s=r.parent||e[tt],a=yb(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fp(o,i,n[c],a,!1);else fp(o,i,n,a,!1);yp!==void 0&&yp(o,r,e,n,i)}function Wi(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return hc(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wi(t,r);{let i=t[e.index];return gt(i)?hc(-1,i):Dt(i)}}else{if(n&128)return Wi(t,e.next);if(n&32)return Rc(e,t)()||Dt(t[e.index]);{let r=ch(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=nn(t[mt]);return Wi(i,r)}else return Wi(t,e.next)}}}return null}function ch(t,e){if(e!==null){let r=t[mt][tt],i=e.projection;return r.projection[i]}return null}function hc(t,e){let n=Oe+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return Wi(r,i)}return e[on]}function $c(t,e,n,r,i,o,s){for(;n!=null;){let a=r[$n];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&qi(Dt(c),r),n.flags|=2),!Pc(n))if(l&8)$c(t,e,n.child,r,i,o,!1),Fr(e,t,a,i,c,n,o,r);else if(l&32){let u=Rc(n,r),p;for(;p=u();)Fr(e,t,a,i,p,n,o,r);Fr(e,t,a,i,c,n,o,r)}else l&16?bb(t,e,r,n,i,o):Fr(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function zs(t,e,n,r,i,o){$c(n,r,t.firstChild,e,i,o,!1)}function bb(t,e,n,r,i,o){let s=n[mt],c=s[tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Fr(e,t,n[$n],i,u,r,o,n)}else{let l=c,u=s[xe];Up(r)&&(l.flags|=128),$c(t,e,l,u,i,o,!0)}}function Eb(t,e,n,r,i,o,s){let a=r[on],c=Dt(r);a!==c&&Fr(e,t,n,o,a,i,s);for(let l=Oe;l<r.length;l++){let u=r[l];zs(u[W],u,t,e,o,a)}}function uh(t,e,n,r,i){let o=Yf(),s=r&2;try{cn(-1),s&&e.length>St&&ob(t,e,St,!1);let a=s?ie.TemplateUpdateStart:ie.TemplateCreateStart;de(a,i,n),n(r,i)}finally{cn(o);let a=s?ie.TemplateUpdateEnd:ie.TemplateCreateEnd;de(a,i,n)}}function xb(t,e,n){Db(t,e,n),(n.flags&64)===64&&Mb(t,e,n)}function Tb(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Cb(t,e,n,r){let o=r.get(Qp,Zp)||n===vt.ShadowDom||n===vt.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return _b(s),s}function _b(t){Sb(t)}var Sb=()=>null;function Db(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Hi(n)&&ib(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Lp(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Os(e,t,s,n);if(qi(c,e),o!==null&&Pb(e,s-r,c,a,n,o),kr(a)){let l=an(n.index,e);l[Ge]=Os(e,t,s,n)}}}function Mb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gf();try{cn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Es(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Nb(c,l)}}finally{cn(-1),Es(s)}}function Nb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Pb(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];pc(r,n,c,l)}}function Ab(t,e,n,r,i){let o=St+n,s=e[W],a=i(s,e,t,r,n);e[o]=a,bs(t,!0);let c=t.type===2;return c?(eh(e[nt],a,t),(Of()===0||_f(t))&&qi(a,e),Lf()):qi(a,e),Jf()&&(!c||!Pc(t))&&wb(s,e,a,t),t}function kb(t){let e=t;return Zl()?Bf():(e=e.parent,bs(e,!1)),e}function Rb(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],p=e.data[l];pc(p,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];pc(u,l,r,i),a=!0}return a}function Ob(t,e){let n=an(e,t),r=n[W];Lb(r,n);let i=n[ht];i!==null&&n[Ri]===null&&(n[Ri]=Yp(i,n[$n])),de(ie.ComponentStart);try{Vc(r,n,n[Ge])}finally{de(ie.ComponentEnd,n[Ge])}}function Lb(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vc(t,e,n){Ts(e);try{let r=t.viewQuery;r!==null&&dc(1,r,n);let i=t.template;i!==null&&uh(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_t]?.finishViewCreation(t),t.staticContentQueries&&Kp(t,e),t.staticViewQueries&&dc(2,t.viewQuery,n);let o=t.components;o!==null&&Fb(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[U]&=-5,Cs()}}function Fb(t,e){for(let n=0;n<e.length;n++)Ob(t,e[n])}function $b(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[U]&4096?4096:16,c=kc(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[rn]=l;let u=t[_t];return u!==null&&(c[_t]=u.createEmbeddedView(o)),Vc(o,c,n),c}finally{K(i)}}function vp(t,e){return!e||e.firstChild===null||Up(t)}function Zi(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Dt(o)),gt(o)&&dh(o,r);let s=n.type;if(s&8)Zi(t,e,n.child,r);else if(s&32){let a=Rc(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ch(e,n);if(Array.isArray(a))r.push(...a);else{let c=nn(e[mt]);Zi(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dh(t,e){for(let n=Oe;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&Zi(r[W],r,i,e)}t[on]!==t[ht]&&e.push(t[on])}function fh(t){if(t[vs]!==null){for(let e of t[vs])e.impl.addSequence(e);t[vs].length=0}}var ph=[];function Vb(t){return t[qe]??Hb(t)}function Hb(t){let e=ph.pop()??Object.create(Bb);return e.lView=t,e}function jb(t){t.lView[qe]!==t&&(t.lView=null,ph.push(t))}var Bb=dt(We({},Ya),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ui(t.lView)},consumerOnSignalRead(){this.lView[qe]=this}});function Ub(t){let e=t[qe]??Object.create(Wb);return e.lView=t,e}var Wb=dt(We({},Ya),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=nn(t.lView);for(;e&&!hh(e[W]);)e=nn(e);e&&Wl(e)},consumerOnSignalRead(){this.lView[qe]=this}});function hh(t){return t.type!==2}function mh(t){if(t[Fi]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Fi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[U]&8192)}}var zb=100;function gh(t,e=0){let r=t[Gt].rendererFactory,i=!1;i||r.begin?.();try{Gb(t,e)}finally{i||r.end?.()}}function Gb(t,e){let n=Ql();try{Yl(!0),mc(t,e);let r=0;for(;Bi(t);){if(r===zb)throw new J(103,!1);r++,mc(t,1)}}finally{Yl(n)}}function qb(t,e,n,r){if(jn(e))return;let i=e[U],o=!1,s=!1;Ts(e);let a=!0,c=null,l=null;o||(hh(t)?(l=Vb(e),c=Ka(l)):es()===null?(a=!1,l=Ub(e),c=Ka(l)):e[qe]&&(ts(e[qe]),e[qe]=null));try{Ul(e),Uf(t.bindingStartIndex),n!==null&&uh(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&Ds(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ms(e,f,0,null),oc(e,0)}if(s||Zb(e),mh(e),yh(e,0),t.contentQueries!==null&&Kp(t,e),!o)if(u){let f=t.contentCheckHooks;f!==null&&Ds(e,f)}else{let f=t.contentHooks;f!==null&&Ms(e,f,1),oc(e,1)}Yb(t,e);let p=t.components;p!==null&&Ih(e,p,0);let d=t.viewQuery;if(d!==null&&dc(2,d,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&Ds(e,f)}else{let f=t.viewHooks;f!==null&&Ms(e,f,2),oc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ys]){for(let f of e[ys])f();e[ys]=null}o||(fh(e),e[U]&=-73)}catch(u){throw o||Ui(e),u}finally{l!==null&&(Vd(l,c),a&&jb(l)),Cs()}}function yh(t,e){for(let n=zp(t);n!==null;n=Gp(n))for(let r=Oe;r<n.length;r++){let i=n[r];vh(i,e)}}function Zb(t){for(let e=zp(t);e!==null;e=Gp(e)){if(!(e[U]&2))continue;let n=e[Hn];for(let r=0;r<n.length;r++){let i=n[r];Wl(i)}}}function Qb(t,e,n){de(ie.ComponentStart);let r=an(e,t);try{vh(r,n)}finally{de(ie.ComponentEnd,r[Ge])}}function vh(t,e){Is(t)&&mc(t,e)}function mc(t,e){let r=t[W],i=t[U],o=t[qe],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xa(o)),s||=!1,o&&(o.dirty=!1),t[U]&=-9217,s)qb(r,t,r.template,t[Ge]);else if(i&8192){let a=K(null);try{mh(t),yh(t,1);let c=r.components;c!==null&&Ih(t,c,1),fh(t)}finally{K(a)}}}function Ih(t,e,n){for(let r=0;r<e.length;r++)Qb(t,e[r],n)}function Yb(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)cn(~i);else{let o=i,s=n[++r],a=n[++r];zf(s,o);let c=e[o];de(ie.HostBindingsUpdateStart,c);try{a(2,c)}finally{de(ie.HostBindingsUpdateEnd,c)}}}}finally{cn(-1)}}function wh(t,e){let n=Ql()?64:1088;for(t[Gt].changeDetectionScheduler?.notify(e);t;){t[U]|=n;let r=nn(t);if(Rr(t)&&!r)return t;t=r}return null}function Kb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Xb(t,e,n,r=!0){let i=e[W];if(Jb(i,e,t,n),r){let s=hc(n,t),a=e[nt],c=a.parentNode(t[on]);c!==null&&ub(i,t[tt],a,e,c,s)}let o=e[Ri];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gc(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n];if(r){let i=r[rn];i!==null&&i!==t&&Fc(i,r),e>0&&(t[n-1][et]=r[et]);let o=Pi(t,Oe+e);cb(r[W],r);let s=o[_t];s!==null&&s.detachView(o[W]),r[xe]=null,r[et]=null,r[U]&=-129}return r}function Jb(t,e,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][et]=e),r<o-Oe?(e[et]=n[i],Rl(n,Oe+r,e)):(n.push(e),e[et]=null),e[xe]=n;let s=e[rn];s!==null&&n!==s&&bh(s,e);let a=e[_t];a!==null&&a.insertView(t),ws(e),e[U]|=128}function bh(t,e){let n=t[Hn],r=e[xe];if(qt(r))t[U]|=2;else{let i=r[xe][mt];e[mt]!==i&&(t[U]|=2)}n===null?t[Hn]=[e]:n.push(e)}var Hr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[W];return Zi(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return jn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(gt(e)){let n=e[Vi],r=n?n.indexOf(this):-1;r>-1&&(gc(e,r),Pi(n,r))}this._attachedToViewContainer=!1}lh(this._lView[W],this._lView)}onDestroy(e){zl(this._lView,e)}markForCheck(){wh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){ws(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,gh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rr(this._lView),n=this._lView[rn];n!==null&&!e&&Fc(n,this._lView),ah(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=Rr(this._lView),r=this._lView[rn];r!==null&&!n&&bh(r,this._lView),ws(this._lView)}};var Qi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=eE;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=$b(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Hr(o)}}return t})();function eE(){return Hc(ln(),rt())}function Hc(t,e){return t.type&4?new Qi(e,t,jr(t,e)):null}function Eh(t,e,n,r,i){let o=t.data[e];if(o===null)o=tE(t,e,n,r,i),Wf()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=jf();o.injectorIndex=s===null?-1:s.injectorIndex}return bs(o,!0),o}function tE(t,e,n,r,i){let o=ql(),s=Zl(),a=s?o:o&&o.parent,c=t.data[e]=rE(t,a,n,e,r,i);return nE(t,c,o,s),c}function nE(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function rE(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $f()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iE=()=>null;function Ip(t,e){return iE(t,e)}var xh=class{},Gs=class{},yc=class{resolveComponentFactory(e){throw new J(917,!1)}},qs=class{static NULL=new yc},Wn=class{};var Th=(()=>{class t{static \u0275prov=ye({token:t,providedIn:"root",factory:()=>null})}return t})();var Ps={},vc=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Ps,r);return i!==Ps||n===Ps?i:this.parentInjector.get(e,n,r)}};function $s(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=_l(i,a);else if(o==2){let c=a,l=e[++s];r=_l(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ch(t,e=0){let n=rt();if(n===null)return se(t,e);let r=ln();return Hp(r,n,Je(t),e)}function oE(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}lE(t,e,n,a,o,c,l)}o!==null&&r!==null&&sE(n,r,o)}function sE(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}function aE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lE(t,e,n,r,i,o,s){let a=r.length,c=null;for(let d=0;d<a;d++){let f=r[d];c===null&&kr(f)&&(c=f,aE(t,n,d)),kw(Lp(n,e),t,f.type)}hE(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let d=0;d<a;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,p=rh(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let d=0;d<a;d++){let f=r[d];if(n.mergedAttrs=Sc(n.mergedAttrs,f.hostAttrs),uE(t,n,e,p,f),pE(p,f,i),s!==null&&s.has(f)){let[x,v]=s.get(f);n.directiveToIndex.set(f.type,[p,x+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,p);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!l&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),p++}cE(t,n,o)}function cE(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))wp(0,e,i,r),wp(1,e,i,r),Ep(e,r,!1);else{let o=n.get(i);bp(0,e,o,r),bp(1,e,o,r),Ep(e,r,!0)}}}function wp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),_h(e,o)}}function bp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),_h(e,s)}}function _h(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Ep(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Xw(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function uE(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Dr(i.type,!0)),s=new Gi(o,kr(i),Ch,null);t.blueprint[r]=s,n[r]=s,dE(t,e,r,rh(t,n,i.hostVars,Ac),i)}function dE(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;fE(s)!=a&&s.push(a),s.push(n,r,o)}}function fE(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kr(e)&&(n[""]=t)}}function hE(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mE(t,e,n,r,i,o,s,a){let c=e[W],l=c.consts,u=ji(l,s),p=Eh(c,t,n,r,u);return o&&oE(c,e,p,ji(l,a),i),p.mergedAttrs=Sc(p.mergedAttrs,p.attrs),p.attrs!==null&&$s(p,p.attrs,!1),p.mergedAttrs!==null&&$s(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function gE(t,e){Cw(t,e),jl(e)&&t.queries.elementEnd(e)}function yE(t,e,n,r,i,o){let s=e.consts,a=ji(s,i),c=Eh(e,t,n,r,a);if(c.mergedAttrs=Sc(c.mergedAttrs,c.attrs),o!=null){let l=ji(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&$s(c,c.attrs,!1),c.mergedAttrs!==null&&$s(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}var Ic=Symbol("BINDING");var wc=class extends qs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=On(e);return new Yi(n,this.ngModule)}};function vE(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ws.SignalBased)!==0};return i&&(o.transform=i),o})}function IE(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function wE(t,e,n){let r=e instanceof pt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new vc(n,r):n}function bE(t){let e=t.get(Wn,null);if(e===null)throw new J(407,!1);let n=t.get(Th,null),r=t.get(Rn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function EE(t,e){let n=Sh(t);return Xp(e,n,n==="svg"?Sf:n==="math"?Df:null)}function Sh(t){return(t.selectors[0][0]||"div").toLowerCase()}var Yi=class extends Gs{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=IE(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=eb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){de(ie.DynamicComponentStart);let a=K(null);try{let c=this.componentDef,l=xE(r,c,s,o),u=wE(c,i||this.ngModule,e),p=bE(u),d=p.rendererFactory.createRenderer(null,c),f=r?Cb(d,r,c.encapsulation,u):EE(c,d),h=s?.some(xp)||o?.some(b=>typeof b!="function"&&b.bindings.some(xp)),x=kc(null,l,null,512|nh(c),null,null,p,d,u,null,Yp(f,u,!0));x[St]=f,Ts(x);let v=null;try{let b=mE(St,x,2,"#host",()=>l.directiveRegistry,!0,0);eh(d,f,b),qi(f,x),xb(l,x,b),qw(l,b,x),gE(l,b),n!==void 0&&CE(b,this.ngContentSelectors,n),v=an(b.index,x),x[Ge]=v[Ge],Vc(l,x,null)}catch(b){throw v!==null&&uc(v),uc(x),b}finally{de(ie.DynamicComponentEnd),Cs()}return new Vs(this.componentType,x,!!h)}finally{K(a)}}};function xE(t,e,n,r){let i=t?["ng-version","21.0.6"]:tb(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Ic].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let p=r[u];if(typeof p!="function")for(let d of p.bindings){a+=d[Ic].requiredVars;let f=u+1;d.create&&(d.targetIdx=f,(o??=[]).push(d)),d.update&&(d.targetIdx=f,(s??=[]).push(d))}}let c=[e];if(r)for(let u of r){let p=typeof u=="function"?u:u.type,d=Nl(p);c.push(d)}return th(0,null,TE(o,s),1,a,c,null,null,null,[i],null)}function TE(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function xp(t){let e=t[Ic].kind;return e==="input"||e==="twoWay"}var Vs=class extends xh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Bl(n[W],St),this.location=jr(this._tNode,n),this.instance=an(this._tNode.index,n)[Ge],this.hostView=this.changeDetectorRef=new Hr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Rb(r,i[W],i,e,n);this.previousInputValues.set(e,n);let s=an(r.index,i);wh(s,1)}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function CE(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Zs=(()=>{class t{static __NG_ELEMENT_ID__=_E}return t})();function _E(){let t=ln();return Mh(t,rt())}var SE=Zs,Dh=class extends SE{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return jr(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dc(this._hostTNode,this._hostLView);if(kp(e)){let n=Rs(e,this._hostLView),r=ks(e),i=n[W].data[r+8];return new Un(i,n)}else return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Tp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ip(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vp(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!Iw(e),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?e:new Yi(On(e)),p=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?p:this.parentInjector).get(pt,null);b&&(o=b)}let d=On(u.componentType??{}),f=Ip(this._lContainer,d?.id??null),h=f?.firstChild??null,x=u.create(p,i,h,o,s,a);return this.insertImpl(x.hostView,l,vp(this._hostTNode,f)),x}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Nf(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xe],l=new Dh(c,c[tt],c[xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Xb(s,i,o,r),e.attachToViewContainerRef(),Rl(lc(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Tp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=gc(this._lContainer,n);r&&(Pi(lc(this._lContainer),n),lh(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=gc(this._lContainer,n);return r&&Pi(lc(this._lContainer),n)!=null?new Hr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Tp(t){return t[Vi]}function lc(t){return t[Vi]||(t[Vi]=[])}function Mh(t,e){let n,r=e[t.index];return gt(r)?n=r:(n=Kb(r,e,null,t),e[t.index]=n,ih(e,n)),ME(n,e,t,r),new Dh(n,t,e)}function DE(t,e){let n=t[nt],r=n.createComment(""),i=sn(e,t),o=n.parentNode(i);return Fs(n,o,r,n.nextSibling(i),!1),r}var ME=NE;function NE(t,e,n,r){if(t[on])return;let i;n.type&8?i=Dt(r):i=DE(e,n),t[on]=i}var bc=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ec=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jc(e,n).matches!==null&&this.queries[n].setDirty()}},xc=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=$E(e):this.predicate=e}},Tc=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Cc=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,PE(n,o)),this.matchTNodeWithReadOption(e,n,Ns(n,e,o,!1,!1))}else r===Qi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ns(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xi||i===Zs||i===Qi&&n.type&4)this.addMatch(n.index,-2);else{let o=Ns(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function PE(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function AE(t,e){return t.type&11?jr(t,e):t.type&4?Hc(t,e):null}function kE(t,e,n,r){return n===-1?AE(e,t):n===-2?RE(t,e,r):Os(t,t[W],n,e)}function RE(t,e,n){if(n===Xi)return jr(e,t);if(n===Qi)return Hc(e,t);if(n===Zs)return Mh(e,t)}function Nh(t,e,n,r){let i=e[_t].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(kE(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function _c(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Nh(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let p=Oe;p<u.length;p++){let d=u[p];d[rn]===d[xe]&&_c(d[W],d,l,r)}if(u[Hn]!==null){let p=u[Hn];for(let d=0;d<p.length;d++){let f=p[d];_c(f[W],f,l,r)}}}}}return r}function OE(t,e){return t[_t].queries[e].queryList}function LE(t,e,n){let r=new Ls((n&4)===4);return Rf(t,e,r,r.destroy),(e[_t]??=new Ec).queries.push(new bc(r))-1}function FE(t,e,n){let r=Gl();return r.firstCreatePass&&(VE(r,new xc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),LE(r,rt(),e)}function $E(t){return t.split(",").map(e=>e.trim())}function VE(t,e,n){t.queries===null&&(t.queries=new Tc),t.queries.track(new Cc(e,n))}function jc(t,e){return t.queries.getByIndex(e)}function HE(t,e){let n=t[W],r=jc(n,e);return r.crossesNgTemplate?_c(n,t,e,[]):Nh(n,t,r,e)}var Hs=class{};var Ki=class extends Hs{injector;componentFactoryResolver=new wc(this);instance=null;constructor(e){super();let n=new Mr([...e.providers,{provide:Hs,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],e.parent||ki(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ph(t,e,n=null){return new Ki({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var jE=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fl(!1,n.type),i=r.length>0?Ph([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ye({token:t,providedIn:"environment",factory:()=>new t(se(pt))})}return t})();function Bc(t){return Dp(()=>{let e=zE(t),n=dt(We({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(jE).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vt.Emulated,styles:t.styles||An,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Lc("NgStandalone"),GE(n);let r=t.dependencies;return n.directiveDefs=Cp(r,BE),n.pipeDefs=Cp(r,ff),n.id=qE(n),n})}function BE(t){return On(t)||Nl(t)}function UE(t,e){if(t==null)return Ln;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ws.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function WE(t){if(t==null)return Ln;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function zE(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ln,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||An,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:UE(t.inputs,e),outputs:WE(t.outputs),debugInfo:null}}function GE(t){t.features?.forEach(e=>e(t))}function Cp(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function qE(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Uc=new te("");function Wc(t){return!!t&&typeof t.then=="function"}function Ah(t){return!!t&&typeof t.subscribe=="function"}var kh=new te("");var zc=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=X(kh,{optional:!0})??[];injector=X(kn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=gs(this.injector,i);if(Wc(o))n.push(o);else if(Ah(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rh=new te("");function Oh(){el(()=>{let t="";throw new J(600,t)})}function Lh(t){return t.isBoundToModule}var ZE=10;var to=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(Or);afterRenderManager=X(oh);zonelessEnabled=X(Lr);rootEffectScheduler=X(ip);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=X(Bn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ll(n=>!n))}constructor(){X(eo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=X(pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=kn.NULL){return this._injector.get(be).run(()=>{de(ie.BootstrapComponentStart);let s=n instanceof Gs;if(!this._injector.get(zc).done){let h="";throw new J(405,h)}let c;s?c=n:c=this._injector.get(qs).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Lh(c)?void 0:this._injector.get(Hs),u=r||c.selector,p=c.create(i,[],u,l),d=p.location.nativeElement,f=p.injector.get(Uc,null);return f?.registerApplication(d),p.onDestroy(()=>{this.detachView(p.hostView),zi(this.components,p),f?.unregisterApplication(d)}),this._loadComponent(p),de(ie.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){de(ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Oc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw de(ie.ChangeDetectionEnd),new J(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),de(ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ZE;){de(ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{de(ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Bi(i))continue;let o=r&&!this.zonelessEnabled?0:1;gh(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Bi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;zi(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Rh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zi(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var XP=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function no(t,e,n,r){let i=rt(),o=i[W],s=t+St,a=o.firstCreatePass?yE(s,o,2,e,n,r):o.data[s];return Ab(a,i,t,e,QE),r!=null&&Tb(i,a),no}function ro(){let t=ln(),e=kb(t);return Vf(e)&&Hf(),Ff(),ro}function Qs(t,e,n,r){return no(t,e,n,r),ro(),Qs}var QE=(t,e,n,r,i)=>(ep(!0),Xp(e[nt],r,Kf()));var io="en-US";var YE=io;function Fh(t){typeof t=="string"&&(YE=t.toLowerCase().replace(/_/g,"-"))}function Ys(t,e,n){return FE(t,e,n),Ys}function Ks(t){let e=rt(),n=Gl(),r=Kl();xs(r+1);let i=jc(n,r);if(t.dirty&&Mf(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=HE(e,r);t.reset(o,Vw),t.notifyOnChanges()}return!0}return!1}function Xs(){return OE(rt(),Kl())}var $h=(()=>{class t{applicationErrorHandler=X(Or);appRef=X(to);taskService=X(Bn);ngZone=X(be);zonelessEnabled=X(Lr);tracing=X(eo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ni):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Ss,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?nc:tc;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ni+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vh(){return[{provide:Rn,useExisting:$h},{provide:be,useClass:ps},{provide:Lr,useValue:!0}]}function KE(){return typeof $localize<"u"&&$localize.locale||io}var Gc=new te("",{factory:()=>X(Gc,{optional:!0,skipSelf:!0})||KE()});var ix=(()=>{class t{zone=X(be);changeDetectionScheduler=X(Rn);applicationRef=X(to);applicationErrorHandler=X(Or);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ox=new te("",{factory:()=>!1});function sx({ngZoneFactory:t,scheduleInRootZone:e}){return t??=()=>new be(dt(We({},jh()),{scheduleInRootZone:e})),[{provide:Lr,useValue:!1},{provide:be,useFactory:t},{provide:Fn,multi:!0,useFactory:()=>{let n=X(ix,{optional:!0});return()=>n.initialize()}},{provide:Fn,multi:!0,useFactory:()=>{let n=X(ax);return()=>{n.initialize()}}},{provide:Ss,useValue:e??ec}]}function Hh(t){let e=t?.scheduleInRootZone,n=sx({ngZoneFactory:()=>{let r=jh(t);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&Lc("NgZone_CoalesceEvent"),new be(r)},scheduleInRootZone:e});return Ll([{provide:ox,useValue:!0},n])}function jh(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ax=(()=>{class t{subscription=new Ne;initialized=!1;zone=X(be);pendingTasks=X(Bn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qc=new te(""),lx=new te("");function oo(t){return!t.moduleRef}function cx(t){let e=oo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{oo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Or),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),oo(t)){let o=()=>e.destroy(),s=t.platformInjector.get(qc);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(qc);s.add(o),t.moduleRef.onDestroy(()=>{zi(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return dx(r,n,()=>{let o=e.get(Bn),s=o.add(),a=e.get(zc);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Gc,io);if(Fh(c||io),!e.get(lx,!0))return oo(t)?e.get(to):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(oo(t)){let u=e.get(to);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return ux?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var ux;function dx(t,e,n){try{let r=n();return Wc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Js=null;function fx(t=[],e){return kn.create({name:e,providers:[{provide:Ai,useValue:"platform"},{provide:qc,useValue:new Set([()=>Js=null])},...t]})}function px(t=[]){if(Js)return Js;let e=fx(t);return Js=e,Oh(),hx(e),e}function hx(t){let e=t.get(Bs,null);gs(t,()=>{e?.forEach(n=>n())})}function Bh(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;de(ie.BootstrapApplicationStart);try{let o=i?.injector??px(r),s=[Vh(),rp,...n||[]],a=new Ki({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return cx({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{de(ie.BootstrapApplicationEnd)}}var Uh=null;function ao(){return Uh}function Qc(t){Uh??=t}var so=class{};function Yc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lo=class{};var Wh="browser";var co=class{_doc;constructor(e){this._doc=e}manager},ea=(()=>{class t extends co{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(se(yt))};static \u0275prov=ye({token:t,factory:t.\u0275fac})}return t})(),ra=new te(""),eu=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof ea));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof ea);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(se(ra),se(be))};static \u0275prov=ye({token:t,factory:t.\u0275fac})}return t})(),Kc="ng-app-id";function zh(t){for(let e of t)e.remove()}function Gh(t,e){let n=e.createElement("style");return n.textContent=t,n}function mx(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Kc}="${e}"],link[${Kc}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Kc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Jc(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var tu=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,mx(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Gh);r?.forEach(i=>this.addUsage(i,this.external,Jc))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(zh(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])zh(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Gh(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Jc(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(se(yt),se(js),se(Us,8),se(Ji))};static \u0275prov=ye({token:t,factory:t.\u0275fac})}return t})(),Xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},nu=/%COMP%/g;var Zh="%COMP%",gx=`_nghost-${Zh}`,yx=`_ngcontent-${Zh}`,vx=!0,Ix=new te("",{factory:()=>vx});function wx(t){return yx.replace(nu,t)}function bx(t){return gx.replace(nu,t)}function Qh(t,e){return e.map(n=>n.replace(nu,t))}var ru=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new uo(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof na?i.applyToHost(n):i instanceof fo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case vt.Emulated:o=new na(c,l,r,this.appId,u,s,a,p);break;case vt.ShadowDom:return new ta(c,n,r,s,a,this.nonce,p,l);case vt.ExperimentalIsolatedShadowDom:return new ta(c,n,r,s,a,this.nonce,p);default:o=new fo(c,l,r,u,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(se(eu),se(tu),se(js),se(Ix),se(yt),se(be),se(Us),se(eo,8))};static \u0275prov=ye({token:t,factory:t.\u0275fac})}return t})(),uo=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Xc[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qh(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qh(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Xc[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Xc[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(n,r,i&zn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=ao().getGlobalEventTarget(this.doc,e),!e))throw new J(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function qh(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ta=class extends uo{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Qh(r.id,l);for(let p of l){let d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=p,this.shadowRoot.appendChild(d)}let u=r.getExternalStyles?.();if(u)for(let p of u){let d=Jc(p,i);s&&d.setAttribute("nonce",s),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},fo=class extends uo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Qh(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Vr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},na=class extends fo{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=wx(l),this.hostAttr=bx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var ia=class t extends so{supportsDOMEvents=!0;static makeCurrent(){Qc(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ex();return n==null?null:xx(n)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yc(document.cookie,e)}},po=null;function Ex(){return po=po||document.head.querySelector("base"),po?po.getAttribute("href"):null}function xx(t){return new URL(t,document.baseURI).pathname}var Tx=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ye({token:t,factory:t.\u0275fac})}return t})(),Yh=["alt","control","meta","shift"],Cx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_x={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Kh=(()=>{class t extends co{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ao().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Yh.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Cx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Yh.forEach(s=>{if(s!==i){let a=_x[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(se(yt))};static \u0275prov=ye({token:t,factory:t.\u0275fac})}return t})();function iu(t,e,n){let r=We({rootComponent:t,platformRef:n?.platformRef},Sx(e));return Bh(r)}function Sx(t){return{appProviders:[...Ax,...t?.providers??[]],platformProviders:Px}}function Dx(){ia.makeCurrent()}function Mx(){return new zt}function Nx(){return Nc(document),document}var Px=[{provide:Ji,useValue:Wh},{provide:Bs,useValue:Dx,multi:!0},{provide:yt,useFactory:Nx}];var Ax=[{provide:Ai,useValue:"root"},{provide:zt,useFactory:Mx},{provide:ra,useClass:ea,multi:!0},{provide:ra,useClass:Kh,multi:!0},ru,tu,eu,{provide:Wn,useExisting:ru},{provide:lo,useClass:Tx},[]];var E=class t{x;y;constructor(e,n){this.x=e||0,this.y=n||0}get width(){return this.x}set width(e){this.x=e}get left(){return this.x}get height(){return this.y}set height(e){this.y=e}get top(){return this.y}add(e){return new t(this.x+e.x,this.y+e.y)}sub(e){return this.add(e.mul(-1))}mul(e){return new t(this.x*e,this.y*e)}div(e){return this.mul(1/e)}clone(){return new t(this.x,this.y)}get normal(){return new t(Xh(this.x),Xh(this.y))}};function Xh(t){return t>0?1:t<0?-1:0}var ge=class{_phase=0;_propagationStopped=!1;_target;_source=null;stopPropagation(){this._propagationStopped=!0,this.destroy()}get propagationStopped(){return this._propagationStopped}get target(){return this._target}set target(e){if(this._target!==void 0)throw new Error("Event target already set!");this._target=e,this._phase=0}get source(){return this._source}set source(e){if(this._source!==null)throw new Error("Event source already set!");this._source=e}get phase(){return this._phase}capture(){this._phase=1}destroy(){this._target=null,this._source=null}};var un=class extends ge{};var Gn=class extends ge{};var Ae=class{_eventHandlers=new Map;on(e,n){let r=this._eventHandlers.get(e)||new Set;r.has(n)||(r.add(n),this._eventHandlers.set(e,r))}off(e,n){let r=this._eventHandlers.get(e)||new Set;r.delete(n),this._eventHandlers.set(e,r)}handleEvent(e){e.source===null&&(e.source=this);for(let[n,r]of this._eventHandlers)if(e instanceof n){for(let i of r)if(i(e),e.propagationStopped)return}}};var dn=class extends Ae{_parent;_children=[];constructor(e){super(),e&&e.forEach(n=>this.addChild(n))}get children(){return this._children.map(e=>e.element)}get depthSortedChildren(){return this._children.sort((e,n)=>e.depth-n.depth).map(e=>e.element)}get parent(){return this._parent}set parent(e){if(this._parent!==void 0)throw new Error("Cannot set parent while one already set! First remove this child from existing parent.");this._parent=e}get rootElement(){return this._parent===void 0?this:this._parent.rootElement}clearParent(){this._parent=void 0}addChild(e,n=0){this._children.push({element:e,depth:n}),e.parent=this,e.dispatchEvent(new un)}removeChild(e){this._children=this._children.filter(n=>n.element!==e),e.dispatchEvent(new Gn),e.clearParent()}removeAllChildren(){this._children.forEach(e=>{e.element.dispatchEvent(new Gn),e.element.removeAllChildren(),e.element.clearParent()}),this._children=[]}remove(){if(this._parent===void 0)throw new Error("Cannot remove, no parent set!");this._parent.removeChild(this)}dispatchEvent(e){if(e.target===void 0){e.target=this,this.rootElement.dispatchEvent(e);return}if(super.handleEvent(e),!e.propagationStopped&&!(e.target===this&&(e.capture(),super.handleEvent(e),e.propagationStopped))&&e.phase===0){this._children.length===0&&e.destroy();for(let n of this._children)if(n.element.dispatchEvent(e),e.propagationStopped)return}}};var Nt=class extends dn{};function Jh(t,e,n=!1){let r=n?t.depthSortedChildren:t.children;for(let i of r)e(i),Jh(i,e)}var ce=class{static childrenByType(e,n,r=!1){let i=[];return Jh(n,o=>{o instanceof e&&i.push(o)},r),i}static parentByType(e,n){if(n.parent instanceof e)return n.parent;if(n.parent)return this.parentByType(e,n.parent)}};var fn=class{constructor(e){this.workFn=e;this.maxFps=10,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,document.addEventListener("visibilitychange",()=>{document.hidden?this.stopRequested=!0:this.start(this.maxFps)})}maxFps;fpsInterval;previousTime;adjustedPreviousTime;stopRequested;start(e){this.maxFps=e,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,requestAnimationFrame(this.workLoop.bind(this))}workLoop(e){if(!this.stopRequested){if(this.previousTime===0)this.previousTime=e,this.adjustedPreviousTime=e;else{let n=e-this.adjustedPreviousTime;n>=this.fpsInterval&&(this.workFn(e,e-this.previousTime),this.adjustedPreviousTime=e-n%this.fpsInterval,this.previousTime=e)}requestAnimationFrame(this.workLoop.bind(this))}}computeFpsInterval(){return 1e3/this.maxFps}};var le=class{static _data=new Map;static get(e){return this._data.get(e)}static set(e,n){this._data.set(e,n)}};var pn=class extends ge{constructor(n){super();this.scene=n}};var Br=class extends Ae{constructor(n,r,i,o){super();this.viewport=n;this.renderer=r;this.physicsSimulation=i;this.inputDevices=o;r.setViewport(n),i.setViewport(n)}loadScene(n){this.renderer.setRootElement(n),this.physicsSimulation.setRootElement(n),this.inputDevices.forEach(r=>r.setRootElement(n)),this.handleEvent(new pn(n))}start(n,r){this.renderer.start(n),this.physicsSimulation.start(r)}};var hn=class extends Ae{rootElement;setRootElement(e){this.rootElement=e}dispatchEvent(e){e.target=null,this.rootElement?.dispatchEvent(e)}};var Le=class extends ge{};var Te=class extends Le{constructor(n,r){super();this.key=n;this.action=r}},Ur=class extends hn{constructor(e){super(),e.addEventListener("keydown",this.eventHandler.bind(this)),e.addEventListener("keyup",this.eventHandler.bind(this))}eventHandler(e){this.dispatchEvent(new Te(e.key,e.type==="keydown"?0:1))}};var kx=[0,2,1];var mn=class extends Le{constructor(n,r,i){super();this.button=n;this.action=r;this.point=i}},Pt=class extends Le{constructor(n){super();this.point=n}},Wr=class extends hn{constructor(n,r){super();this.getLocalPoint=r;n.addEventListener("mousedown",this.inputEventHandler.bind(this)),n.addEventListener("mouseup",this.inputEventHandler.bind(this)),n.addEventListener("mousemove",this.moveEventHandler.bind(this))}inputEventHandler(n){for(let r of kx)n.button===r&&this.dispatchEvent(new mn(r,n.type==="mousedown"?0:1,this.getLocalPoint(new E(n.x,n.y))))}moveEventHandler(n){this.dispatchEvent(new Pt(this.getLocalPoint(new E(n.x,n.y))))}};var zr=class extends Le{constructor(n,r){super();this.type=n;this.meta=r}},Gr=class extends Ae{constructor(n){super();this.element=n}trigger(n,r){let i={when:o=>(this.element.on(o.type,s=>{o.condition(s)&&this.handleEvent(new zr(n,r))}),i)};return i}};var oa=class extends ge{},qr=class extends Ae{inputMapper;_state=new Map;constructor(e){super(),this.inputMapper=new Gr(e),this.inputMapper.on(zr,n=>{let r=n.meta==="on";r!==this._state.get(n.type)&&(this._state.set(n.type,r),this.handleEvent(new oa))})}setOn(e){return this.inputMapper.trigger(e,"on")}setOff(e){return this.inputMapper.trigger(e,"off")}onChange(e){this.on(oa,()=>{e(this._state)})}get state(){return this._state}};var qn=class extends Le{constructor(n){super();this.point=n}},Zn=class extends Le{constructor(n){super();this.point=n}},Qn=class extends Le{constructor(n,r){super();this.button=n;this.point=r}};var Zr=class extends Ae{constructor(n){super();this._target=n;this.setupListeners()}isHovered=!1;get target(){return this._target}setupListeners(){this.target.rootElement.on(Pt,this.handleMouseMove.bind(this)),this.target.rootElement.on(mn,this.handleMouseInput.bind(this))}handleMouseMove(n){if(!(n instanceof Pt))return;let r=this.isPointInBounds(n.point);r&&!this.isHovered?(this.isHovered=!0,this.handleEvent(new qn(n.point))):!r&&this.isHovered&&(this.isHovered=!1,this.handleEvent(new Zn(n.point)))}handleMouseInput(n){n instanceof mn&&n.action===1&&this.isHovered&&this.handleEvent(new Qn(n.button,n.point))}isPointInBounds(n){let r=this.target.position,i=this.target.width,o=this.target.height;return n.x>=r.x&&n.x<=r.x+i&&n.y>=r.y&&n.y<=r.y+o}destroy(){this.target.rootElement.off(Pt,this.handleMouseMove.bind(this)),this.target.rootElement.off(mn,this.handleMouseInput.bind(this))}};var it=class t extends dn{_visible=!0;set isVisible(e){this._visible=e}get isVisible(){if(!this._visible)return!1;let e=this.parent;return e&&e instanceof t?e.isVisible:!0}draw(e){}};function gn(t){return"item"in t&&"position"in t}var z=class t extends it{_position;_translation;_opacity=1;_fillColor=void 0;clipRegion=void 0;constructor(e,n){super(n),this._position=e||new E,this._translation=new E}get opacity(){let e=this._opacity,n=ce.parentByType(t,this);return n&&(e*=n.opacity),e}set opacity(e){this._opacity=e}get position(){let e=this._position.add(this._translation),n=ce.parentByType(t,this);return n?n.position.add(e):e}set position(e){this._position=e}set translation(e){this._translation=e}get fillColor(){return this._fillColor}set fillColor(e){this._fillColor=e}get width(){return 0}get height(){return 0}get size(){return new E(this.width,this.height)}};function Ox(t,e){let n=new Image;n.onload=()=>Q(null,null,function*(){let{naturalWidth:r,naturalHeight:i}=n,s=new OffscreenCanvas(r,i).getContext("2d");if(s){s.drawImage(n,0,0);let a=yield createImageBitmap(s.getImageData(0,0,r,i));e(a)}}),n.src=t}var Ze=class t{data=new Image;width=0;height=0;static empty(){return new t}static load(e){let n=new t;return Ox(e,r=>{n.data=r,n.width=r.width,n.height=r.height}),n}static fromImageBitmap(e){let n=new t;return n.data=e,n.width=e.width,n.height=e.height,n}toOffscreenCanvas(){let e=new OffscreenCanvas(this.width,this.height);return e.getContext("2d")?.drawImage(this.data,0,0),e}};var It=class{cache=new Map;get(e,n){return Q(this,null,function*(){let r=this.cache.get(e);return r||(r=n(),this.cache.set(e,r)),r})}};var ou=class{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){let n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){let n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}},wt=new Map,Yn="___parser_",bt={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},sa={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},aa={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},fe=class t{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new t}primitiveGenerateN(e,n){let r=sa[e],i=aa[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${bt[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return wt.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!wt.has(n.type)&&!(n.type in bt))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!wt.has(o)&&!(o in bt))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof t)&&!wt.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof t)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in bt)&&!wt.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){let n=new ou(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${Yn+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${Yn+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){let n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=wt.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){let e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(bt).indexOf(this.type)>=0)e=bt[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=bt[this.options.type]:this.options.type instanceof t&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){let i=new t;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}let n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;let n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);let i=(u=0)=>{let p=0;for(let d=u;d<e.bitFields.length;d++){let f=e.bitFields[d].options.length;if(p+f>32)break;p+=f}return p},o=u=>(u<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),u=32),e.pushCode(`offset += ${u/8};`),u),s=0,a=this.endian==="be",c=0,l=0;e.bitFields.forEach((u,p)=>{let d=u.options.length;if(d>l){if(l){let x=-1>>>32-l;e.pushCode(`${u.varName} = (${r} & 0x${x.toString(16)}) << ${d-l};`),d-=l}s=0,l=c=o(i(p)-l)}let f=a?c-s-d:s,h=-1>>>32-d;e.pushCode(`${u.varName} ${d<u.options.length?"|=":"="} ${r} >> ${f} & 0x${h.toString(16)};`),u.options.length===32&&e.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(e),u.options.formatter&&u.generateFormatter(e,u.varName,u.options.formatter),s+=d,l-=d}),e.bitFields=[]}}generateSeek(e){let n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let c=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${c}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${c}));`)}else if(this.options.length){let a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){let n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);let s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{let r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){let n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),c=this.options.key,l=typeof c=="string";if(l?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(wt.get(i)){let u=e.generateTmpVariable();if(e.pushCode(`var ${u} = ${Yn+i}(offset, {`),e.useContextVariables){let p=e.generateVariable();e.pushCode(`$parent: ${p},`),e.pushCode(`$root: ${p}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&e.addReference(i)}else{let u=sa[i],p=aa[i];e.pushCode(`var ${a} = dataView.get${u}(offset, ${p});`),e.pushCode(`offset += ${bt[i]};`)}else if(i instanceof t){e.pushCode(`var ${a} = {};`);let u=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${u};`),e.pushCode(`${a}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(l?e.pushCode(`${s}[${a}.${c}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,p=e.addImport(u);e.pushCode(`while (!${p}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){let i=e.generateVariable(this.varName);if(wt.has(r)){let o=e.generateTmpVariable();e.pushCode(`var ${o} = ${Yn+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{let o=sa[r],s=aa[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${bt[r]}`)}}else r instanceof t&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){let n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){let i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){let n=e.generateVariable(this.varName);if(this.options.type instanceof t){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){let r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(wt.has(this.options.type)){let r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${Yn+this.options.type}(offset, {`),e.useContextVariables){let i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){let c=this.options.readUntil,l=e.generateTmpVariable(),u=e.generateTmpVariable();e.pushCode(`var ${l} = offset;`),e.pushCode(`var ${u} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${u} = dataView.getUint8(offset);`);let p=e.addImport(c);e.pushCode(`if (${p}.call(${e.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{let c=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${c});`),e.pushCode(`offset += ${c};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);let i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof t)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(wt.has(this.options.type)){let c=e.generateTmpVariable();e.pushCode(`var ${c} = ${Yn+this.options.type}(0);`),e.pushCode(`${n} = ${c}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){let i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){let n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof t){if(e.pushCode(`${o} = {};`),e.useContextVariables){let s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(wt.has(this.options.type)){let s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${Yn+this.options.type}(offset, {`),e.useContextVariables){let a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(bt).indexOf(this.options.type)>=0){let s=sa[n],a=aa[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${bt[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){let n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};var Lx=new fe().endianness("little").array("data",{type:"uint8",lengthInBytes:function(){return this.$parent.size-6}}),Fx=new fe().endianness("little").uint8("red").uint8("green").uint8("blue"),$x=new fe().endianness("little").uint8("red").uint8("green").uint8("blue").uint8("alpha"),la=new fe().endianness("little").uint16("length").string("value",{length:"length"}),tm=new fe().endianness("little").uint16("numberOfPackets").array("packets",{type:new fe().endianness("little").uint8("entriesToSkip").uint8("numberOfColors").array("colors",{type:Fx,length:function(){return this.numberOfColors||256}}),length:"numberOfPackets"}),Vx=new fe().endianness("little").uint32("size").uint32("firstIndex").uint32("lastIndex").seek(8).array("colors",{type:new fe().endianness("little").uint16("flags").nest("color",{type:$x}).array("name",{type:la,length:function(){return this.flags===1?1:0}}),length:function(){return this.lastIndex-this.firstIndex+1}}),Hx=new fe().endianness("little").uint16("flags").uint16("type").uint16("childLevel").uint16("ignored").uint16("ignored").uint16("blendMode").uint8("opacity").seek(3).nest("name",{type:la}).array("tilesetIndex",{type:"uint32le",length:function(){return this.type===2?1:0}}),jx=new fe().endianness("little").uint16("linkedFrame"),Bx=new fe().endianness("little").uint16("w").uint16("h").array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-26}}),Ux=new fe().endianness("little").uint16("w").uint16("h").uint16("bitsPerTile").uint32("tileIdBitmask").uint32("xFlipBitmask").uint32("yFlipBitmask").uint32("diagonalFlipBitmask").seek(10).array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-54}}),su=1,au=2,Wx=3,zx=new fe().endianness("little").uint16("layerIndex").int16("x").int16("y").uint8("opacity").uint16("cellType").int16("zIndex").seek(5).choice("data",{tag:"cellType",choices:{[su]:jx,[au]:Bx,[Wx]:Ux}}),Gx=new fe().endianness("little").uint16("fromFrame").uint16("toFrame").uint8("loopAnimationDirection").uint16("repeatAnimation").seek(10).nest("tagName",{type:la}),qx=new fe().endianness("little").uint16("numberOfTags").seek(8).array("tags",{type:Gx,length:"numberOfTags"}),Zx=new fe().endianness("little").uint32("tilesetId").uint32("tilesetFlags").uint32("numberOfTiles").uint16("tileWidth").uint16("tileHeight").int16("baseIndex").seek(14).nest("name",{type:la}).array("external",{type:"uint32le",length:function(){return this.tilesetFlags&1?2:0}}).array("internalLength",{type:"uint32le",length:function(){return this.tilesetFlags&2?1:0}}).array("rawCompressed",{type:"uint8",length:function(){return this.tilesetFlags&2?this.internalLength[0]:0}}),Qx=new fe().endianness("little").uint32("fileSize").uint16("magicNumber").uint16("frames").uint16("width").uint16("height").uint16("colorDepth").uint32("flags").uint16("DEPRECATED_speed").seek(8).uint8("transparentIndex").seek(3).uint16("numberOfColors").uint8("pixelWidth").uint8("pixelHeight").int16("gridX").int16("gridY").uint16("gridWidth").uint16("gridHeight").seek(84),Yx=new fe().endianness("little").uint32("bytesInFrame").uint16("magicNumber").uint16("oldChunks").uint16("frameDuration").seek(2).uint32("chunks"),Qr=8196,lu=8197,ca=8216,Kx=4,Xx=17,cu=8217,uu=8227,Jx=new fe().endianness("little").uint32("size").uint16("chunkType").choice("data",{tag:"chunkType",choices:{[Kx]:tm,[Xx]:tm,[Qr]:Hx,[lu]:zx,[ca]:qx,[cu]:Vx,[uu]:Zx},defaultChoice:Lx}),eT=new fe().endianness("little").nest("header",{type:Yx}).array("chunks",{type:Jx,length:function(){return this.header.chunks||this.header.oldChunks}}),nm=new fe().useContextVars().endianness("little").nest("header",{type:Qx}).array("frames",{type:eT,length:"header.frames"});function ti(t){let e=t.length;for(;--e>=0;)t[e]=0}var tT=0,jm=1,nT=2,rT=3,iT=258,Ru=29,Do=256,wo=Do+1+Ru,Xr=30,Ou=19,Bm=2*wo+1,Kn=15,du=16,oT=7,Lu=256,Um=16,Wm=17,zm=18,Cu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ma=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),sT=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Gm=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aT=512,Qt=new Array((wo+2)*2);ti(Qt);var yo=new Array(Xr*2);ti(yo);var bo=new Array(aT);ti(bo);var Eo=new Array(iT-rT+1);ti(Eo);var Fu=new Array(Ru);ti(Fu);var ga=new Array(Xr);ti(ga);function fu(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var qm,Zm,Qm;function pu(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var Ym=t=>t<256?bo[t]:bo[256+(t>>>7)],xo=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ue=(t,e,n)=>{t.bi_valid>du-n?(t.bi_buf|=e<<t.bi_valid&65535,xo(t,t.bi_buf),t.bi_buf=e>>du-t.bi_valid,t.bi_valid+=n-du):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},kt=(t,e,n)=>{Ue(t,n[e*2],n[e*2+1])},Km=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},lT=t=>{t.bi_valid===16?(xo(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},cT=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,l,u,p,d,f,h,x=0;for(d=0;d<=Kn;d++)t.bl_count[d]=0;for(n[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<Bm;l++)u=t.heap[l],d=n[n[u*2+1]*2+1]+1,d>c&&(d=c,x++),n[u*2+1]=d,!(u>r)&&(t.bl_count[d]++,f=0,u>=a&&(f=s[u-a]),h=n[u*2],t.opt_len+=h*(d+f),o&&(t.static_len+=h*(i[u*2+1]+f)));if(x!==0){do{for(d=c-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,x-=2}while(x>0);for(d=c;d!==0;d--)for(u=t.bl_count[d];u!==0;)p=t.heap[--l],!(p>r)&&(n[p*2+1]!==d&&(t.opt_len+=(d-n[p*2+1])*n[p*2],n[p*2+1]=d),u--)}},Xm=(t,e,n)=>{let r=new Array(Kn+1),i=0,o,s;for(o=1;o<=Kn;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=Km(r[a]++,a))}},uT=()=>{let t,e,n,r,i,o=new Array(Kn+1);for(n=0,r=0;r<Ru-1;r++)for(Fu[r]=n,t=0;t<1<<Cu[r];t++)Eo[n++]=r;for(Eo[n-1]=r,i=0,r=0;r<16;r++)for(ga[r]=i,t=0;t<1<<ma[r];t++)bo[i++]=r;for(i>>=7;r<Xr;r++)for(ga[r]=i<<7,t=0;t<1<<ma[r]-7;t++)bo[256+i++]=r;for(e=0;e<=Kn;e++)o[e]=0;for(t=0;t<=143;)Qt[t*2+1]=8,t++,o[8]++;for(;t<=255;)Qt[t*2+1]=9,t++,o[9]++;for(;t<=279;)Qt[t*2+1]=7,t++,o[7]++;for(;t<=287;)Qt[t*2+1]=8,t++,o[8]++;for(Xm(Qt,wo+1,o),t=0;t<Xr;t++)yo[t*2+1]=5,yo[t*2]=Km(t,5);qm=new fu(Qt,Cu,Do+1,wo,Kn),Zm=new fu(yo,ma,0,Xr,Kn),Qm=new fu(new Array(0),sT,0,Ou,oT)},Jm=t=>{let e;for(e=0;e<wo;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Xr;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Ou;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Lu*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},eg=t=>{t.bi_valid>8?xo(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},rm=(t,e,n,r)=>{let i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},hu=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&rm(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!rm(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},im=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?kt(t,i,e):(s=Eo[i],kt(t,s+Do+1,e),a=Cu[s],a!==0&&(i-=Fu[s],Ue(t,i,a)),r--,s=Ym(r),kt(t,s,n),a=ma[s],a!==0&&(r-=ga[s],Ue(t,r,a)));while(o<t.sym_next);kt(t,Lu,e)},_u=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c=-1,l;for(t.heap_len=0,t.heap_max=Bm,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[l*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)hu(t,n,s);l=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],hu(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[l*2]=n[s*2]+n[a*2],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=l,t.heap[1]=l++,hu(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],cT(t,e),Xm(n,c,t.bl_count)},om=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)&&(a<l?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[Um*2]++):a<=10?t.bl_tree[Wm*2]++:t.bl_tree[zm*2]++,a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4))},sm=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)){if(a<l)do kt(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(kt(t,o,t.bl_tree),a--),kt(t,Um,t.bl_tree),Ue(t,a-3,2)):a<=10?(kt(t,Wm,t.bl_tree),Ue(t,a-3,3)):(kt(t,zm,t.bl_tree),Ue(t,a-11,7));a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4)}},dT=t=>{let e;for(om(t,t.dyn_ltree,t.l_desc.max_code),om(t,t.dyn_dtree,t.d_desc.max_code),_u(t,t.bl_desc),e=Ou-1;e>=3&&t.bl_tree[Gm[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},fT=(t,e,n,r)=>{let i;for(Ue(t,e-257,5),Ue(t,n-1,5),Ue(t,r-4,4),i=0;i<r;i++)Ue(t,t.bl_tree[Gm[i]*2+1],3);sm(t,t.dyn_ltree,e-1),sm(t,t.dyn_dtree,n-1)},pT=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<Do;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},am=!1,hT=t=>{am||(uT(),am=!0),t.l_desc=new pu(t.dyn_ltree,qm),t.d_desc=new pu(t.dyn_dtree,Zm),t.bl_desc=new pu(t.bl_tree,Qm),t.bi_buf=0,t.bi_valid=0,Jm(t)},tg=(t,e,n,r)=>{Ue(t,(tT<<1)+(r?1:0),3),eg(t),xo(t,n),xo(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},mT=t=>{Ue(t,jm<<1,3),kt(t,Lu,Qt),lT(t)},gT=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=pT(t)),_u(t,t.l_desc),_u(t,t.d_desc),s=dT(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?tg(t,e,n,r):t.strategy===4||o===i?(Ue(t,(jm<<1)+(r?1:0),3),im(t,Qt,yo)):(Ue(t,(nT<<1)+(r?1:0),3),fT(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),im(t,t.dyn_ltree,t.dyn_dtree)),Jm(t),r&&eg(t)},yT=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Eo[n]+Do+1)*2]++,t.dyn_dtree[Ym(e)*2]++),t.sym_next===t.sym_end),vT=hT,IT=tg,wT=gT,bT=yT,ET=mT,xT={_tr_init:vT,_tr_stored_block:IT,_tr_flush_block:wT,_tr_tally:bT,_tr_align:ET},TT=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},To=TT,CT=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},_T=new Uint32Array(CT()),ST=(t,e,n,r)=>{let i=_T,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},Ce=ST,er={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ni={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:DT,_tr_stored_block:Su,_tr_flush_block:MT,_tr_tally:In,_tr_align:NT}=xT,{Z_NO_FLUSH:wn,Z_PARTIAL_FLUSH:PT,Z_FULL_FLUSH:AT,Z_FINISH:ot,Z_BLOCK:lm,Z_OK:Pe,Z_STREAM_END:cm,Z_STREAM_ERROR:Rt,Z_DATA_ERROR:kT,Z_BUF_ERROR:mu,Z_DEFAULT_COMPRESSION:RT,Z_FILTERED:OT,Z_HUFFMAN_ONLY:ua,Z_RLE:LT,Z_FIXED:FT,Z_DEFAULT_STRATEGY:$T,Z_UNKNOWN:VT,Z_DEFLATED:Ia}=ni,HT=9,jT=15,BT=8,UT=29,WT=256,Du=WT+1+UT,zT=30,GT=19,qT=2*Du+1,ZT=15,Y=3,vn=258,Ot=vn+Y+1,QT=32,Jr=42,$u=57,Mu=69,Nu=73,Pu=91,Au=103,Xn=113,mo=666,Fe=1,ri=2,tr=3,ii=4,YT=3,Jn=(t,e)=>(t.msg=er[e],e),um=t=>t*2-(t>4?9:0),yn=t=>{let e=t.length;for(;--e>=0;)t[e]=0},KT=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},XT=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,bn=XT,Qe=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Ye=(t,e)=>{MT(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Qe(t.strm)},ne=(t,e)=>{t.pending_buf[t.pending++]=e},ho=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},ku=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=To(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Ce(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},ng=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-Ot?t.strstart-(t.w_size-Ot):0,l=t.window,u=t.w_mask,p=t.prev,d=t.strstart+vn,f=l[r+s-1],h=l[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(l[i+s]!==h||l[i+s-1]!==f||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<d);if(o=vn-(d-r),r=d-vn,o>s){if(t.match_start=e,s=o,o>=a)break;f=l[r+s-1],h=l[r+s]}}while((e=p[e&u])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},ei=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ot)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),KT(t),r+=e),t.strm.avail_in===0)break;if(n=ku(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Y)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=bn(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=bn(t,t.ins_h,t.window[i+Y-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Y)););}while(t.lookahead<Ot&&t.strm.avail_in!==0)},rg=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==ot||e===wn||r!==i+t.strm.avail_in)))break;s=e===ot&&r===i+t.strm.avail_in?1:0,Su(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Qe(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(ku(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?ii:e!==wn&&e!==ot&&t.strm.avail_in===0&&t.strstart===t.block_start?ri:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(ku(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===ot)&&e!==wn&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===ot&&t.strm.avail_in===0&&r===i?1:0,Su(t,t.block_start,r,s),t.block_start+=r,Qe(t.strm)),s?tr:Fe)},gu=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ot){if(ei(t),t.lookahead<Ot&&e===wn)return Fe;if(t.lookahead===0)break}if(n=0,t.lookahead>=Y&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Y-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ot&&(t.match_length=ng(t,n)),t.match_length>=Y)if(r=In(t,t.strstart-t.match_start,t.match_length-Y),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Y){t.match_length--;do t.strstart++,t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Y-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=bn(t,t.ins_h,t.window[t.strstart+1]);else r=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Ye(t,!1),t.strm.avail_out===0))return Fe}return t.insert=t.strstart<Y-1?t.strstart:Y-1,e===ot?(Ye(t,!0),t.strm.avail_out===0?tr:ii):t.sym_next&&(Ye(t,!1),t.strm.avail_out===0)?Fe:ri},Yr=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ot){if(ei(t),t.lookahead<Ot&&e===wn)return Fe;if(t.lookahead===0)break}if(n=0,t.lookahead>=Y&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Y-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Y-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ot&&(t.match_length=ng(t,n),t.match_length<=5&&(t.strategy===OT||t.match_length===Y&&t.strstart-t.match_start>4096)&&(t.match_length=Y-1)),t.prev_length>=Y&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Y,r=In(t,t.strstart-1-t.prev_match,t.prev_length-Y),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Y-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Y-1,t.strstart++,r&&(Ye(t,!1),t.strm.avail_out===0))return Fe}else if(t.match_available){if(r=In(t,0,t.window[t.strstart-1]),r&&Ye(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Fe}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=In(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Y-1?t.strstart:Y-1,e===ot?(Ye(t,!0),t.strm.avail_out===0?tr:ii):t.sym_next&&(Ye(t,!1),t.strm.avail_out===0)?Fe:ri},JT=(t,e)=>{let n,r,i,o,s=t.window;for(;;){if(t.lookahead<=vn){if(ei(t),t.lookahead<=vn&&e===wn)return Fe;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Y&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+vn;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=vn-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Y?(n=In(t,1,t.match_length-Y),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Ye(t,!1),t.strm.avail_out===0))return Fe}return t.insert=0,e===ot?(Ye(t,!0),t.strm.avail_out===0?tr:ii):t.sym_next&&(Ye(t,!1),t.strm.avail_out===0)?Fe:ri},eC=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(ei(t),t.lookahead===0)){if(e===wn)return Fe;break}if(t.match_length=0,n=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Ye(t,!1),t.strm.avail_out===0))return Fe}return t.insert=0,e===ot?(Ye(t,!0),t.strm.avail_out===0?tr:ii):t.sym_next&&(Ye(t,!1),t.strm.avail_out===0)?Fe:ri};function At(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var go=[new At(0,0,0,0,rg),new At(4,4,8,4,gu),new At(4,5,16,8,gu),new At(4,6,32,32,gu),new At(4,4,16,16,Yr),new At(8,16,32,32,Yr),new At(8,16,128,128,Yr),new At(8,32,128,256,Yr),new At(32,128,258,1024,Yr),new At(32,258,258,4096,Yr)],tC=t=>{t.window_size=2*t.w_size,yn(t.head),t.max_lazy_match=go[t.level].max_lazy,t.good_match=go[t.level].good_length,t.nice_match=go[t.level].nice_length,t.max_chain_length=go[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Y-1,t.match_available=0,t.ins_h=0};function nC(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ia,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(qT*2),this.dyn_dtree=new Uint16Array((2*zT+1)*2),this.bl_tree=new Uint16Array((2*GT+1)*2),yn(this.dyn_ltree),yn(this.dyn_dtree),yn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ZT+1),this.heap=new Uint16Array(2*Du+1),yn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Du+1),yn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Mo=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==Jr&&e.status!==$u&&e.status!==Mu&&e.status!==Nu&&e.status!==Pu&&e.status!==Au&&e.status!==Xn&&e.status!==mo?1:0},ig=t=>{if(Mo(t))return Jn(t,Rt);t.total_in=t.total_out=0,t.data_type=VT;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?$u:e.wrap?Jr:Xn,t.adler=e.wrap===2?0:1,e.last_flush=-2,DT(e),Pe},og=t=>{let e=ig(t);return e===Pe&&tC(t.state),e},rC=(t,e)=>Mo(t)||t.state.wrap!==2?Rt:(t.state.gzhead=e,Pe),sg=(t,e,n,r,i,o)=>{if(!t)return Rt;let s=1;if(e===RT&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>HT||n!==Ia||r<8||r>15||e<0||e>9||o<0||o>FT||r===8&&s!==1)return Jn(t,Rt);r===8&&(r=9);let a=new nC;return t.state=a,a.strm=t,a.status=Jr,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Y-1)/Y),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,og(t)},iC=(t,e)=>sg(t,e,Ia,jT,BT,$T),oC=(t,e)=>{if(Mo(t)||e>lm||e<0)return t?Jn(t,Rt):Rt;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===mo&&e!==ot)return Jn(t,t.avail_out===0?mu:Rt);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Qe(t),t.avail_out===0)return n.last_flush=-1,Pe}else if(t.avail_in===0&&um(e)<=um(r)&&e!==ot)return Jn(t,mu);if(n.status===mo&&t.avail_in!==0)return Jn(t,mu);if(n.status===Jr&&n.wrap===0&&(n.status=Xn),n.status===Jr){let i=Ia+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=ua||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=QT),i+=31-i%31,ho(n,i),n.strstart!==0&&(ho(n,t.adler>>>16),ho(n,t.adler&65535)),t.adler=1,n.status=Xn,Qe(t),n.pending!==0)return n.last_flush=-1,Pe}if(n.status===$u){if(t.adler=0,ne(n,31),ne(n,139),ne(n,8),n.gzhead)ne(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ne(n,n.gzhead.time&255),ne(n,n.gzhead.time>>8&255),ne(n,n.gzhead.time>>16&255),ne(n,n.gzhead.time>>24&255),ne(n,n.level===9?2:n.strategy>=ua||n.level<2?4:0),ne(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(ne(n,n.gzhead.extra.length&255),ne(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ce(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Mu;else if(ne(n,0),ne(n,0),ne(n,0),ne(n,0),ne(n,0),ne(n,n.level===9?2:n.strategy>=ua||n.level<2?4:0),ne(n,YT),n.status=Xn,Qe(t),n.pending!==0)return n.last_flush=-1,Pe}if(n.status===Mu){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Ce(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Qe(t),n.pending!==0)return n.last_flush=-1,Pe;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=Ce(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Nu}if(n.status===Nu){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ce(t.adler,n.pending_buf,n.pending-i,i)),Qe(t),n.pending!==0)return n.last_flush=-1,Pe;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,ne(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ce(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Pu}if(n.status===Pu){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ce(t.adler,n.pending_buf,n.pending-i,i)),Qe(t),n.pending!==0)return n.last_flush=-1,Pe;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,ne(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ce(t.adler,n.pending_buf,n.pending-i,i))}n.status=Au}if(n.status===Au){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Qe(t),n.pending!==0))return n.last_flush=-1,Pe;ne(n,t.adler&255),ne(n,t.adler>>8&255),t.adler=0}if(n.status=Xn,Qe(t),n.pending!==0)return n.last_flush=-1,Pe}if(t.avail_in!==0||n.lookahead!==0||e!==wn&&n.status!==mo){let i=n.level===0?rg(n,e):n.strategy===ua?eC(n,e):n.strategy===LT?JT(n,e):go[n.level].func(n,e);if((i===tr||i===ii)&&(n.status=mo),i===Fe||i===tr)return t.avail_out===0&&(n.last_flush=-1),Pe;if(i===ri&&(e===PT?NT(n):e!==lm&&(Su(n,0,0,!1),e===AT&&(yn(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Qe(t),t.avail_out===0))return n.last_flush=-1,Pe}return e!==ot?Pe:n.wrap<=0?cm:(n.wrap===2?(ne(n,t.adler&255),ne(n,t.adler>>8&255),ne(n,t.adler>>16&255),ne(n,t.adler>>24&255),ne(n,t.total_in&255),ne(n,t.total_in>>8&255),ne(n,t.total_in>>16&255),ne(n,t.total_in>>24&255)):(ho(n,t.adler>>>16),ho(n,t.adler&65535)),Qe(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Pe:cm)},sC=t=>{if(Mo(t))return Rt;let e=t.state.status;return t.state=null,e===Xn?Jn(t,kT):Pe},aC=(t,e)=>{let n=e.length;if(Mo(t))return Rt;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Jr||r.lookahead)return Rt;if(i===1&&(t.adler=To(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(yn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ei(r);r.lookahead>=Y;){let c=r.strstart,l=r.lookahead-(Y-1);do r.ins_h=bn(r,r.ins_h,r.window[c+Y-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--l);r.strstart=c,r.lookahead=Y-1,ei(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Y-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,Pe},lC=iC,cC=sg,uC=og,dC=ig,fC=rC,pC=oC,hC=sC,mC=aC,gC="pako deflate (from Nodeca project)",vo={deflateInit:lC,deflateInit2:cC,deflateReset:uC,deflateResetKeep:dC,deflateSetHeader:fC,deflate:pC,deflateEnd:hC,deflateSetDictionary:mC,deflateInfo:gC},yC=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),vC=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)yC(n,r)&&(t[r]=n[r])}}return t},IC=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},wa={assign:vC,flattenChunks:IC},ag=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ag=!1}var Co=new Uint8Array(256);for(let t=0;t<256;t++)Co[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Co[254]=Co[254]=1;var wC=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},bC=(t,e)=>{if(e<65534&&t.subarray&&ag)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},EC=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Co[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return bC(o,i)},xC=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Co[t[n]]>e?n:e},_o={string2buf:wC,buf2string:EC,utf8border:xC};function TC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lg=TC,cg=Object.prototype.toString,{Z_NO_FLUSH:CC,Z_SYNC_FLUSH:_C,Z_FULL_FLUSH:SC,Z_FINISH:DC,Z_OK:ya,Z_STREAM_END:MC,Z_DEFAULT_COMPRESSION:NC,Z_DEFAULT_STRATEGY:PC,Z_DEFLATED:AC}=ni;function No(t){this.options=wa.assign({level:NC,method:AC,chunkSize:16384,windowBits:15,memLevel:8,strategy:PC},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lg,this.strm.avail_out=0;let n=vo.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ya)throw new Error(er[n]);if(e.header&&vo.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=_o.string2buf(e.dictionary):cg.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=vo.deflateSetDictionary(this.strm,r),n!==ya)throw new Error(er[n]);this._dict_set=!0}}No.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?DC:CC,typeof t=="string"?n.input=_o.string2buf(t):cg.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===_C||o===SC)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=vo.deflate(n,o),i===MC)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=vo.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ya;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};No.prototype.onData=function(t){this.chunks.push(t)};No.prototype.onEnd=function(t){t===ya&&(this.result=wa.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Vu(t,e){let n=new No(e);if(n.push(t,!0),n.err)throw n.msg||er[n.err];return n.result}function kC(t,e){return e=e||{},e.raw=!0,Vu(t,e)}function RC(t,e){return e=e||{},e.gzip=!0,Vu(t,e)}var OC=No,LC=Vu,FC=kC,$C=RC,VC=ni,HC={Deflate:OC,deflate:LC,deflateRaw:FC,gzip:$C,constants:VC},da=16209,jC=16191,BC=function(e,n){let r,i,o,s,a,c,l,u,p,d,f,h,x,v,b,g,m,y,N,_,I,S,w,C,M=e.state;r=e.next_in,w=e.input,i=r+(e.avail_in-5),o=e.next_out,C=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),c=M.dmax,l=M.wsize,u=M.whave,p=M.wnext,d=M.window,f=M.hold,h=M.bits,x=M.lencode,v=M.distcode,b=(1<<M.lenbits)-1,g=(1<<M.distbits)-1;e:do{h<15&&(f+=w[r++]<<h,h+=8,f+=w[r++]<<h,h+=8),m=x[f&b];t:for(;;){if(y=m>>>24,f>>>=y,h-=y,y=m>>>16&255,y===0)C[o++]=m&65535;else if(y&16){N=m&65535,y&=15,y&&(h<y&&(f+=w[r++]<<h,h+=8),N+=f&(1<<y)-1,f>>>=y,h-=y),h<15&&(f+=w[r++]<<h,h+=8,f+=w[r++]<<h,h+=8),m=v[f&g];n:for(;;){if(y=m>>>24,f>>>=y,h-=y,y=m>>>16&255,y&16){if(_=m&65535,y&=15,h<y&&(f+=w[r++]<<h,h+=8,h<y&&(f+=w[r++]<<h,h+=8)),_+=f&(1<<y)-1,_>c){e.msg="invalid distance too far back",M.mode=da;break e}if(f>>>=y,h-=y,y=o-s,_>y){if(y=_-y,y>u&&M.sane){e.msg="invalid distance too far back",M.mode=da;break e}if(I=0,S=d,p===0){if(I+=l-y,y<N){N-=y;do C[o++]=d[I++];while(--y);I=o-_,S=C}}else if(p<y){if(I+=l+p-y,y-=p,y<N){N-=y;do C[o++]=d[I++];while(--y);if(I=0,p<N){y=p,N-=y;do C[o++]=d[I++];while(--y);I=o-_,S=C}}}else if(I+=p-y,y<N){N-=y;do C[o++]=d[I++];while(--y);I=o-_,S=C}for(;N>2;)C[o++]=S[I++],C[o++]=S[I++],C[o++]=S[I++],N-=3;N&&(C[o++]=S[I++],N>1&&(C[o++]=S[I++]))}else{I=o-_;do C[o++]=C[I++],C[o++]=C[I++],C[o++]=C[I++],N-=3;while(N>2);N&&(C[o++]=C[I++],N>1&&(C[o++]=C[I++]))}}else if((y&64)===0){m=v[(m&65535)+(f&(1<<y)-1)];continue n}else{e.msg="invalid distance code",M.mode=da;break e}break}}else if((y&64)===0){m=x[(m&65535)+(f&(1<<y)-1)];continue t}else if(y&32){M.mode=jC;break e}else{e.msg="invalid literal/length code",M.mode=da;break e}break}}while(r<i&&o<a);N=h>>3,r-=N,h-=N<<3,f&=(1<<h)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),M.hold=f,M.bits=h},Kr=15,dm=852,fm=592,pm=0,yu=1,hm=2,UC=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),WC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zC=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GC=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qC=(t,e,n,r,i,o,s,a)=>{let c=a.bits,l=0,u=0,p=0,d=0,f=0,h=0,x=0,v=0,b=0,g=0,m,y,N,_,I,S=null,w,C=new Uint16Array(Kr+1),M=new Uint16Array(Kr+1),$=null,V,Z,ue;for(l=0;l<=Kr;l++)C[l]=0;for(u=0;u<r;u++)C[e[n+u]]++;for(f=c,d=Kr;d>=1&&C[d]===0;d--);if(f>d&&(f=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<d&&C[p]===0;p++);for(f<p&&(f=p),v=1,l=1;l<=Kr;l++)if(v<<=1,v-=C[l],v<0)return-1;if(v>0&&(t===pm||d!==1))return-1;for(M[1]=0,l=1;l<Kr;l++)M[l+1]=M[l]+C[l];for(u=0;u<r;u++)e[n+u]!==0&&(s[M[e[n+u]]++]=u);if(t===pm?(S=$=s,w=20):t===yu?(S=UC,$=WC,w=257):(S=zC,$=GC,w=0),g=0,u=0,l=p,I=o,h=f,x=0,N=-1,b=1<<f,_=b-1,t===yu&&b>dm||t===hm&&b>fm)return 1;for(;;){V=l-x,s[u]+1<w?(Z=0,ue=s[u]):s[u]>=w?(Z=$[s[u]-w],ue=S[s[u]-w]):(Z=96,ue=0),m=1<<l-x,y=1<<h,p=y;do y-=m,i[I+(g>>x)+y]=V<<24|Z<<16|ue|0;while(y!==0);for(m=1<<l-1;g&m;)m>>=1;if(m!==0?(g&=m-1,g+=m):g=0,u++,--C[l]===0){if(l===d)break;l=e[n+s[u]]}if(l>f&&(g&_)!==N){for(x===0&&(x=f),I+=p,h=l-x,v=1<<h;h+x<d&&(v-=C[h+x],!(v<=0));)h++,v<<=1;if(b+=1<<h,t===yu&&b>dm||t===hm&&b>fm)return 1;N=g&_,i[N]=f<<24|h<<16|I-o|0}}return g!==0&&(i[I+g]=l-x<<24|64<<16|0),a.bits=f,0},Io=qC,ZC=0,ug=1,dg=2,{Z_FINISH:mm,Z_BLOCK:QC,Z_TREES:fa,Z_OK:nr,Z_STREAM_END:YC,Z_NEED_DICT:KC,Z_STREAM_ERROR:st,Z_DATA_ERROR:fg,Z_MEM_ERROR:pg,Z_BUF_ERROR:XC,Z_DEFLATED:gm}=ni,ba=16180,ym=16181,vm=16182,Im=16183,wm=16184,bm=16185,Em=16186,xm=16187,Tm=16188,Cm=16189,va=16190,Zt=16191,vu=16192,_m=16193,Iu=16194,Sm=16195,Dm=16196,Mm=16197,Nm=16198,pa=16199,ha=16200,Pm=16201,Am=16202,km=16203,Rm=16204,Om=16205,wu=16206,Lm=16207,Fm=16208,pe=16209,hg=16210,mg=16211,JC=852,e_=592,t_=15,n_=t_,$m=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function r_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var rr=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<ba||e.mode>mg?1:0},gg=t=>{if(rr(t))return st;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ba,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(JC),e.distcode=e.distdyn=new Int32Array(e_),e.sane=1,e.back=-1,nr},yg=t=>{if(rr(t))return st;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gg(t)},vg=(t,e)=>{let n;if(rr(t))return st;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?st:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,yg(t))},Ig=(t,e)=>{if(!t)return st;let n=new r_;t.state=n,n.strm=t,n.window=null,n.mode=ba;let r=vg(t,e);return r!==nr&&(t.state=null),r},i_=t=>Ig(t,n_),Vm=!0,bu,Eu,o_=t=>{if(Vm){bu=new Int32Array(512),Eu=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Io(ug,t.lens,0,288,bu,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Io(dg,t.lens,0,32,Eu,0,t.work,{bits:5}),Vm=!1}t.lencode=bu,t.lenbits=9,t.distcode=Eu,t.distbits=5},wg=(t,e,n,r)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},s_=(t,e)=>{let n,r,i,o,s,a,c,l,u,p,d,f,h,x,v=0,b,g,m,y,N,_,I,S,w=new Uint8Array(4),C,M,$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rr(t)||!t.output||!t.input&&t.avail_in!==0)return st;n=t.state,n.mode===Zt&&(n.mode=vu),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,u=n.bits,p=a,d=c,S=nr;e:for(;;)switch(n.mode){case ba:if(n.wrap===0){n.mode=vu;break}for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,w[0]=l&255,w[1]=l>>>8&255,n.check=Ce(n.check,w,2,0),l=0,u=0,n.mode=ym;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=pe;break}if((l&15)!==gm){t.msg="unknown compression method",n.mode=pe;break}if(l>>>=4,u-=4,I=(l&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=pe;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=l&512?Cm:Zt,l=0,u=0;break;case ym:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==gm){t.msg="unknown compression method",n.mode=pe;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=pe;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(w[0]=l&255,w[1]=l>>>8&255,n.check=Ce(n.check,w,2,0)),l=0,u=0,n.mode=vm;case vm:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(w[0]=l&255,w[1]=l>>>8&255,w[2]=l>>>16&255,w[3]=l>>>24&255,n.check=Ce(n.check,w,4,0)),l=0,u=0,n.mode=Im;case Im:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(w[0]=l&255,w[1]=l>>>8&255,n.check=Ce(n.check,w,2,0)),l=0,u=0,n.mode=wm;case wm:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(w[0]=l&255,w[1]=l>>>8&255,n.check=Ce(n.check,w,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=bm;case bm:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),I)),n.flags&512&&n.wrap&4&&(n.check=Ce(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=Em;case Em:if(n.flags&2048){if(a===0)break e;f=0;do I=r[o+f++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Ce(n.check,r,f,o)),a-=f,o+=f,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=xm;case xm:if(n.flags&4096){if(a===0)break e;f=0;do I=r[o+f++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Ce(n.check,r,f,o)),a-=f,o+=f,I)break e}else n.head&&(n.head.comment=null);n.mode=Tm;case Tm:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){t.msg="header crc mismatch",n.mode=pe;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Zt;break;case Cm:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.adler=n.check=$m(l),l=0,u=0,n.mode=va;case va:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,KC;t.adler=n.check=1,n.mode=Zt;case Zt:if(e===QC||e===fa)break e;case vu:if(n.last){l>>>=u&7,u-=u&7,n.mode=wu;break}for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=_m;break;case 1:if(o_(n),n.mode=pa,e===fa){l>>>=2,u-=2;break e}break;case 2:n.mode=Dm;break;case 3:t.msg="invalid block type",n.mode=pe}l>>>=2,u-=2;break;case _m:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=pe;break}if(n.length=l&65535,l=0,u=0,n.mode=Iu,e===fa)break e;case Iu:n.mode=Sm;case Sm:if(f=n.length,f){if(f>a&&(f=a),f>c&&(f=c),f===0)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,n.length-=f;break}n.mode=Zt;break;case Dm:for(;u<14;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=pe;break}n.have=0,n.mode=Mm;case Mm:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.lens[$[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},S=Io(ZC,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,S){t.msg="invalid code lengths set",n.mode=pe;break}n.have=0,n.mode=Nm;case Nm:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[l&(1<<n.lenbits)-1],b=v>>>24,g=v>>>16&255,m=v&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(m<16)l>>>=b,u-=b,n.lens[n.have++]=m;else{if(m===16){for(M=b+2;u<M;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(l>>>=b,u-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=pe;break}I=n.lens[n.have-1],f=3+(l&3),l>>>=2,u-=2}else if(m===17){for(M=b+3;u<M;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,I=0,f=3+(l&7),l>>>=3,u-=3}else{for(M=b+7;u<M;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,I=0,f=11+(l&127),l>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=pe;break}for(;f--;)n.lens[n.have++]=I}}if(n.mode===pe)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=pe;break}if(n.lenbits=9,C={bits:n.lenbits},S=Io(ug,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,S){t.msg="invalid literal/lengths set",n.mode=pe;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},S=Io(dg,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,S){t.msg="invalid distances set",n.mode=pe;break}if(n.mode=pa,e===fa)break e;case pa:n.mode=ha;case ha:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,BC(t,d),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,u=n.bits,n.mode===Zt&&(n.back=-1);break}for(n.back=0;v=n.lencode[l&(1<<n.lenbits)-1],b=v>>>24,g=v>>>16&255,m=v&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(g&&(g&240)===0){for(y=b,N=g,_=m;v=n.lencode[_+((l&(1<<y+N)-1)>>y)],b=v>>>24,g=v>>>16&255,m=v&65535,!(y+b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=y,u-=y,n.back+=y}if(l>>>=b,u-=b,n.back+=b,n.length=m,g===0){n.mode=Om;break}if(g&32){n.back=-1,n.mode=Zt;break}if(g&64){t.msg="invalid literal/length code",n.mode=pe;break}n.extra=g&15,n.mode=Pm;case Pm:if(n.extra){for(M=n.extra;u<M;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Am;case Am:for(;v=n.distcode[l&(1<<n.distbits)-1],b=v>>>24,g=v>>>16&255,m=v&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((g&240)===0){for(y=b,N=g,_=m;v=n.distcode[_+((l&(1<<y+N)-1)>>y)],b=v>>>24,g=v>>>16&255,m=v&65535,!(y+b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=y,u-=y,n.back+=y}if(l>>>=b,u-=b,n.back+=b,g&64){t.msg="invalid distance code",n.mode=pe;break}n.offset=m,n.extra=g&15,n.mode=km;case km:if(n.extra){for(M=n.extra;u<M;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=pe;break}n.mode=Rm;case Rm:if(c===0)break e;if(f=d-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=pe;break}f>n.wnext?(f-=n.wnext,h=n.wsize-f):h=n.wnext-f,f>n.length&&(f=n.length),x=n.window}else x=i,h=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do i[s++]=x[h++];while(--f);n.length===0&&(n.mode=ha);break;case Om:if(c===0)break e;i[s++]=n.length,c--,n.mode=ha;break;case wu:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[o++]<<u,u+=8}if(d-=c,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ce(n.check,i,d,s-d):To(n.check,i,d,s-d)),d=c,n.wrap&4&&(n.flags?l:$m(l))!==n.check){t.msg="incorrect data check",n.mode=pe;break}l=0,u=0}n.mode=Lm;case Lm:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=pe;break}l=0,u=0}n.mode=Fm;case Fm:S=YC;break e;case pe:S=fg;break e;case hg:return pg;case mg:default:return st}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<pe&&(n.mode<wu||e!==mm))&&wg(t,t.output,t.next_out,d-t.avail_out),p-=t.avail_in,d-=t.avail_out,t.total_in+=p,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ce(n.check,i,d,t.next_out-d):To(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Zt?128:0)+(n.mode===pa||n.mode===Iu?256:0),(p===0&&d===0||e===mm)&&S===nr&&(S=XC),S},a_=t=>{if(rr(t))return st;let e=t.state;return e.window&&(e.window=null),t.state=null,nr},l_=(t,e)=>{if(rr(t))return st;let n=t.state;return(n.wrap&2)===0?st:(n.head=e,e.done=!1,nr)},c_=(t,e)=>{let n=e.length,r,i,o;return rr(t)||(r=t.state,r.wrap!==0&&r.mode!==va)?st:r.mode===va&&(i=1,i=To(i,e,n,0),i!==r.check)?fg:(o=wg(t,e,n,n),o?(r.mode=hg,pg):(r.havedict=1,nr))},u_=yg,d_=vg,f_=gg,p_=i_,h_=Ig,m_=s_,g_=a_,y_=l_,v_=c_,I_="pako inflate (from Nodeca project)",Yt={inflateReset:u_,inflateReset2:d_,inflateResetKeep:f_,inflateInit:p_,inflateInit2:h_,inflate:m_,inflateEnd:g_,inflateGetHeader:y_,inflateSetDictionary:v_,inflateInfo:I_};function w_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var b_=w_,bg=Object.prototype.toString,{Z_NO_FLUSH:E_,Z_FINISH:x_,Z_OK:So,Z_STREAM_END:xu,Z_NEED_DICT:Tu,Z_STREAM_ERROR:T_,Z_DATA_ERROR:Hm,Z_MEM_ERROR:C_}=ni;function Po(t){this.options=wa.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lg,this.strm.avail_out=0;let n=Yt.inflateInit2(this.strm,e.windowBits);if(n!==So)throw new Error(er[n]);if(this.header=new b_,Yt.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_o.string2buf(e.dictionary):bg.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Yt.inflateSetDictionary(this.strm,e.dictionary),n!==So)))throw new Error(er[n])}Po.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?x_:E_,bg.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Yt.inflate(n,s),o===Tu&&i&&(o=Yt.inflateSetDictionary(n,i),o===So?o=Yt.inflate(n,s):o===Hm&&(o=Tu));n.avail_in>0&&o===xu&&n.state.wrap>0&&t[n.next_in]!==0;)Yt.inflateReset(n),o=Yt.inflate(n,s);switch(o){case T_:case Hm:case Tu:case C_:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===xu))if(this.options.to==="string"){let c=_o.utf8border(n.output,n.next_out),l=n.next_out-c,u=_o.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===So&&a===0)){if(o===xu)return o=Yt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Po.prototype.onData=function(t){this.chunks.push(t)};Po.prototype.onEnd=function(t){t===So&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wa.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Hu(t,e){let n=new Po(e);if(n.push(t),n.err)throw n.msg||er[n.err];return n.result}function __(t,e){return e=e||{},e.raw=!0,Hu(t,e)}var S_=Po,D_=Hu,M_=__,N_=Hu,P_=ni,A_={Inflate:S_,inflate:D_,inflateRaw:M_,ungzip:N_,constants:P_},{Deflate:UH,deflate:WH,deflateRaw:zH,gzip:GH}=HC,{Inflate:qH,inflate:k_,inflateRaw:ZH,ungzip:QH}=A_;var Ea=k_;var ju=class{data=new Map;get(e){return this.data.get(e)}set(e,n){this.data.set(e,n)}rawDataToRGBA(e,n,r){if(n===16){let i=e.byteLength/2*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4)*2;o[s+0]=e[a+0],o[s+1]=e[a+0],o[s+2]=e[a+0],o[s+3]=e[a+1]}return o}else if(n===8){let i=e.byteLength*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4),c=[255,255,255,0];e[a]!==r&&(c=this.get(e[a])??[255,255,255,0]),o[s+0]=c[0],o[s+1]=c[1],o[s+2]=c[2],o[s+3]=Math.ceil(c[3]*255)}return o}return e}},ir=class{constructor(e){this.loader=e}getColorPallette(e){let n=new ju,r=this.loader.findFrameChunk(e,cu);if(r){let i=r.firstIndex;for(let o of r.colors)n.set(i,[o.color.red,o.color.green,o.color.blue,o.color.alpha]),i++}return n}};var or=class{constructor(e){this.loader=e;this.collorPalletteLoader=new ir(e)}frameCache=new It;collorPalletteLoader;getFrame(e){return Q(this,null,function*(){return this.frameCache.get(e.toString(10),()=>Q(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.data.frames[e],r=this.getDrawContext(),i=this.collorPalletteLoader.getColorPallette(0),o=this.loader.findFrameChunks(0,Qr),s=this.loader.findFrameChunks(e,lu);for(let l of s)if(l.cellType===su){let u=yield this.getFrame(l.data.linkedFrame),p=o[l.layerIndex];(p.flags&1)===1&&!this.loader.ignoredLayerNames.includes(p.name.value)&&(r.save(),r.drawImage(u.texture.data,0,0),r.restore())}else if(l.cellType===au){let u=o[l.layerIndex];if((u.flags&1)===1&&!this.loader.ignoredLayerNames.includes(u.name.value)){let p=l.data,d=p.rawCompressed,f=Ea(new Uint8Array(d)),h=i.rawDataToRGBA(f,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),x=new ImageData(new Uint8ClampedArray(h),p.w,p.h),v=yield createImageBitmap(x);r.save(),r.globalAlpha=l.opacity/255*(u?.opacity??255)/255,r.drawImage(v,l.x,l.y),r.restore()}}let a=r.getImageData(0,0,this.loader.data.header.width,this.loader.data.header.height),c=yield createImageBitmap(a);return{texture:Ze.fromImageBitmap(c),duration:n.header.frameDuration}}))})}getFrames(e,n){return Q(this,null,function*(){let r=[];for(let i=e;i<=n;i++)r.push(yield this.getFrame(i));return r})}getDrawContext(){let n=new OffscreenCanvas(this.loader.data?.header.width||0,this.loader.data?.header.height||0).getContext("2d");if(!n)throw new Error("Could not obtain OffscreenCanvas 2D Context for processing Aseprite!");return n.imageSmoothingEnabled=!1,n}};var Ao=class{constructor(e){this.loader=e;this.frameLoader=new or(e)}animationCache=new It;frameLoader;getAnimationNames(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let e=this.loader.findFrameChunk(0,ca);return e?e.tags.map(n=>n.tagName.value):[]}getAnimation(e){return Q(this,null,function*(){return this.animationCache.get(e,()=>Q(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.findFrameChunk(0,ca);if(!n)throw Error("Aseprite file has no tags!");let r=n.tags.find(o=>o.tagName.value===e);if(!r)throw Error(`Animation with name ${e} not found !`);let i=yield this.frameLoader.getFrames(r.fromFrame,r.toFrame);return{duration:i.map(o=>o.duration).reduce((o,s)=>o+s,0),frames:i,direction:r.loopAnimationDirection,repeat:r.repeatAnimation<=2?r.repeatAnimation:3,repeatTimes:r.repeatAnimation<=2?0:r.repeatAnimation}}))})}};var ko=class t{static asepriteCache=new It;data;ignoredLayerNames=[];static load(e){return Q(this,null,function*(){return t.asepriteCache.get(e,()=>Q(null,null,function*(){let n=new t,i=yield(yield fetch(e)).arrayBuffer();if(n.data=nm.parse(new Uint8Array(i)),n.data.header.magicNumber!==42464)throw Error("Invalid Aseprite file header magic number!");return n}))})}findFrameChunks(e,n){if(!this.data)throw new Error("Aseprite file not loaded!");return this.data.frames[e].chunks.filter(o=>o.chunkType===n).map(o=>o.data)}findFrameChunk(e,n){let r=this.findFrameChunks(e,n);if(r.length===1)return r[0];if(r.length===0)return;throw new Error(`Multiple Chunks of type ${n} found!`)}};var Ro=class{constructor(e){this.loader=e;this.collorPalletteLoader=new ir(e)}tilemapCache=new It;collorPalletteLoader;getTilemapNames(e=0){if(!this.loader.data)throw new Error("Aseprite file not loaded!");return this.loader.findFrameChunks(e,Qr).filter(r=>!(!r.tilesetIndex||r.tilesetIndex.length!==1)).map(r=>r.name.value)}getTilemap(e,n=0){return Q(this,null,function*(){return this.tilemapCache.get(`${e}-${n}`,()=>Q(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let r=this.loader.findFrameChunks(n,uu),o=this.loader.findFrameChunks(n,Qr).find(d=>d.name.value===e);if(!o)throw new Error(`Tilemap Layer with name ${e} not found!`);if(!o.tilesetIndex||o.tilesetIndex.length!==1)throw new Error(`Layer with name ${e} is not a Tilemap!`);let s=r[o.tilesetIndex[0]],a=this.collorPalletteLoader.getColorPallette(n),c=Ea(new Uint8Array(s.rawCompressed)),l=a.rawDataToRGBA(c,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),u=s.tileWidth*s.tileHeight*4,p=new Map;for(let d=0;d<s.numberOfTiles;d+=1){let f=s.baseIndex+d-1,h=l.slice(d*u,(d+1)*u),x=new ImageData(new Uint8ClampedArray(h),s.tileWidth,s.tileHeight),v=yield createImageBitmap(x);p.set(f,Ze.fromImageBitmap(v))}return p}))})}};var sr=class t{constructor(e){this.loader=e;this.frameLoader=new or(e),this.animationLoader=new Ao(e),this.tilemapLoader=new Ro(e)}frameLoader;animationLoader;tilemapLoader;static load(e){return Q(this,null,function*(){return new t(yield ko.load(e))})}ignoreLayers(e){this.loader.ignoredLayerNames=e}getFrame(e){return Q(this,null,function*(){return this.frameLoader.getFrame(e)})}getFrames(e,n){return Q(this,null,function*(){return this.frameLoader.getFrames(e,n)})}getAnimationNames(){return this.animationLoader.getAnimationNames()}getAnimation(e){return Q(this,null,function*(){return this.animationLoader.getAnimation(e)})}getTilemapNames(e=0){return this.tilemapLoader.getTilemapNames(e)}getTilemap(e,n=0){return Q(this,null,function*(){return this.tilemapLoader.getTilemap(e,n)})}};var ar=class{constructor(e,n,r){this.asset=e;this.tileset=n;this.tileId=r}toObject(){return{asset:this.asset,tileset:this.tileset,tileId:this.tileId}}};var lr=class{constructor(e,n){this.asset=e;this.animationName=n}toObject(){return{asset:this.asset,animationName:this.animationName}}};var cr=class{assets={};chars={};init(e,n,r){return Q(this,null,function*(){let i=Object.keys(e).length,o=n?Object.keys(n).length:0,s=i+o,a=0;for(let c in e){let l=e[c];a++,r?.({current:a,total:s,percentage:a/s*100,currentFile:c});let u=yield sr.load(l.path);u.ignoreLayers(["Grid"]),this.assets[c]={tilemaps:{},animations:{}};for(let p of u.getTilemapNames())this.assets[c].tilemaps[p]=yield u.getTilemap(p);for(let p of u.getAnimationNames())this.assets[c].animations[p]=yield u.getAnimation(p)}if(n)for(let c in n){let l=n[c].path;a++,r?.({current:a,total:s,percentage:a/s*100,currentFile:c});let u=yield sr.load(l);u.ignoreLayers(["Grid"]);let p=yield u.getTilemap(c);this.chars[c]={};for(let d in n[c].map)this.chars[c][d]=p.get(n[c].map[d]);this.chars[c].__unknown__=p.get(n[c].map.__unknown__)}})}};var Ie=class extends z{_meta;_texture=Ze.empty();constructor(e,n,r){super(n,r),e&&(this.texture=e)}get texture(){return this._texture}set texture(e){this._texture=e}get width(){return this._texture.width}get height(){return this._texture.height}withMeta(e){this._meta=e}getMeta(){return this._meta}};var $e=class t extends z{constructor(n,r,i=[]){super(r,i);this._animation=n;this.frameIndex=0,this.previousTime=0,this._frames=n.frames,n.direction===1&&(this._frames=this._frames.reverse()),this.animationRepeatIndex=n.repeatTimes,this.on(at,this.onTick.bind(this))}_meta;flipH=!1;flipV=!1;_frames=[];frameIndex;animationRepeatIndex;stopped=!1;previousTime;animationSpeed=1;get animation(){return this._animation}get currentFrame(){return this._frames[this.frameIndex]}static empty(){return new t({duration:0,frames:[],direction:0,repeat:0,repeatTimes:0})}onTick(n){if(this.stopped)return;this.previousTime===0&&(this.previousTime=n.currentTime);let r=(n.currentTime-this.previousTime)*this.animationSpeed,i=this._frames[this.frameIndex];if(!i)return;let o=0;for(;r>=i.duration;)r-=i.duration,this.advanceFrame(),i=this._frames[this.frameIndex],o+=1,o>10&&(r=0);o>0&&(this.previousTime=n.currentTime)}play(){this.stopped=!1,this._animation.repeat===0?this.frameIndex=0:this._animation.repeat===3&&(this.frameIndex=0,this.animationRepeatIndex=this._animation.repeatTimes)}stop(){this.stopped=!0,this.previousTime=0}advanceFrame(){if(this.frameIndex+=1,this.frameIndex>=this._frames.length)if(this._animation.repeat===0)this.frameIndex=0;else if(this._animation.repeat===3){if(this.frameIndex=0,this.animationRepeatIndex-=1,this.animationRepeatIndex===0){this.stop();return}}else{this.stop();return}}get width(){return this._frames[0].texture.width}get height(){return this._frames[0].texture.height}get animationDuration(){return this._animation.duration}withMeta(n){this._meta=n}getMeta(){return this._meta}};var Lt=class t extends z{constructor(n){super();this._numLayers=n;for(let r=0;r<n;r+=1)this.addChild(new z)}getLayer(n){return this.children.at(n)}get numLayers(){return this._numLayers}get width(){let n=0,r=this.position;for(let i=0;i<this._numLayers;i+=1){let o=this.children[i];if(o){for(let s of o.children)if(s instanceof z){let l=s.position.x-r.x+s.width;l>n&&(n=l)}}}return n}get height(){let n=0,r=this.position;for(let i=0;i<this._numLayers;i+=1){let o=this.children[i];if(o){for(let s of o.children)if(s instanceof z){let l=s.position.y-r.y+s.height;l>n&&(n=l)}}}return n}toObject(){let n={numLayers:this._numLayers,layers:[]};for(let r=0;r<this._numLayers;r+=1){let i=[];for(let o of this.children[r].children)if(o instanceof $e){let s=o.getMeta();s instanceof lr&&i.push({type:"animated",position:{x:o.position.x,y:o.position.y},animation:s.toObject(),animationSpeed:o.animationSpeed})}else if(o instanceof Ie){let s=o.getMeta();s instanceof ar&&i.push({type:"static",position:{x:o.position.x,y:o.position.y},texture:s.toObject()})}n.layers.push(i)}return n}clear(n){this.removeAllChildren(),this._numLayers=n;for(let r=0;r<this._numLayers;r+=1)this.addChild(new z)}static fromData(n){let r=new t(n.numLayers),i=le.get("assets");for(let o=0;o<n.layers.length;o+=1){let s=n.layers[o];for(let a of s)if(a.type==="animated"){let c=i[a.animation.asset].animations[a.animation.animationName],l=new $e(c,new E(a.position.x,a.position.y));l.animationSpeed=a.animationSpeed??1,l.withMeta(new lr(a.animation.asset,a.animation.animationName)),r.getLayer(o)?.addChild(l)}else if(a.type==="static"){let c=i[a.texture.asset].tilemaps[a.texture.tileset].get(a.texture.tileId),l=new Ie(c,new E(a.position.x,a.position.y));l.withMeta(new ar(a.texture.asset,a.texture.tileset,a.texture.tileId)),r.getLayer(o)?.addChild(l)}}return r}};var at=class extends ge{constructor(n){super();this.currentTime=n;super.target=null}};var oi=class{constructor(e,n){this.zoom=n;this.workLoop=new fn(this.render.bind(this)),this.canvas=e,this.canvas.style.display="block",this.canvas.style.imageRendering="pixelated";let r=this.canvas.getContext("2d");if(!r)throw new Error("CanvasRenderingContext2D could not be obtained!");this.context=r,this.context.imageSmoothingEnabled=!1}canvas;context;rootElement;workLoop;setViewport(e){this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.style.width=e.width*this.zoom+"px",this.canvas.style.height=e.height*this.zoom+"px"}setZoom(e){this.zoom=e}getElement(){return this.canvas}globalToLocalPoint(e){let n=e.x,r=e.y,i=this.canvas.getBoundingClientRect();return n-=i.left,r-=i.top,new E(Math.round(n/this.zoom),Math.round(r/this.zoom))}localToGlobalPoint(e){return new E(e.x*this.zoom,e.y*this.zoom)}setRootElement(e){this.rootElement=e}start(e){this.workLoop.start(e)}hasCanvasItemClipMask(e){return e?(Array.isArray(e)?e:[e]).some(r=>gn(r)):!1}createTempCanvas(e,n){let r=new OffscreenCanvas(e,n),i=r.getContext("2d");if(!i)throw new Error("Failed to get 2D context for temporary canvas");return{canvas:r,context:i}}applyRectangleClips(e,n){if(!n)return;let i=(Array.isArray(n)?n:[n]).filter(o=>!gn(o));if(i.length>0){e.beginPath();for(let o of i)e.rect(o.x,o.y,o.width,o.height);e.clip()}}applyRectangleClipsToCanvas(e,n,r,i){if(!n)return e;let s=(Array.isArray(n)?n:[n]).filter(l=>!gn(l));if(s.length===0)return e;let{canvas:a,context:c}=this.createTempCanvas(r,i);c.save(),c.beginPath();for(let l of s)c.rect(l.x,l.y,l.width,l.height);return c.clip(),c.drawImage(e,0,0),c.restore(),a}applyCanvasItemClipMasks(e,n,r){if(!n||!this.hasCanvasItemClipMask(n))return e;let o=(Array.isArray(n)?n:[n]).filter(u=>gn(u));if(o.length===0)return e;let{canvas:s,context:a}=this.createTempCanvas(r.width,r.height);a.save(),a.translate(-r.x,-r.y);for(let u of o)gn(u)&&this.renderCanvasItem(a,u.item);a.restore();let{canvas:c,context:l}=this.createTempCanvas(r.width,r.height);return l.drawImage(e,0,0),l.globalCompositeOperation="destination-in",l.drawImage(s,0,0),c}renderCanvasItem(e,n){if(!n.isVisible)return;n instanceof $e?this.drawAnimatedSprite(e,n):n instanceof Ie?this.drawSprite(e,n):n.draw(e);let r=ce.childrenByType(it,n,!1);for(let i of r)this.renderCanvasItem(e,i)}applyFillColorToTexture(e,n,r,i){if(!i)return null;let{canvas:o,context:s}=this.createTempCanvas(n,r);return s.drawImage(e,0,0),s.globalCompositeOperation="source-in",s.fillStyle=i,s.fillRect(0,0,n,r),o}drawTextureWithTransforms(e,n,r,i,o,s,a,c,l=!1,u=!1){if(this.hasCanvasItemClipMask(c)){let{canvas:d,context:f}=this.createTempCanvas(i,o),x=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let b=l?-1:1,g=u?-1:1;f.scale(b,g),f.drawImage(x,b*0,0,b*i,o)}else f.drawImage(x,0,0);let v=this.applyCanvasItemClipMasks(d,c,{x:Math.floor(r.x),y:Math.floor(r.y),width:i,height:o});e.save(),this.applyRectangleClips(e,c),s<1&&(e.globalAlpha=s),e.drawImage(v,Math.floor(r.x),Math.floor(r.y)),e.restore()}else if((c?Array.isArray(c)?c:[c]:[]).filter(x=>!gn(x)).length>0){let{canvas:x,context:v}=this.createTempCanvas(i,o),g=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let y=l?-1:1,N=u?-1:1;v.scale(y,N),v.drawImage(g,y*0,0,y*i,o)}else v.drawImage(g,0,0);let m=this.applyRectangleClipsToCanvas(x,c,i,o);e.save(),s<1&&(e.globalAlpha=s),e.drawImage(m,Math.floor(r.x),Math.floor(r.y)),e.restore()}else{e.save(),s<1&&(e.globalAlpha=s);let v=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let b=l?-1:1,g=u?-1:1;e.scale(b,g),e.drawImage(v,b*Math.floor(r.x),Math.floor(r.y),b*i,o)}else e.drawImage(v,Math.floor(r.x),Math.floor(r.y));e.restore()}}drawSprite(e,n){let r=n.texture;this.drawTextureWithTransforms(e,r.data,n.position,r.width,r.height,n.opacity,n.fillColor,n.clipRegion)}drawAnimatedSprite(e,n){let r=n.currentFrame;if(!r)return;let i=r.texture;this.drawTextureWithTransforms(e,i.data,n.position,i.width,i.height,n.opacity,n.fillColor,n.clipRegion,n.flipH,n.flipV)}render(e){if(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),!!this.rootElement){this.rootElement.dispatchEvent(new at(e));for(let n of ce.childrenByType(it,this.rootElement,!0))n.isVisible&&(n instanceof $e?this.drawAnimatedSprite(this.context,n):n instanceof Ie?this.drawSprite(this.context,n):n.draw(this.context))}}};var lt=class extends ge{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var ke=class extends z{sim;_colliderDimensions;_colliderOffset;_filterCollision;constructor(e){super(e)}get dimensions(){let e=this.width,n=this.height;for(let r of ce.childrenByType(z,this))e=Math.max(e,r.width),n=Math.max(n,r.height);return new E(e,n)}get collider(){let e=this._colliderOffset||new E(0,0),n=this._colliderDimensions||this.dimensions;return{position:this.position.add(e),dimensions:n}}set filterCollisionFn(e){this._filterCollision=e}setColliderOffset(e){this._colliderOffset=e}setColliderDimensions(e){this._colliderDimensions=e}attachToSimulation(e){this.sim=e}filterCollision(e){return this._filterCollision?this._filterCollision(e):!0}};var Kt=class extends ge{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var Eg=1e3,Et=class extends ke{_impulse=new E(0,0);_sleeping=!1;_canSleep=!0;_sleepDelay=Eg;avgVelAcc=[new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0),new E(0,0)];constructor(e){super(e),this.on(lt,n=>{this.sim&&!this._sleeping&&(this.applyDrag(),this.applyImpulse(this.velocityDelta(this.sim.gravity,n.deltaTime),n.deltaTime,!1))}),this.on(Kt,n=>{if(this._sleeping)return;Math.abs(this._impulse.x)<1&&(this._impulse=new E(0,this._impulse.y)),Math.abs(this._impulse.y)<1&&(this._impulse=new E(this._impulse.x,0));let r=new E(0,0);if(this._impulse.x!==0||this._impulse.y!==0){let i=this.velocityDelta(this._impulse,n.deltaTime),o=this.checkHit(this._impulse,n.deltaTime);this._impulse.normal.x!==0&&(o.x?(this.position=this.position.add(new E(o.x.distance,0)),this._impulse.x=0,r.x+=o.x.distance):(this.position=this.position.add(new E(i.x,0)),this._impulse.x-=i.x,r.x+=i.x)),this._impulse.normal.y!==0&&(o.y?(this.position=this.position.add(new E(0,o.y.distance)),this._impulse.y=0,r.y+=o.y.distance):(this.position=this.position.add(new E(0,i.y)),this._impulse.y-=i.y,r.y+=i.y))}if(this.avgVelAcc.pop(),this.avgVelAcc.unshift(r),this.canSleep){let i=this.avgVelocity(9);i.x===0&&i.y===0&&(this._sleepDelay<=0?this._sleeping=!0:this._sleepDelay-=n.deltaTime)}})}applyDrag(e=.85){this._impulse.x*=e}applyImpulse(e,n,r=!0){r&&this.wakeUp();let i=this._impulse.add(e),o=this.checkHit(i,n);e.normal.x!==0&&!o.x&&(this._impulse.x=i.x),e.normal.y!==0&&!o.y&&(this._impulse.y=i.y)}velocityDelta(e,n){let r=e.mul(n/1e3);return new E(Math.abs(r.x)*r.normal.x,Math.abs(r.y)*r.normal.y)}checkHit(e,n,r,i){return{x:this.sim?.checkFutureCollisionX(this,this.velocityDelta(e,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i),y:this.sim?.checkFutureCollisionY(this,this.velocityDelta(e,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i)}}checkFutureIntersection(e,n){let r=ce.childrenByType(ke,this.rootElement);for(let i of r){if(n&&!n(i))continue;let o=this.sim?.checkFutureIntersection(this.collider.position,e,this.collider.dimensions,i);if(o)return o}}checkAllFutureIntersections(e,n){let r=ce.childrenByType(ke,this.rootElement),i=[];for(let o of r){if(n&&!n(o))continue;let s=this.sim?.checkFutureIntersection(this.collider.position,e,this.collider.dimensions,o);s&&i.push(s)}return i}checkCurrentIntersection(e){return this.checkFutureIntersection(new E(0,0),e)}checkAllCurrentIntersections(e){return this.checkAllFutureIntersections(new E(0,0),e)}isGrounded(){return!!this.checkHit(new E(0,1),1e3).y}avgVelocity(e=3){let n=new E(0,0);e=Math.min(e,9);let r=this.avgVelAcc.slice(0,e);for(let i of r)n.x+=i.x,n.y+=i.y;return n.div(e)}colliderCheck(e){return e!==this}get sleeping(){return this._sleeping}wakeUp(){this._sleeping=!1,this._sleepDelay=Eg}get canSleep(){return this._canSleep}set canSleep(e){this._canSleep=e}};var si=class{constructor(e=new E(0,1024)){this.gravity=e;this.workLoop=new fn(this.step.bind(this))}viewport;rootElement;workLoop;lastCollisionObjects={x:[],y:[]};wakeUpInterval=250;timeSinceLastWakeUp=0;setViewport(e){this.viewport=e}setRootElement(e){this.rootElement=e;for(let n of ce.childrenByType(ke,this.rootElement))n.attachToSimulation(this);this.rootElement.on(un,n=>{let r=n.target;r instanceof ke&&r.attachToSimulation(this)})}start(e){this.workLoop.start(e)}getDebugInformation(){let e=[];function n(r,i,o){let s=r,a=r.add(i);s.x=Math.floor(s.x),s.y=Math.floor(s.y),a.x=Math.floor(a.x),a.y=Math.floor(a.y),e.push({from:s,to:new E(a.x,s.y),color:o}),e.push({from:new E(a.x,s.y),to:a,color:o}),e.push({from:a,to:new E(s.x,a.y),color:o}),e.push({from:new E(s.x,a.y),to:s,color:o})}if(this.rootElement){for(let r of ce.childrenByType(ke,this.rootElement))n(r.collider.position,r.collider.dimensions,r instanceof Et&&r.sleeping?"rgba(199, 194, 198, 0.5)":"rgba(205, 93, 215, 0.5)");this.lastCollisionObjects.x.length===2&&(n(this.lastCollisionObjects.x[0].position,this.lastCollisionObjects.x[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.x[1].position,this.lastCollisionObjects.x[1].dimensions,"rgba(49, 252, 3, 0.5)")),this.lastCollisionObjects.y.length===2&&(n(this.lastCollisionObjects.y[0].position,this.lastCollisionObjects.y[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.y[1].position,this.lastCollisionObjects.y[1].dimensions,"rgba(252, 3, 65, 0.5)"))}return e}checkFutureIntersection(e,n,r,i){if(!this.rootElement)return!1;let o=e.add(n),s=o.x,a=o.y,c=o.x+r.x,l=o.y+r.y,u=i.collider.position.x,p=i.collider.position.y,d=i.collider.position.x+i.collider.dimensions.x,f=i.collider.position.y+i.collider.dimensions.y;if(Math.max(s,u)<Math.min(c,d)&&Math.max(a,p)<Math.min(l,f))return i}checkFutureCollisionX(e,n,r,i){if(!this.rootElement)return;let o=ce.childrenByType(ke,this.rootElement),s=e.collider.position.add(n),a=s.x,c=s.x+e.collider.dimensions.x;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:e}))continue;let u=this.checkFutureIntersection(e.collider.position,n,e.collider.dimensions,l),p=l.collider.position.x,d=l.collider.position.x+l.collider.dimensions.x;if(u){let f=n.x;if(n.normal.x===1){if(c>p&&(f-=c-p,Math.abs(f)<Math.abs(n.x)))return this.lastCollisionObjects.x=[e.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:f}}else if(n.normal.x===-1&&a<d&&(f+=d-a,Math.abs(f)<Math.abs(n.x)))return this.lastCollisionObjects.x=[e.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:f}}}this.lastCollisionObjects.x=[]}checkFutureCollisionY(e,n,r,i){if(!this.rootElement)return;let o=ce.childrenByType(ke,this.rootElement),s=e.collider.position.add(n),a=s.y,c=s.y+e.collider.dimensions.y;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:e}))continue;let u=this.checkFutureIntersection(e.collider.position,n,e.collider.dimensions,l),p=l.collider.position.y,d=l.collider.position.y+l.collider.dimensions.y;if(u){let f=n.y;if(n.normal.y===1){if(c>p&&(f-=c-p,Math.abs(f)<Math.abs(n.y)))return this.lastCollisionObjects.y=[e.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:f}}else if(n.normal.y===-1&&a<d&&(f+=d-a,Math.abs(f)<Math.abs(n.y)))return this.lastCollisionObjects.y=[e.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:f}}}this.lastCollisionObjects.y=[]}step(e,n){if(this.rootElement){if(this.timeSinceLastWakeUp+=n,this.timeSinceLastWakeUp>=this.wakeUpInterval){this.timeSinceLastWakeUp=0;let r=ce.childrenByType(Et,this.rootElement);for(let i of r)i.sleeping&&i.wakeUp()}this.rootElement.dispatchEvent(new lt(e,n,this)),this.rootElement.dispatchEvent(new Kt(e,n,this))}}};var ur=class extends ke{};var _e=class extends z{_size;flexDirection="row";justifyContent="flex-start";alignItems="flex-start";gap=0;padding=new E(0,0);constructor(e,n){super(e),this._size=n}get width(){return this._size.width}get height(){return this._size.height}addChild(e){super.addChild(e),this.layout()}removeChild(e){super.removeChild(e),this.layout()}layout(){let e=this.children.filter(d=>d instanceof z);if(e.length===0)return;let n=this.flexDirection==="row",r=n?this.padding.x:this.padding.y,i=n?this.padding.y:this.padding.x,o=(n?this._size.width:this._size.height)-r*2,s=(n?this._size.height:this._size.width)-i*2,a=0,c=[];for(let d of e){let f=n?d.width:d.height;c.push(f),a+=f}let l=this.gap*(e.length-1);a+=l;let u=this.calculateJustifyStart(o,a,e.length)+r,p=this.calculateSpacing(o,a,e.length);for(let d=0;d<e.length;d++){let f=e[d],h=c[d],x=n?f.height:f.width,v=this.calculateCrossAxisPosition(s,x)+i;n?f.position=new E(u,v):f.position=new E(v,u),u+=h+this.gap+p}}calculateJustifyStart(e,n,r){switch(this.justifyContent){case"flex-start":return 0;case"flex-end":return e-n;case"center":return(e-n)/2;case"space-between":return 0;case"space-around":return(e-n)/(r*2);default:return 0}}calculateSpacing(e,n,r){let i=e-n;switch(this.justifyContent){case"space-between":return r>1?i/(r-1):0;case"space-around":return r>0?i/r:0;default:return 0}}calculateCrossAxisPosition(e,n){switch(this.alignItems){case"flex-start":return 0;case"flex-end":return e-n;case"center":return(e-n)/2;case"stretch":return(e-n)/2;default:return 0}}};var En=class extends ge{constructor(n){super();this.start=n}},dr=class extends ge{},Oo=class extends Et{input;constructor(e){super(e),this.input=new qr(this),this.input.setOn(0).when({type:Te,condition:i=>i.action===0&&i.key==="ArrowUp"}),this.input.setOff(0).when({type:Te,condition:i=>i.action===1&&i.key==="ArrowUp"}),this.input.setOn(3).when({type:Te,condition:i=>i.action===0&&i.key==="ArrowDown"}),this.input.setOff(3).when({type:Te,condition:i=>i.action===1&&i.key==="ArrowDown"}),this.input.setOn(1).when({type:Te,condition:i=>i.action===0&&i.key==="ArrowLeft"}),this.input.setOff(1).when({type:Te,condition:i=>i.action===1&&i.key==="ArrowLeft"}),this.input.setOn(2).when({type:Te,condition:i=>i.action===0&&i.key==="ArrowRight"}),this.input.setOff(2).when({type:Te,condition:i=>i.action===1&&i.key==="ArrowRight"}),this.input.setOn(4).when({type:Te,condition:i=>i.action===0&&i.key===" "}),this.input.setOff(4).when({type:Te,condition:i=>i.action===1&&i.key===" "});let n=!1,r=!1;this.input.onChange(i=>{i.get(0)&&this.isGrounded()&&(n=!0),i.get(3)&&this.isGrounded()?(r=!0,this.dispatchEvent(new En(!0))):r&&(r=!1,this.dispatchEvent(new En(!1))),i.get(4)&&this.isGrounded()&&this.dispatchEvent(new dr)}),this.on(lt,i=>{this.input.state.get(1)&&this.input.state.get(2)||(this.input.state.get(1)&&this.applyImpulse(new E(-16,0),i.deltaTime),this.input.state.get(2)&&this.applyImpulse(new E(16,0),i.deltaTime)),n&&(n=!1,this.applyImpulse(new E(0,-288),i.deltaTime)),r&&this.applyImpulse(new E(0,3),i.deltaTime)}),this.on(Kt,i=>{this.switchStance(i.currentTime)})}switchStance(e){}};var Ke=class extends Oo{constructor(n,r,i=0,o=new E(0,0)){super(n);this.assetName=r;this.spritePointing=i;this.spriteOffset=o;this.gfx=new z,this.addChild(this.gfx),this.ghost=new z,this.ghost.isVisible=!1,this.setColliderOffset(new E(38,4)),this.setColliderDimensions(new E(20,28)),this.switchStance(0),this._pointing=1}gfx;ghost;activeStance;activeStanceStartTime=0;_pointing=1;get pointing(){return this._pointing}get pointingDefault(){return this._pointing===this.spritePointing}get ghostGraphics(){return this.ghost}updateGhostPosition(){this.ghost.position=this.position}switchStance(n){let r=le.get("assets"),i="Idle",o=this.avgVelocity();o.y>.1?i="Fall":o.y<-.1&&(i="Jump"),o.x>.1?this._pointing=1:o.x<-.1&&(this._pointing=0);let s=n-this.activeStanceStartTime;if((this.activeStance==="Fall"&&i==="Idle"||this.activeStance==="Ground"&&s<=r[this.assetName].animations.Ground.duration)&&(i="Ground"),i!=="Ground"&&Math.abs(o.y)<.1&&Math.abs(o.x)>.1&&(i="Run"),i!==this.activeStance){this.activeStanceStartTime=n,this.activeStance=i,this.gfx.removeAllChildren(),this.gfx.addChild(new $e(r[this.assetName].animations[i])),this.ghost.removeAllChildren();let a=new $e(r[this.assetName].animations[i]);a.opacity=.5,a.fillColor="rgba(0, 0, 0, 1)",this.ghost.addChild(a)}if(this.gfx.children.length===1){let a=this.gfx?.children[0];a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new E(0,-32).add(this.spriteOffset):a.translation=new E(0,-32).sub(this.spriteOffset)}if(this.ghost.children.length===1){let a=this.ghost?.children[0];a.clipRegion=this.ghostGraphics.clipRegion,a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new E(0,-32).add(this.spriteOffset):a.translation=new E(0,-32).sub(this.spriteOffset)}}};var fr=class extends Ke{constructor(e){super(e,"The Crusty Crew Pink Star")}};var Ve=class extends z{_width=0;_height=0;letterSpacing;constructor(e,n=1){super(),this.letterSpacing=n,e&&this.setText(e)}get fillColor(){return super.fillColor}set fillColor(e){super.fillColor=e;for(let n of this.children)n instanceof Ie&&(n.fillColor=e)}setTextFromTextures(e){let n=[...this.children];for(let r of n)this.removeChild(r);this._width=0,this._height=0;for(let r=0;r<e.length;r+=1){let i=e[r],o=new Ie(i,new E(this._width,0));this.fillColor&&(o.fillColor=this.fillColor),this.addChild(o),this._width+=o.width,r<e.length-1&&(this._width+=this.letterSpacing),this._height=o.height}}setText(e){let n=le.get("chars"),i=e.toLowerCase().split("").map(o=>n.Chars[o]||n.Chars.__unknown__).filter(o=>o!==void 0);this.setTextFromTextures(i)}setTextFromCodes(e,n="Chars",r="Chars"){let o=le.get("assets")[r]?.tilemaps[n];if(!o){console.warn(`Tilemap "${n}" not found in asset "${r}"`);return}let s=[];for(let a of e){let c=o.get(a);if(!c){console.warn(`Texture at index ${a} not found in tilemap`);continue}s.push(c)}this.setTextFromTextures(s)}get width(){return this._width}get height(){return this._height}};var pr=class extends z{_width=0;_height=0;constructor(e,n,r,i){super(),this._width=e,this._height=(n||r||i)?.height||0;let o=new Ie(n),s=new Ie(i);this.addChild(o),this.addChild(s),s.position=new E(e-s.width,0);let c=e-Math.min(e,o.width+s.width),l=o.width;for(;c>0;){let u=new Ie(r);u.position=new E(l,0),c<u.width&&(u.clipRegion={x:0,y:0,width:c,height:u.height}),this.addChild(u),c-=u.width,l+=u.width}}get width(){return this._width}get height(){return this._height}};var Ft=class extends Et{constructor(n,r){super(n);this.text=r;let i=le.get("assets"),o=new Ve(r);this.addChild(new pr(o.width+6,i.Paper.tilemaps.Paper.get(1),i.Paper.tilemaps.Paper.get(2),i.Paper.tilemaps.Paper.get(3))),o.position=new E(3,3),this.addChild(o)}};var $t=class extends z{background;mouseInteraction;action=void 0;constructor(e,n){super(e);let r=le.get("assets");n.children.length>1?(this.background=new pr(n.width+12,r["Wood and Paper UI - Buttons"].tilemaps["Wood and Paper"].get(2),r["Wood and Paper UI - Buttons"].tilemaps["Wood and Paper"].get(3),r["Wood and Paper UI - Buttons"].tilemaps["Wood and Paper"].get(4)),n.position=new E(6,4)):(this.background=new Ie(r["Wood and Paper UI - Buttons"].tilemaps["Wood and Paper"].get(1)),n.position=new E(5,4)),this.addChild(this.background),this.addChild(n),this.mouseInteraction=new Zr(this),this.mouseInteraction.on(qn,this.handleMouseEnter.bind(this)),this.mouseInteraction.on(Zn,this.handleMouseLeave.bind(this)),this.mouseInteraction.on(Qn,this.handleMouseClick.bind(this))}handleMouseEnter(){this.opacity=.8}handleMouseLeave(){this.opacity=1}handleMouseClick(){this.action&&this.action()}get width(){return this.background.width}get height(){return this.background.height}};var hr=class extends z{constructor(n,r){super(n);this._size=r}get width(){return this._size?.width||0}get height(){return this._size?.height||0}};var xg={numLayers:2,layers:[[{type:"static",position:{x:0,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:1}},{type:"static",position:{x:32,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:2}},{type:"static",position:{x:64,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:2}},{type:"static",position:{x:0,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:9}},{type:"static",position:{x:0,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:9}},{type:"static",position:{x:0,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:17}},{type:"static",position:{x:32,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:18}},{type:"static",position:{x:64,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:18}},{type:"static",position:{x:96,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:2}},{type:"static",position:{x:128,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:2}},{type:"static",position:{x:160,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:2}},{type:"static",position:{x:192,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:2}},{type:"static",position:{x:224,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:3}},{type:"static",position:{x:224,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:19}},{type:"static",position:{x:224,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:11}},{type:"static",position:{x:224,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:11}},{type:"static",position:{x:192,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:18}},{type:"static",position:{x:160,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:18}},{type:"static",position:{x:128,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:18}},{type:"static",position:{x:96,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:18}}],[{type:"static",position:{x:0,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:33}},{type:"static",position:{x:32,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:64,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:0,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:41}},{type:"static",position:{x:0,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:41}},{type:"static",position:{x:32,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:32,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:64,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:64,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:0,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:49}},{type:"static",position:{x:32,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:64,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:96,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:96,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:128,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:128,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:160,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:160,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:192,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:192,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:96,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:128,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:160,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:224,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:35}},{type:"static",position:{x:192,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:224,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:43}},{type:"static",position:{x:224,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:43}},{type:"static",position:{x:224,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:51}},{type:"static",position:{x:192,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:160,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:128,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:96,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}}]]};var Xt=class extends z{board;menuLayout;constructor(e,n,r){if(super(e),this.board=Lt.fromData(xg),r){let i=new Ve;i.setTextFromCodes([53]);let o=new $t(new E(0,0),i);o.action=r,this.board.addChild(o)}this.menuLayout=new _e(new E(0,0),this.board.size),this.menuLayout.flexDirection="column",this.menuLayout.justifyContent="center",this.menuLayout.alignItems="center",this.menuLayout.gap=8;for(let i of n){let o=new Ve(i.label),s=new $t(new E(0,0),o);s.action=i.action,this.menuLayout.addChild(s)}this.board.addChild(this.menuLayout),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var dI=DI(cI());var uI={numLayers:2,layers:[[{type:"static",position:{x:0,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:5}},{type:"static",position:{x:32,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:6}},{type:"static",position:{x:64,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:6}},{type:"static",position:{x:96,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:7}},{type:"static",position:{x:0,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:13}},{type:"static",position:{x:0,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:13}},{type:"static",position:{x:96,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:15}},{type:"static",position:{x:96,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:15}},{type:"static",position:{x:0,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:21}},{type:"static",position:{x:64,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:22}},{type:"static",position:{x:32,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:22}},{type:"static",position:{x:96,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:23}}],[{type:"static",position:{x:0,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:33}},{type:"static",position:{x:32,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:64,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:34}},{type:"static",position:{x:96,y:0},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:35}},{type:"static",position:{x:0,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:41}},{type:"static",position:{x:0,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:41}},{type:"static",position:{x:32,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:32,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:64,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:64,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:42}},{type:"static",position:{x:96,y:32},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:43}},{type:"static",position:{x:96,y:64},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:43}},{type:"static",position:{x:0,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:49}},{type:"static",position:{x:32,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:64,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:50}},{type:"static",position:{x:96,y:96},texture:{asset:"Wood and Paper UI - Boards",tileset:"Wood and Paper",tileId:51}}]]};var Ii=class extends z{htmlContent;previewCanvas;board;sprite;padding=new E(10,10);constructor(e,n){super(),this.position=e,this.htmlContent=n,this.board=Lt.fromData(uI),this.previewCanvas=document.createElement("canvas"),this.previewCanvas.width=this.drawWidth,this.previewCanvas.height=this.drawHeight,this.sprite=new Ie(Ze.empty(),this.padding),this.board.addChild(this.sprite),this.addChild(this.board),this.renderHtml()}renderHtml(){return Q(this,null,function*(){let e=this.previewCanvas.getContext("2d");if(!e)return;e.clearRect(0,0,this.drawWidth,this.drawHeight);let n=`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body {
              margin: 8px;
              font-family: Arial, sans-serif;
              font-size: 12px;
              line-height: 1.4;
            }
            
            a {
              color: blue;
              text-decoration: underline;
            }
          </style>
        </head>
        <body>${this.htmlContent}</body>
      </html>
    `;try{yield(0,dI.drawHTML)(n,this.previewCanvas,{width:this.drawWidth,height:this.drawHeight,executeJs:!1});let r=yield createImageBitmap(this.previewCanvas),i=Ze.fromImageBitmap(r);this.sprite.texture=i}catch(r){console.error("Error rendering HTML with rasterizehtml:",r)}})}setHtml(e){this.htmlContent!==e&&(this.htmlContent=e,this.renderHtml())}get width(){return this.board.width}get height(){return this.board.height}get drawWidth(){return this.width-this.padding.width*2}get drawHeight(){return this.height-this.padding.height*2}};var Cd={numLayers:6,layers:[[{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:288,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:256,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:160,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:128,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:96,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:64,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:32,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:320,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:288,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:256,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:160,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:128,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:96,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:64,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:32,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}}],[{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:56}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:57}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:8}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:9}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:10}},{type:"animated",position:{x:64,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Big"},animationSpeed:1},{type:"animated",position:{x:256,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Medium"},animationSpeed:1},{type:"animated",position:{x:213,y:329},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Small"},animationSpeed:1}],[{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:10}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:4}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:11}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:8}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:7}},{type:"animated",position:{x:448,y:192},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Left"},animationSpeed:.1},{type:"animated",position:{x:224,y:301},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:128,y:264},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:2,y:201},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Right"},animationSpeed:.1}],[{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:16}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:24}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:19}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:27}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:15}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:1}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}}],[{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:6}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:7}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:8}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:12}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:13}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"animated",position:{x:192,y:111},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.5},{type:"animated",position:{x:416,y:207},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3},{type:"animated",position:{x:320,y:239},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.4},{type:"animated",position:{x:32,y:272},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3}],[{type:"static",position:{x:96,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:288,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:0,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:32,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}}]]};var wi=class{frameCount;startTime;currentFps;constructor(){this.frameCount=0,this.startTime=0,this.currentFps=0}advance(e){this.startTime===0&&(this.startTime=e);let n=e-this.startTime;this.frameCount+=1,this.currentFps=1e3/(n/this.frameCount),n>=1e4&&(this.startTime=e,this.frameCount=0)}get fps(){return this.currentFps}};var bi=class extends it{debugLayer;engine;previousScene;renderFpsCounter=new wi;physicsFpsCounter=new wi;debugLines=[];_enablePhysicsDebugLines=!1;_enableGridLines=!1;_enableFps=!1;_enableHoverHighlight=!1;_enableFlexDebugLines=!1;hoveredObject;gridSize=new E(32,32);constructor(e){super(),this.debugLayer=document.createElement("div"),this.debugLayer.style.position="absolute",this.debugLayer.style.top="20px",this.debugLayer.style.left="20px",this.debugLayer.style.padding="4px",this.debugLayer.style.background="red",e.appendChild(this.debugLayer),this.on(at,this.onTick.bind(this)),this.on(lt,this.onPhysicsTick.bind(this)),this.on(Pt,this.onMouseMove.bind(this))}set enablePhysicsDebugLines(e){this._enablePhysicsDebugLines=e}set enableGridLines(e){this._enableGridLines=e}set enableFps(e){this._enableFps=e}set enableHoverHighlight(e){this._enableHoverHighlight=e}set enableFlexDebugLines(e){this._enableFlexDebugLines=e}attachTo(e){this.engine=e,e.on(pn,n=>{this.attachToScene(n.scene)})}attachToScene(e){this.previousScene&&this.previousScene.removeChild(this),e.addChild(this,99999),this.previousScene=e}onTick(e){this._enableFps&&this.renderFpsCounter.advance(e.currentTime)}onPhysicsTick(e){this._enableFps&&this.physicsFpsCounter.advance(e.currentTime),this._enablePhysicsDebugLines&&(this.debugLines=e.simulation.getDebugInformation())}onMouseMove(e){if(!this._enableHoverHighlight||!this.previousScene){this.hoveredObject=void 0;return}this.hoveredObject=this.getObjectAt(e.point)}getObjectAt(e){if(!this.previousScene)return;let n=ce.childrenByType(z,this.previousScene);for(let r=n.length-1;r>=0;r--){let i=n[r],o=i.position.left,s=i.position.left+i.width,a=i.position.top,c=i.position.top+i.height;if(o<=e.x&&e.x<=s&&a<=e.y&&e.y<=c)return i}}draw(e){if(this._enableGridLines){let n=this.engine?.viewport.width||0,r=this.engine?.viewport.height||0;for(let i=this.gridSize.width;i<n;i+=this.gridSize.width)e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.2",e.moveTo(i,0),e.lineTo(i,r),e.stroke();for(let i=this.gridSize.height;i<r;i+=this.gridSize.height)e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.2",e.moveTo(0,i),e.lineTo(n,i),e.stroke();e.beginPath(),e.strokeStyle="#ff0000",e.rect(0,0,n,r),e.stroke()}if(this._enableFps){let n=`${this.renderFpsCounter.fps.toFixed(0)} / ${this.physicsFpsCounter.fps.toFixed(0)}`;this.debugLayer.innerText!==n&&(this.debugLayer.innerText=n)}if(this._enablePhysicsDebugLines)for(let n of this.debugLines)e.beginPath(),e.strokeStyle=n.color,e.moveTo(n.from.x,n.from.y),e.lineTo(n.to.x,n.to.y),e.stroke();if(this._enableHoverHighlight&&this.hoveredObject){let n=this.hoveredObject;e.beginPath(),e.strokeStyle="#00ff00",e.lineWidth=2,e.rect(n.position.left,n.position.top,n.width,n.height),e.stroke(),e.lineWidth=1}this._enableFlexDebugLines&&this.previousScene&&this.drawFlexDebugLines(e)}drawFlexDebugLines(e){if(!this.previousScene)return;let n=ce.childrenByType(_e,this.previousScene);for(let r of n){let i=r.position,o=i.x,s=i.y,a=r.width,c=r.height;e.beginPath(),e.strokeStyle="#0088ff",e.lineWidth=2,e.rect(o,s,a,c),e.stroke(),e.fillStyle="#0088ff",e.font="10px monospace";let l=`${r.flexDirection} | ${r.justifyContent} | ${r.alignItems}`;e.fillText(l,o+4,s+12);let u=r.children.filter(p=>p instanceof z);for(let p of u){let d=p.position,f=d.x,h=d.y;e.beginPath(),e.strokeStyle="#ff8800",e.lineWidth=1,e.rect(f,h,p.width,p.height),e.stroke(),e.beginPath(),e.strokeStyle="#ff0000",e.lineWidth=1,e.moveTo(f-3,h),e.lineTo(f+3,h),e.moveTo(f,h-3),e.lineTo(f,h+3),e.stroke()}if(r.gap>0&&u.length>1){let p=r.flexDirection==="row";e.strokeStyle="#ff00ff",e.lineWidth=1,e.setLineDash([2,2]);for(let d=0;d<u.length-1;d++){let f=u[d],h=u[d+1],x=f.position,v=h.position;if(p){let b=x.x+f.width,g=v.x,m=s+c/2;e.beginPath(),e.moveTo(b,m),e.lineTo(g,m),e.stroke()}else{let b=x.y+f.height,g=v.y,m=o+a/2;e.beginPath(),e.moveTo(m,b),e.lineTo(m,g),e.stroke()}}e.setLineDash([])}e.lineWidth=1}}};var Ei=class extends Nt{constructor(n,r){super();this.loadingAssetPath=n;this.charsAssetInfo=r}progressText;contentLayout;run(){return Q(this,null,function*(){let n=new cr;yield n.init({Loading:{path:this.loadingAssetPath}},{Chars:this.charsAssetInfo}),le.set("chars",n.chars);let r=new $e(n.assets.Loading.animations["Big Map"]);r.animationSpeed=.5,this.progressText=new Ve("",2),this.progressText.fillColor="#ffffff",this.progressText.setText("0%"),this.contentLayout=new _e(new E(0,0),new E(r.width,r.height+50)),this.contentLayout.flexDirection="column",this.contentLayout.justifyContent="center",this.contentLayout.alignItems="center",this.contentLayout.gap=0,this.contentLayout.addChild(r),this.contentLayout.addChild(this.progressText);let i=new _e(new E(0,0),le.get("viewport"));i.justifyContent="center",i.alignItems="center",i.addChild(this.contentLayout),this.addChild(i)})}loadAssets(n,r){return Q(this,null,function*(){let i=new cr;yield i.init(n,r,o=>{this.updateProgress(o.percentage)}),le.set("assets",i.assets),le.set("chars",i.chars)})}updateProgress(n){if(this.progressText){let r=Math.floor(n).toString()+"%";this.progressText.setText(r),this.contentLayout&&this.contentLayout.layout()}}};var vr=class extends Nt{constructor(e,n){super();let r=le.get("viewport"),i=new Xt(new E(0,0),e,n),o=new _e(new E(0,0),r);o.justifyContent="center",o.alignItems="center",o.addChild(i),this.addChild(o)}};function _d(t){return new E(t.x,t.y)}var _n={levels:[{id:1,name:"Level 1 - Emphasis",playerStart:{x:64,y:64},tags:[{position:{x:50,y:32},text:"<em>"},{position:{x:130,y:32},text:"</em>"},{position:{x:180,y:32},text:"text"}],solution:"<em> text </em>"},{id:2,name:"Level 2 - Strong Tag",playerStart:{x:96,y:64},tags:[{position:{x:280,y:96},text:"text"},{position:{x:50,y:160},text:"</strong>"},{position:{x:200,y:224},text:"bold"},{position:{x:150,y:288},text:"<strong>"}],solution:"<strong> bold text </strong>"},{id:3,name:"Level 3 - Nested Tags",playerStart:{x:128,y:64},tags:[{position:{x:400,y:96},text:"</p>"},{position:{x:160,y:128},text:"nested"},{position:{x:240,y:160},text:"</em>"},{position:{x:80,y:192},text:"<em>"},{position:{x:320,y:224},text:"<p>"}],solution:"<p> <em> nested </em> </p>"},{id:4,name:"Level 4 - Link Tag",playerStart:{x:64,y:96},tags:[{position:{x:260,y:160},text:"here"},{position:{x:340,y:192},text:"</a>"},{position:{x:100,y:224},text:"<a>"},{position:{x:180,y:256},text:"click"}],solution:"<a> click here </a>"}]};var oM=700,sM=800,aM=900,fI=1e3,xi=class extends Nt{currentLevel;onExit;onWin;pauseMenu;winMenu;menuButton;levelNameText;uiLayout;htmlPreview;targetLayout;solutionToggleButton;solutionToggleButtonText;isPaused=!1;hasWon=!1;isCtrlPressed=!1;showSolutionToggle=!1;constructor(e=1,n,r){super();let o=_n.levels.find(s=>s.id===e);if(!o)throw new Error(`Level with id ${e} not found`);this.currentLevel=o,this.onExit=n,this.onWin=r,this.on(Te,this.handleKeyboardInput.bind(this)),this.run()}run(){return Q(this,null,function*(){function e(u,p){let d=new ur(u);return d.addChild(new hr(u,p)),d}function n(u,p){let d=new ur(u);return d.addChild(new hr(u,p)),d.filterCollisionFn=({collider:f,velocity:h})=>!(f instanceof Ke&&i||f instanceof Ke&&h.y<=0),d}function r(u,p){let d=new Ft(u,p);return d.filterCollisionFn=({collider:f,velocity:h})=>!(f instanceof Ke&&i||f instanceof Ke&&h.y<=0),d}let i=!1,o,s=Lt.fromData(Cd);this.addChild(s),this.addChild(e(new E(0,0),new E(32,384))),this.addChild(e(new E(480,0),new E(32,384))),this.addChild(e(new E(32,0),new E(448,32))),this.addChild(e(new E(32,352),new E(448,32))),this.addChild(e(new E(352,288),new E(128,64)));for(let u=6;u<=10;u+=1)this.addChild(n(new E(32,2+32*u),new E(288,1)));this.addChild(n(new E(344,258),new E(22,1))),this.addChild(n(new E(440,226),new E(22,1))),this.addChild(n(new E(216,130),new E(22,1)));let a=new fr(_d(this.currentLevel.playerStart));this.addChild(a,oM),this.addChild(a.ghost,aM),this.currentLevel.tags.forEach(u=>{this.addChild(r(_d(u.position),u.text),sM)}),this.on(En,u=>{i=u.start}),this.on(dr,()=>{if(o)o=void 0;else{let u=a.checkFutureIntersection(new E(0,1),p=>p instanceof Ft);u&&(o=u)}ce.childrenByType(Ft,this).forEach(u=>u.wakeUp())}),this.on(at,()=>{if(o&&!this.hasWon)o.position=a.position.add(new E(a.pointing===0?24:38,8));else if(!this.hasWon){let p=ce.childrenByType(Ft,this),d=16;p.sort((h,x)=>Math.abs(h.position.y-x.position.y)<d?h.position.x-x.position.x:h.position.y-x.position.y);let f=p.map(h=>h.text).join(" ");this.htmlPreview&&(this.isCtrlPressed||this.showSolutionToggle?this.htmlPreview.setHtml(this.currentLevel.solution):this.htmlPreview.setHtml(f)),f===this.currentLevel.solution&&this.showWinMenu()}a.updateGhostPosition();let u=a.checkAllCurrentIntersections(p=>p instanceof Ft);u.length>0?(a.ghostGraphics.clipRegion=u.map(p=>{let d=p.collider;return{item:p,position:new E(d.position.x,d.position.y)}}),a.ghostGraphics.isVisible=!0):(a.ghostGraphics.clipRegion=void 0,a.ghostGraphics.isVisible=!1)});let c=le.get("viewport");this.levelNameText=new Ve(this.currentLevel.name),this.levelNameText.fillColor="#639d6d";let l=new Ve("Menu");this.menuButton=new $t(new E(0,0),l),this.menuButton.action=()=>{this.showPauseMenu()},this.uiLayout=new _e(new E(0,c.height-60),new E(c.width,60)),this.uiLayout.flexDirection="column",this.uiLayout.justifyContent="flex-end",this.uiLayout.alignItems="flex-end",this.uiLayout.padding=new E(8,8),this.uiLayout.addChild(this.menuButton),this.uiLayout.addChild(this.levelNameText),this.addChild(this.uiLayout),this.htmlPreview=new Ii(new E(0,0),""),this.solutionToggleButtonText=new Ve("Show Solution"),this.solutionToggleButton=new $t(new E(0,0),this.solutionToggleButtonText),this.solutionToggleButton.action=()=>{this.showSolutionToggle=!this.showSolutionToggle,this.solutionToggleButtonText&&this.solutionToggleButtonText.setText(this.showSolutionToggle?"Hide Solution":"Show Solution")},this.targetLayout=new _e(new E(0,0),c),this.targetLayout.flexDirection="column",this.targetLayout.justifyContent="flex-start",this.targetLayout.alignItems="flex-end",this.targetLayout.padding=new E(8,8),this.targetLayout.gap=4,this.targetLayout.addChild(this.htmlPreview),this.targetLayout.addChild(this.solutionToggleButton),this.addChild(this.targetLayout)})}handleKeyboardInput(e){e instanceof Te&&(e.key==="Control"&&(this.isCtrlPressed=e.action===0,this.solutionToggleButtonText&&(this.isCtrlPressed?this.solutionToggleButtonText.setText("Hide Solution"):this.solutionToggleButtonText.setText(this.showSolutionToggle?"Hide Solution":"Show Solution"))),e.action===0&&e.key==="Escape"&&(this.isPaused?this.hidePauseMenu():this.showPauseMenu()))}showPauseMenu(){if(this.isPaused)return;this.isPaused=!0,this.uiLayout&&(this.uiLayout.isVisible=!1);let e=le.get("viewport"),n=new z;n.fillColor="rgba(0, 0, 0, 0.5)";let r=new Xt(new E(0,0),[{label:"Continue",action:()=>{this.hidePauseMenu()}},{label:"Exit",action:()=>{this.hidePauseMenu(),this.onExit&&this.onExit()}}]),i=new _e(new E(0,0),e);i.justifyContent="center",i.alignItems="center",i.addChild(r),this.pauseMenu=i,this.addChild(this.pauseMenu,fI)}hidePauseMenu(){!this.isPaused||!this.pauseMenu||(this.isPaused=!1,this.removeChild(this.pauseMenu),this.pauseMenu=void 0,this.uiLayout&&(this.uiLayout.isVisible=!0))}showWinMenu(){if(this.hasWon)return;this.hasWon=!0,this.uiLayout&&(this.uiLayout.isVisible=!1);let e=le.get("viewport"),n=new z;n.fillColor="rgba(0, 0, 0, 0.5)";let r=[];this.onWin&&r.push({label:"Next level",action:()=>{this.onWin&&this.onWin()}}),r.push({label:"Exit",action:()=>{this.onExit&&this.onExit()}});let i=new Xt(new E(0,0),r),o=new _e(new E(0,0),e);o.justifyContent="center",o.alignItems="center",o.addChild(i),this.winMenu=o,this.addChild(this.winMenu,fI)}};var Xo={dynamic:{"Captain Clown Nose":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Captain Clown Nose.aseprite"},"Captain Clown Nose Dialogue":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dialogue.aseprite"},"Captain Clown Nose Dust Particles":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dust Particles.aseprite"},"Merchant Ship":{path:"./sprites/Treasure Hunters/Merchant Ship/Aseprite/Merchant Ship.aseprite"},"Palm Tree Island":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree Island (ArtBoard).aseprite"},"Palm Tree Island Chest":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Chest.aseprite"},"Palm Tree Island Flag":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Flag.aseprite"},"Palm Tree Island Palm Tree":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree.aseprite"},"Palm Tree Island Ship Helm":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Ship Helm.aseprite"},"Palm Tree Island Water Reflect":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Water Reflect.aseprite"},"Pirate Ship":{path:"./sprites/Treasure Hunters/Pirate Ship/Aseprite/TileSets.aseprite"},"Pirate Ship Decorations":{path:"./sprites/Treasure Hunters/Pirate Ship/Aseprite/Decorations.aseprite"},"Pirate Treasure":{path:"./sprites/Treasure Hunters/Pirate Treasure/Aseprite/Pirate Treasure.aseprite"},"Shooter Traps":{path:"./sprites/Treasure Hunters/Shooter Traps/Aseprite/Shooter Traps.aseprite"},"The Crusty Crew Crabby":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Crabby.aseprite"},"The Crusty Crew Dialogue":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dialogue.aseprite"},"The Crusty Crew Dust Particles":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dust Particles.aseprite"},"The Crusty Crew Fierce Tooth":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Fierce Tooth.aseprite"},"The Crusty Crew Pink Star":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Pink Star.aseprite"},"Wood and Paper UI":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper.aseprite"},"Wood and Paper UI - Boards":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Boards.aseprite"},"Wood and Paper UI - Buttons Large":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Buttons Large.aseprite"},"Wood and Paper UI - Buttons":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Buttons.aseprite"},"Wood and Paper UI Button Cooldown":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Button Cooldown.aseprite"},Paper:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Paper.aseprite"},Chars:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite"}},chars:{Chars:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite",map:{__unknown__:81," ":0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26,"1":27,"2":28,"3":29,"4":30,"5":31,"6":32,"7":33,"8":34,"9":35,"0":36,"-":37,"%":78,"/":40,"<":85,">":86}}},loading:"./sprites/Treasure Hunters/Loading.aseprite"};var cM=["game"],uM=["canvas"],Wa=class t{gameElement;canvasElement;renderer;viewport=new E(512,384);resizeListener;constructor(){le.set("viewport",this.viewport)}ngAfterViewInit(){return Q(this,null,function*(){let e=this.gameElement?.nativeElement,n=this.canvasElement?.nativeElement;if(!e)throw new Error("Game element not found!");if(!n)throw new Error("Game canvas not found!");this.resizeListener=()=>this.onResize(e),window.addEventListener("resize",this.resizeListener);let r=this.calculateZoom(e);this.renderer=new oi(n,r);let i=new Br(this.viewport,this.renderer,new si,[new Ur(document.documentElement),new Wr(n,this.renderer.globalToLocalPoint.bind(this.renderer))]);new bi(e).attachTo(i),i.start(200,200);let s=new Ei(Xo.loading,Xo.chars.Chars);i.loadScene(s),yield s.run(),yield s.loadAssets(Xo.dynamic,Xo.chars);let a=new vr([{label:"HTML Mode",action:()=>{let c=p=>{let d=_n.levels.findIndex(h=>h.id===p),f=d<_n.levels.length-1;i.loadScene(new xi(p,()=>{i.loadScene(a)},f?()=>{let h=_n.levels[d+1];c(h.id)}:()=>{i.loadScene(u)}))},l=_n.levels.map(p=>({label:p.name,action:()=>{c(p.id)}})),u=new vr(l,()=>{i.loadScene(a)});i.loadScene(u)}}]);i.loadScene(a)})}ngOnDestroy(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}calculateZoom(e){let n=e.clientWidth,r=e.clientHeight,i=n/this.viewport.width,o=r/this.viewport.height;return Math.min(i,o)}onResize(e){if(!this.renderer)return;let n=this.calculateZoom(e);this.renderer.setZoom(n),this.renderer.setViewport(this.viewport)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Bc({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&Ys(cM,5)(uM,5),n&2){let i;Ks(i=Xs())&&(r.gameElement=i.first),Ks(i=Xs())&&(r.canvasElement=i.first)}},decls:4,vars:0,consts:[["game",""],["canvas",""],[1,"main"]],template:function(n,r){n&1&&(no(0,"div",2,0),Qs(2,"canvas",null,1),ro())},styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}"]})};iu(Wa,{providers:[Hh()]}).catch(t=>console.error(t));
