var Mp=Object.defineProperty,Np=Object.defineProperties;var kp=Object.getOwnPropertyDescriptors;var jl=Object.getOwnPropertySymbols;var Ap=Object.prototype.hasOwnProperty,Pp=Object.prototype.propertyIsEnumerable;var Hl=(e,t,n)=>t in e?Mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,le=(e,t)=>{for(var n in t||={})Ap.call(t,n)&&Hl(e,n,t[n]);if(jl)for(var n of jl(t))Pp.call(t,n)&&Hl(e,n,t[n]);return e},Se=(e,t)=>Np(e,kp(t));var A=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var $o=null;var $l=1;var ln=Symbol("SIGNAL");function S(e){let t=$o;return $o=e,t}function mi(){return $o}var Uo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bl(e){if(!(yi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$l)){if(!e.producerMustRecompute(e)&&!zo(e)){Bo(e);return}e.producerRecomputeValue(e),Bo(e)}}function Bo(e){e.dirty=!1,e.lastCleanEpoch=$l}function Wo(e){return e&&Ul(e),S(e)}function Ul(e){e.producersTail=void 0,e.recomputing=!0}function Wl(e,t){S(t),e&&zl(e)}function zl(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(yi(e))do n=Go(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function zo(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Bl(n),r!==n.version))return!0}return!1}function gi(e){if(yi(e)){let t=e.producers;for(;t!==void 0;)t=Go(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Go(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!yi(t)){let o=t.producers;for(;o!==void 0;)o=Go(o)}return n}function yi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Rp(){throw new Error}var Op=Rp;function qo(e){Op=e}function ie(e){return typeof e=="function"}function vi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ii=vi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function nr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var X=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){t=o instanceof Ii?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gl(o)}catch(s){t=t??[],s instanceof Ii?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ii(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Gl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&nr(n,t)}remove(t){let{_finalizers:n}=this;n&&nr(n,t),t instanceof e&&t._removeParent(this)}};X.EMPTY=(()=>{let e=new X;return e.closed=!0,e})();var Zo=X.EMPTY;function Ei(e){return e instanceof X||e&&"closed"in e&&ie(e.remove)&&ie(e.add)&&ie(e.unsubscribe)}function Gl(e){ie(e)?e():e.unsubscribe()}var Me={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cn={setTimeout(e,t,...n){let{delegate:r}=cn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=cn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ql(e){cn.setTimeout(()=>{let{onUnhandledError:t}=Me;if(t)t(e);else throw e})}function Qo(){}var Zl=Yo("C",void 0,void 0);function Ql(e){return Yo("E",void 0,e)}function Yl(e){return Yo("N",e,void 0)}function Yo(e,t,n){return{kind:e,value:t,error:n}}var xt=null;function un(e){if(Me.useDeprecatedSynchronousErrorHandling){let t=!xt;if(t&&(xt={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=xt;if(xt=null,n)throw r}}else e()}function Kl(e){Me.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=e)}var Dt=class extends X{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ei(t)&&t.add(this)):this.destination=Vp}static create(t,n,r){return new dn(t,n,r)}next(t){this.isStopped?Xo(Yl(t),this):this._next(t)}error(t){this.isStopped?Xo(Ql(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xo(Zl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lp=Function.prototype.bind;function Ko(e,t){return Lp.call(e,t)}var Jo=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){_i(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){_i(r)}else _i(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){_i(n)}}},dn=class extends Dt{constructor(t,n,r){super();let i;if(ie(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Me.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ko(t.next,o),error:t.error&&Ko(t.error,o),complete:t.complete&&Ko(t.complete,o)}):i=t}this.destination=new Jo(i)}};function _i(e){Me.useDeprecatedSynchronousErrorHandling?Kl(e):ql(e)}function Fp(e){throw e}function Xo(e,t){let{onStoppedNotification:n}=Me;n&&cn.setTimeout(()=>n(e,t))}var Vp={closed:!0,next:Qo,error:Fp,complete:Qo};var Xl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jl(e){return e}function ec(e){return e.length===0?Jl:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var fn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Hp(n)?n:new dn(n,r,i);return un(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tc(r),new r((i,o)=>{let s=new dn({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xl](){return this}pipe(...n){return ec(n)(this)}toPromise(n){return n=tc(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function tc(e){var t;return(t=e??Me.Promise)!==null&&t!==void 0?t:Promise}function jp(e){return e&&ie(e.next)&&ie(e.error)&&ie(e.complete)}function Hp(e){return e&&e instanceof Dt||jp(e)&&Ei(e)}function $p(e){return ie(e?.lift)}function nc(e){return t=>{if($p(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rc(e,t,n,r,i){return new es(e,t,n,r,i)}var es=class extends Dt{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var ic=vi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class e extends fn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wi(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ic}next(n){un(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){un(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){un(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zo:(this.currentObservers=null,o.push(n),new X(()=>{this.currentObservers=null,nr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new fn;return n.source=this,n}}return e.create=(t,n)=>new wi(t,n),e})(),wi=class extends Xe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Zo}};var rr=class extends Xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function ts(e,t){return nc((n,r)=>{let i=0;n.subscribe(rc(r,o=>{r.next(e.call(t,o,i++))}))})}var ns;function Ti(){return ns}function $e(e){let t=ns;return ns=e,t}var oc=Symbol("NotFound");function pn(e){return e===oc||e?.name==="\u0275NotFound"}var N=class extends Error{code;constructor(t,n){super(vs(t,n)),this.code=t}};function qp(e){return`NG0${Math.abs(e)}`}function vs(e,t){return`${qp(e)}${t?": "+t:""}`}function F(e){for(let t in e)if(e[t]===F)return t;throw Error("")}function Mt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Mt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Is(e,t){return e?t?`${e} ${t}`:e:t||""}var Zp=F({__forward_ref__:F});function Es(e){return e.__forward_ref__=Es,e.toString=function(){return Mt(this())},e}function ge(e){return dc(e)?e():e}function dc(e){return typeof e=="function"&&e.hasOwnProperty(Zp)&&e.__forward_ref__===Es}function G(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _s(e){return Qp(e,ws)}function Qp(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Yp(e){let t=e?.[ws]??null;return t||null}function is(e){return e&&e.hasOwnProperty(os)?e[os]:null}var ws=F({\u0275prov:F}),os=F({\u0275inj:F}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fc(e){return e&&!!e.\u0275providers}var pc=F({\u0275cmp:F}),hc=F({\u0275dir:F}),mc=F({\u0275pipe:F});var ss=F({\u0275fac:F}),vn=F({__NG_ELEMENT_ID__:F}),sc=F({__NG_ENV_ID__:F});function Pt(e){return bs(e,"@Component"),e[pc]||null}function Ts(e){return bs(e,"@Directive"),e[hc]||null}function gc(e){return bs(e,"@Pipe"),e[mc]||null}function bs(e,t){if(e==null)throw new N(-919,!1)}function yc(e){return typeof e=="string"?e:e==null?"":String(e)}function vc(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():yc(e)}var Ic=F({ngErrorCode:F}),Kp=F({ngErrorMessage:F}),Xp=F({ngTokenPath:F});function Cs(e,t){return Ec("",-200,t)}function Mi(e,t){throw new N(-201,!1)}function Ec(e,t,n){let r=new N(t,e);return r[Ic]=t,r[Kp]=e,n&&(r[Xp]=n),r}function Jp(e){return e[Ic]}var as;function _c(){return as}function ce(e){let t=as;return as=e,t}function xs(e,t,n){let r=_s(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Mi(e,"")}var eh={},St=eh,th="__NG_DI_FLAG__",ls=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=mn(n)||0;try{return this.injector.get(t,r&8?null:St,r)}catch(i){if(pn(i))return i;throw i}}};function nh(e,t=0){let n=Ti();if(n===void 0)throw new N(-203,!1);if(n===null)return xs(e,void 0,t);{let r=rh(t),i=n.retrieve(e,r);if(pn(i)){if(r.optional)return null;throw i}return i}}function V(e,t=0){return(_c()||nh)(ge(e),t)}function M(e,t){return V(e,mn(t))}function mn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rh(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function cs(e){let t=[];for(let n=0;n<e.length;n++){let r=ge(e[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=ih(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(V(i,o))}else t.push(V(r))}return t}function ih(e){return e[th]}function gn(e,t){let n=e.hasOwnProperty(ss);return n?e[ss]:null}function wc(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Tc(e){return e.flat(Number.POSITIVE_INFINITY)}function Ni(e,t){e.forEach(n=>Array.isArray(n)?Ni(n,t):t(n))}function Ds(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ar(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Rt={},Nt=[],Ot=new P(""),bc=new P("",-1),Ss=new P(""),or=class{get(t,n=St){if(n===St){let i=Ec("",-201);throw i.name="\u0275NotFound",i}return n}};function Ms(e){return{\u0275providers:e}}function oh(...e){return{\u0275providers:Ns(!0,e),\u0275fromNgModule:!0}}function Ns(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ni(t,s=>{let a=s;Ci(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Cc(i,o),n}function Cc(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];ks(i,o=>{t(o,r)})}}function Ci(e,t,n,r){if(e=ge(e),!e)return!1;let i=null,o=is(e),s=!o&&Pt(e);if(!o&&!s){let c=e.ngModule;if(o=is(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ci(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ni(o.imports,u=>{Ci(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Cc(l,t)}if(!a){let l=gn(i)||(()=>new i);t({provide:i,useFactory:l,deps:Nt},i),t({provide:Ss,useValue:i,multi:!0},i),t({provide:Ot,useValue:()=>V(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;ks(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function ks(e,t){for(let n of e)fc(n)&&(n=n.\u0275providers),Array.isArray(n)?ks(n,t):t(n)}var sh=F({provide:String,useValue:F});function xc(e){return e!==null&&typeof e=="object"&&sh in e}function ah(e){return!!(e&&e.useExisting)}function lh(e){return!!(e&&e.useFactory)}function xi(e){return typeof e=="function"}var lr=new P(""),bi={},ac={},rs;function cr(){return rs===void 0&&(rs=new or),rs}var Ne=class{},yn=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ds(t,s=>this.processProvider(s)),this.records.set(bc,hn(void 0,this)),i.has("environment")&&this.records.set(Ne,hn(void 0,this));let o=this.records.get(lr);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ss,Nt,{self:!0}))}retrieve(t,n){let r=mn(n)||0;try{return this.get(t,St,r)}catch(i){if(pn(i))return i;throw i}}destroy(){ir(this),this._destroyed=!0;let t=S(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(t)}}onDestroy(t){return ir(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ir(this);let n=$e(this),r=ce(void 0),i;try{return t()}finally{$e(n),ce(r)}}get(t,n=St,r){if(ir(this),t.hasOwnProperty(sc))return t[sc](this);let i=mn(r),o,s=$e(this),a=ce(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=ph(t)&&_s(t);u&&this.injectableDefInScope(u)?l=hn(us(t),bi):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?cr():this.parent;return n=i&8&&n===St?null:n,c.get(t,n)}catch(c){let l=Jp(c);throw l===-200||l===-201?new N(l,null):c}finally{ce(a),$e(s)}}resolveInjectorInitializers(){let t=S(null),n=$e(this),r=ce(void 0),i;try{let o=this.get(Ot,Nt,{self:!0});for(let s of o)s()}finally{$e(n),ce(r),S(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Mt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ge(t);let n=xi(t)?t:ge(t&&t.provide),r=uh(t);if(!xi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=hn(void 0,bi,!0),i.factory=()=>cs(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=S(null);try{if(n.value===ac)throw Cs(Mt(t));return n.value===bi&&(n.value=ac,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&fh(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{S(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ge(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function us(e){let t=_s(e),n=t!==null?t.factory:gn(e);if(n!==null)return n;if(e instanceof P)throw new N(204,!1);if(e instanceof Function)return ch(e);throw new N(204,!1)}function ch(e){if(e.length>0)throw new N(204,!1);let n=Yp(e);return n!==null?()=>n.factory(e):()=>new e}function uh(e){if(xc(e))return hn(void 0,e.useValue);{let t=Dc(e);return hn(t,bi)}}function Dc(e,t,n){let r;if(xi(e)){let i=ge(e);return gn(i)||us(i)}else if(xc(e))r=()=>ge(e.useValue);else if(lh(e))r=()=>e.useFactory(...cs(e.deps||[]));else if(ah(e))r=(i,o)=>V(ge(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ge(e&&(e.useClass||e.provide));if(dh(e))r=()=>new i(...cs(e.deps));else return gn(i)||us(i)}return r}function ir(e){if(e.destroyed)throw new N(205,!1)}function hn(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dh(e){return!!e.deps}function fh(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ph(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function ds(e,t){for(let n of e)Array.isArray(n)?ds(n,t):n&&fc(n)?ds(n.\u0275providers,t):t(n)}function ki(e,t){let n;e instanceof yn?(ir(e),n=e):n=new ls(e);let r,i=$e(n),o=ce(void 0);try{return t()}finally{$e(i),ce(o)}}function Sc(){return _c()!==void 0||Ti()!=null}var ke=0,T=1,w=2,Y=3,ye=4,ve=5,ur=6,dr=7,ue=8,Lt=9,tt=10,Ie=11,In=12,As=13,En=14,Ae=15,ct=16,Ft=17,Be=18,fr=19,Ps=20,Je=21,Ai=22,pr=23,de=24,Pi=25,hr=26,Ue=27,Mc=1;var ut=7,mr=8,Vt=9,te=10;function nt(e){return Array.isArray(e)&&typeof e[Mc]=="object"}function Pe(e){return Array.isArray(e)&&e[Mc]===!0}function Rs(e){return(e.flags&4)!==0}function gr(e){return e.componentOffset>-1}function Nc(e){return(e.flags&1)===1}function _n(e){return!!e.template}function wn(e){return(e[w]&512)!==0}function jt(e){return(e[w]&256)===256}var kc="svg",Ac="math";function We(e){for(;Array.isArray(e);)e=e[ke];return e}function dt(e,t){return We(t[e.index])}function Os(e,t){return e.data[t]}function ft(e,t){let n=t[e];return nt(n)?n:n[ke]}function Pc(e){return(e[w]&4)===4}function Ri(e){return(e[w]&128)===128}function Rc(e){return Pe(e[Y])}function yr(e,t){return t==null?null:e[t]}function Ls(e){e[Ft]=0}function Fs(e){e[w]&1024||(e[w]|=1024,Ri(e)&&Ir(e))}function vr(e){return!!(e[w]&9216||e[de]?.dirty)}function Oi(e){e[tt].changeDetectionScheduler?.notify(8),e[w]&64&&(e[w]|=1024),vr(e)&&Ir(e)}function Ir(e){e[tt].changeDetectionScheduler?.notify(0);let t=lt(e);for(;t!==null&&!(t[w]&8192||(t[w]|=8192,!Ri(t)));)t=lt(t)}function Vs(e,t){if(jt(e))throw new N(911,!1);e[Je]===null&&(e[Je]=[]),e[Je].push(t)}function Oc(e,t){if(e[Je]===null)return;let n=e[Je].indexOf(t);n!==-1&&e[Je].splice(n,1)}function lt(e){let t=e[Y];return Pe(t)?t[Y]:t}function Lc(e){return e[dr]??=[]}function Fc(e){return e.cleanup??=[]}function Vc(e,t,n,r){let i=Lc(t);i.push(n),e.firstCreatePass&&Fc(e).push(r,i.length-1)}var j={lFrame:Xc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fs=!1;function jc(){return j.lFrame.elementDepthCount}function Hc(){j.lFrame.elementDepthCount++}function $c(){j.lFrame.elementDepthCount--}function Bc(){return j.skipHydrationRootTNode!==null}function Uc(e){return j.skipHydrationRootTNode===e}function Wc(){j.skipHydrationRootTNode=null}function Ee(){return j.lFrame.lView}function js(){return j.lFrame.tView}function pt(){let e=Hs();for(;e!==null&&e.type===64;)e=e.parent;return e}function Hs(){return j.lFrame.currentTNode}function zc(){let e=j.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Li(e,t){let n=j.lFrame;n.currentTNode=e,n.isParent=t}function $s(){return j.lFrame.isParent}function Gc(){j.lFrame.isParent=!1}function Bs(){return fs}function Us(e){let t=fs;return fs=e,t}function qc(e){return j.lFrame.bindingIndex=e}function Zc(){return j.lFrame.inI18n}function Qc(e,t){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fi(t)}function Yc(){return j.lFrame.currentDirectiveIndex}function Fi(e){j.lFrame.currentDirectiveIndex=e}function Ws(){return j.lFrame.currentQueryIndex}function Vi(e){j.lFrame.currentQueryIndex=e}function hh(e){let t=e[T];return t.type===2?t.declTNode:t.type===1?e[ve]:null}function zs(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=hh(o),i===null||(o=o[En],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=j.lFrame=Kc();return r.currentTNode=t,r.lView=e,!0}function ji(e){let t=Kc(),n=e[T];j.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Kc(){let e=j.lFrame,t=e===null?null:e.child;return t===null?Xc(e):t}function Xc(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Jc(){let e=j.lFrame;return j.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Gs=Jc;function Hi(){let e=Jc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function eu(){return j.lFrame.selectedIndex}function ht(e){j.lFrame.selectedIndex=e}function tu(){return j.lFrame.currentNamespace}var nu=!0;function ru(){return nu}function iu(e){nu=e}function lc(e,t=null,n=null,r){let i=ou(e,t,n,r);return i.resolveInjectorInitializers(),i}function ou(e,t=null,n=null,r,i=new Set){let o=[n||Nt,oh(e)];return r=r||(typeof e=="object"?void 0:Mt(e)),new yn(o,t||cr(),r||null,i)}var kt=class e{static THROW_IF_NOT_FOUND=St;static NULL=new or;static create(t,n){if(Array.isArray(t))return lc({name:""},n,t,"");{let r=t.name??"";return lc({name:r},t.parent,t.providers,r)}}static \u0275prov=G({token:e,providedIn:"any",factory:()=>V(bc)});static __NG_ELEMENT_ID__=-1},Re=new P(""),$i=(()=>{class e{static __NG_ELEMENT_ID__=mh;static __NG_ENV_ID__=n=>n}return e})(),ps=class extends $i{_lView;constructor(t){super(),this._lView=t}get destroyed(){return jt(this._lView)}onDestroy(t){let n=this._lView;return Vs(n,t),()=>Oc(n,t)}};function mh(){return new ps(Ee())}var qs=!1,Ht=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new rr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new fn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})(),hs=class extends Xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Sc()&&(this.destroyRef=M($i,{optional:!0})??void 0,this.pendingTasks=M(Ht,{optional:!0})??void 0)}emit(t){let n=S(null);try{super.next(t)}finally{S(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof X&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},at=hs;function Di(...e){}function Zs(e){let t,n;function r(){e=Di;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Qs(e){return queueMicrotask(()=>e()),()=>{e=Di}}var Ys="isAngularZone",sr=Ys+"_ID",gh=0,Z=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new at(!1);onMicrotaskEmpty=new at(!1);onStable=new at(!1);onError=new at(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qs}=t;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ih(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ys)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new N(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,yh,Di,Di);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},yh={};function Ks(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vh(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Zs(()=>{e.callbackScheduled=!1,ms(e),e.isCheckStableRunning=!0,Ks(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ms(e)}function Ih(e){let t=()=>{vh(e)},n=gh++;e._inner=e._inner.fork({name:"angular",properties:{[Ys]:!0,[sr]:n,[sr+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Eh(c))return r.invokeTask(o,s,a,c);try{return cc(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),uc(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return cc(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!_h(c)&&t(),uc(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ms(e),Ks(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ms(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function cc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function uc(e){e._nesting--,Ks(e)}var Si=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new at;onMicrotaskEmpty=new at;onStable=new at;onError=new at;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Eh(e){return su(e,"__ignore_ng_zone__")}function _h(e){return su(e,"__scheduler_tick__")}function su(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var et=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Tn=new P("",{factory:()=>{let e=M(Z),t=M(Ne),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(et),n.handleError(r))})}}}),au={provide:Ot,useValue:()=>{let e=M(et,{optional:!0})},multi:!0};var At=class{},bn=new P("",{factory:()=>!0});var Bi=new P("");var lu=(()=>{class e{static \u0275prov=G({token:e,providedIn:"root",factory:()=>new gs})}return e})(),gs=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ys=class{[ln];constructor(t){this[ln]=t}destroy(){this[ln].destroy()}};function Au(e){return{toString:e}.toString()}function bh(e){return typeof e=="function"}function Pu(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var qi=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ch(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dh),xh}function xh(){let e=Ou(this),t=e?.current;if(t){let n=e.previous;if(n===Rt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Dh(e,t,n,r,i){let o=this.declaredInputs[r],s=Ou(e)||Sh(e,{previous:Rt,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new qi(l&&l.currentValue,n,c===Rt),Pu(e,t,i,n)}var Ru="__ngSimpleChanges__";function Ou(e){return e[Ru]||null}function Sh(e,t){return e[Ru]=t}var cu=[];var $=function(e,t=null,n){for(let r=0;r<cu.length;r++){let i=cu[r];i(e,t,n)}},L=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(L||{});function Mh(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Ch(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Nh(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ui(e,t,n){Lu(e,t,3,n)}function Wi(e,t,n,r){(e[w]&3)===n&&Lu(e,t,n,r)}function Xs(e,t){let n=e[w];(n&3)===t&&(n&=16383,n+=1,e[w]=n)}function Lu(e,t,n,r){let i=r!==void 0?e[Ft]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Ft]+=65536),(a<o||o==-1)&&(kh(e,n,t,c),e[Ft]=(e[Ft]&4294901760)+c+2),c++}function uu(e,t){$(L.LifecycleHookStart,e,t);let n=S(null);try{t.call(e)}finally{S(n),$(L.LifecycleHookEnd,e,t)}}function kh(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[w]>>14<e[Ft]>>16&&(e[w]&3)===t&&(e[w]+=16384,uu(a,o)):uu(a,o)}var xn=-1,wr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Ah(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];Ph(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Ph(e){return e.charCodeAt(0)===64}function Ea(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?du(e,n,i,null,t[++r]):du(e,n,i,null,null))}}return e}function du(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Fu(e){return e!==xn}function Zi(e){return e&32767}function Rh(e){return e>>16}function Qi(e,t){let n=Rh(e),r=t;for(;n>0;)r=r[En],n--;return r}var na=!0;function fu(e){let t=na;return na=e,t}var Oh=256,Vu=Oh-1,ju=5,Lh=0,ze={};function Fh(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vn)&&(r=n[vn]),r==null&&(r=n[vn]=Lh++);let i=r&Vu,o=1<<i;t.data[e+(i>>ju)]|=o}function Hu(e,t){let n=$u(e,t);if(n!==-1)return n;let r=t[T];r.firstCreatePass&&(e.injectorIndex=t.length,Js(r.data,e),Js(t,null),Js(r.blueprint,null));let i=_a(e,t),o=e.injectorIndex;if(Fu(i)){let s=Zi(i),a=Qi(i,t),c=a[T].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Js(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $u(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function _a(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Gu(i),r===null)return xn;if(n++,i=i[En],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xn}function Vh(e,t,n){Fh(e,t,n)}function Bu(e,t,n){if(n&8||e!==void 0)return e;Mi(t,"NodeInjector")}function Uu(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Lt],o=ce(void 0);try{return i?i.get(t,r,n&8):xs(t,r,n&8)}finally{ce(o)}}return Bu(r,t,n)}function Wu(e,t,n,r=0,i){if(e!==null){if(t[w]&2048&&!(r&2)){let s=Bh(e,t,n,r,ze);if(s!==ze)return s}let o=zu(e,t,n,r,ze);if(o!==ze)return o}return Uu(t,n,r,i)}function zu(e,t,n,r,i){let o=Hh(n);if(typeof o=="function"){if(!zs(t,e,r))return r&1?Bu(i,n,r):Uu(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Mi(n);else return s}finally{Gs()}}else if(typeof o=="number"){let s=null,a=$u(e,t),c=xn,l=r&1?t[Ae][ve]:null;for((a===-1||r&4)&&(c=a===-1?_a(e,t):t[a+8],c===xn||!hu(r,!1)?a=-1:(s=t[T],a=Zi(c),t=Qi(c,t)));a!==-1;){let u=t[T];if(pu(o,a,u.data)){let f=jh(a,t,n,s,r,l);if(f!==ze)return f}c=t[a+8],c!==xn&&hu(r,t[T].data[a+8]===l)&&pu(o,a,t)?(s=u,a=Zi(c),t=Qi(c,t)):a=-1}}return i}function jh(e,t,n,r,i,o){let s=t[T],a=s.data[e+8],c=r==null?gr(a)&&na:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=zi(a,s,n,c,l);return u!==null?Yi(t,s,u,a,i):ze}function zi(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,f=r?a:a+u,p=i?a+u:l;for(let d=f;d<p;d++){let m=s[d];if(d<c&&n===m||d>=c&&m.type===n)return d}if(i){let d=s[c];if(d&&_n(d)&&d.type===n)return c}return null}function Yi(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof wr){let a=o;if(a.resolving){let d=vc(s[n]);throw Cs(d)}let c=fu(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,f=a.injectImpl?ce(a.injectImpl):null,p=zs(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&Mh(n,s[n],t)}finally{f!==null&&ce(f),fu(c),a.resolving=!1,Gs()}}return o}function Hh(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(vn)?e[vn]:void 0;return typeof t=="number"?t>=0?t&Vu:$h:t}function pu(e,t,n){let r=1<<e;return!!(n[t+(e>>ju)]&r)}function hu(e,t){return!(e&2)&&!(e&1&&t)}var $t=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Wu(this._tNode,this._lView,t,mn(r),n)}};function $h(){return new $t(pt(),Ee())}function Bh(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[w]&2048&&!wn(s);){let a=zu(o,s,n,r|2,ze);if(a!==ze)return a;let c=o.parent;if(!c){let l=s[Ps];if(l){let u=l.get(n,ze,r);if(u!==ze)return u}c=Gu(s),s=s[En]}o=c}return i}function Gu(e){let t=e[T],n=t.type;return n===2?t.declTNode:n===1?e[ve]:null}function Uh(){return Mn(pt(),Ee())}function Mn(e,t){return new Sr(dt(e,t))}var Sr=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Uh}return e})();function Wh(e){return e instanceof Sr?e.nativeElement:e}function zh(){return this._results[Symbol.iterator]()}var Ki=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Xe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Tc(t);(this._changesDetected=!wc(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zh};function qu(e){return(e.flags&128)===128}var wa=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(wa||{}),Zu=new Map,Gh=0;function qh(){return Gh++}function Zh(e){Zu.set(e[fr],e)}function ra(e){Zu.delete(e[fr])}var mu="__ngContext__";function Tr(e,t){nt(t)?(e[mu]=t[fr],Zh(t)):e[mu]=t}function Qu(e){return Ku(e[In])}function Yu(e){return Ku(e[ye])}function Ku(e){for(;e!==null&&!Pe(e);)e=e[ye];return e}var Qh;function Ta(e){Qh=e}var no=new P("",{factory:()=>Yh}),Yh="ng";var ro=new P(""),Mr=new P("",{providedIn:"platform",factory:()=>"unknown"});var io=new P("",{factory:()=>M(Re).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xu=!1,Ju=new P("",{factory:()=>Xu});function ba(e){return(e.flags&32)===32}var Kh=()=>null;function ed(e,t,n=!1){return Kh(e,t,n)}function td(e,t){let n=e.contentQueries;if(n!==null){let r=S(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Vi(o),a.contentQueries(2,t[s],s)}}}finally{S(r)}}}function ia(e,t,n){Vi(0);let r=S(null);try{t(e,n)}finally{S(r)}}function Xh(e,t,n){if(Rs(t)){let r=S(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{S(r)}}}var Oe=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Oe||{});function nd(e,t,n){return e.createElement(t,n)}function Xi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function rd(e,t,n){e.appendChild(t,n)}function gu(e,t,n,r,i){r!==null?Xi(e,t,n,r,i):rd(e,t,n)}function Jh(e,t,n,r){e.removeChild(null,t,n,r)}function em(e,t,n){e.setAttribute(t,"style",n)}function tm(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function id(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ah(e,t,r),i!==null&&tm(e,t,i),o!==null&&em(e,t,o)}var nm="ng-template";function rm(e){return e.type===4&&e.value!==nm}function oa(e){return(e&1)===0}function yu(e,t){return e?":not("+t.trim()+")":t}function im(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!oa(s)&&(t+=yu(o,i),i=""),r=s,o=o||!oa(r);n++}return i!==""&&(t+=yu(o,i)),t}function om(e){return e.map(im).join(",")}function sm(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!oa(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Ca={};function od(e,t,n,r,i,o,s,a,c,l,u){let f=Ue+r,p=f+i,d=am(f,p),m=typeof l=="function"?l():l;return d[T]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function am(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ca);return n}function lm(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=od(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function xa(e,t,n,r,i,o,s,a,c,l,u){let f=t.blueprint.slice();return f[ke]=i,f[w]=r|4|128|8|64|1024,(l!==null||e&&e[w]&2048)&&(f[w]|=2048),Ls(f),f[Y]=f[En]=e,f[ue]=n,f[tt]=s||e&&e[tt],f[Ie]=a||e&&e[Ie],f[Lt]=c||e&&e[Lt]||null,f[ve]=o,f[fr]=qh(),f[ur]=u,f[Ps]=l,f[Ae]=t.type==2?e[Ae]:f,f}function cm(e,t,n){let r=dt(t,e),i=lm(n),o=e[tt].rendererFactory,s=ld(e,xa(e,i,null,sd(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function sd(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ad(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ld(e,t){return e[In]?e[As][ye]=t:e[In]=t,e[As]=t,t}function um(e,t,n,r){if(!r)if((t[w]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ui(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Wi(t,o,0,n)}ht(n)}var oo=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(oo||{});function sa(e,t,n,r){let i=S(null);try{let[o,s,a]=e.inputs[n],c=null;(s&oo.SignalBased)!==0&&(c=t[o][ln]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Pu(t,c,o,r)}finally{S(i)}}var Ut=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Ut||{}),dm;function Da(e,t){return dm(e,t)}var Dn=new Set,Sa=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Sa||{}),Nr=new P(""),vu=new Set;function Ma(e){vu.has(e)||(vu.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var cd=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:e,providedIn:"root",factory:()=>new e})}return e})();var fm=new P("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:M(Ne)})});function ud(e,t,n){let r=e.get(fm);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function pm(e,t){for(let[n,r]of t)ud(e,r.animateFns)}function Iu(e,t,n,r){let i=e?.[hr]?.enter;t!==null&&i&&i.has(n.index)&&pm(r,i)}function Cn(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;Pe(i)?c=i:nt(i)&&(l=!0,i=i[ke]);let u=We(i);e===0&&r!==null?(Iu(a,r,o,n),s==null?rd(t,r,u):Xi(t,r,u,s||null,!0)):e===1&&r!==null?(Iu(a,r,o,n),Xi(t,r,u,s||null,!0)):e===2?Eu(a,o,n,f=>{Jh(t,u,l,f)}):e===3&&Eu(a,o,n,()=>{t.destroyNode(u)}),c!=null&&Dm(t,e,n,c,o,r,s)}}function hm(e,t){dd(e,t),t[ke]=null,t[ve]=null}function mm(e,t,n,r,i,o){r[ke]=i,r[ve]=t,so(e,r,n,1,i,o)}function dd(e,t){t[tt].changeDetectionScheduler?.notify(9),so(e,t,t[Ie],2,null,null)}function gm(e){let t=e[In];if(!t)return ea(e[T],e);for(;t;){let n=null;if(nt(t))n=t[In];else{let r=t[te];r&&(n=r)}if(!n){for(;t&&!t[ye]&&t!==e;)nt(t)&&ea(t[T],t),t=t[Y];t===null&&(t=e),nt(t)&&ea(t[T],t),n=t&&t[ye]}t=n}}function Na(e,t){let n=e[Vt],r=n.indexOf(t);n.splice(r,1)}function fd(e,t){if(jt(t))return;let n=t[Ie];n.destroyNode&&so(e,t,n,3,null,null),gm(t)}function ea(e,t){if(jt(t))return;let n=S(null);try{t[w]&=-129,t[w]|=256,t[de]&&gi(t[de]),Im(e,t),vm(e,t),t[T].type===1&&t[Ie].destroy();let r=t[ct];if(r!==null&&Pe(t[Y])){r!==t[Y]&&Na(r,t);let i=t[Be];i!==null&&i.detachView(e)}ra(t)}finally{S(n)}}function Eu(e,t,n,r){let i=e?.[hr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&Dn.add(e),ud(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),ym(e,r)}else e&&Dn.delete(e),r(!1)},i)}function ym(e,t){let n=e[hr]?.running;if(n){n.then(()=>{e[hr].running=void 0,Dn.delete(e),t(!0)});return}t(!1)}function vm(e,t){let n=e.cleanup,r=t[dr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[dr]=null);let i=t[Je];if(i!==null){t[Je]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[pr];if(o!==null){t[pr]=null;for(let s of o)s.destroy()}}function Im(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof wr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];$(L.LifecycleHookStart,a,c);try{c.call(a)}finally{$(L.LifecycleHookEnd,a,c)}}else{$(L.LifecycleHookStart,i,o);try{o.call(i)}finally{$(L.LifecycleHookEnd,i,o)}}}}}function Em(e,t,n){return _m(e,t.parent,n)}function _m(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[ke];if(gr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Oe.None||i===Oe.Emulated)return null}return dt(r,n)}function wm(e,t,n){return bm(e,t,n)}function Tm(e,t,n){return e.type&40?dt(e,n):null}var bm=Tm,_u;function Cm(e,t,n,r){let i=Em(e,r,t),o=t[Ie],s=r.parent||t[ve],a=wm(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)gu(o,i,n[c],a,!1);else gu(o,i,n,a,!1);_u!==void 0&&_u(o,r,t,n,i)}function Er(e,t){if(t!==null){let n=t.type;if(n&3)return dt(t,e);if(n&4)return aa(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Er(e,r);{let i=e[t.index];return Pe(i)?aa(-1,i):We(i)}}else{if(n&128)return Er(e,t.next);if(n&32)return Da(t,e)()||We(e[t.index]);{let r=pd(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=lt(e[Ae]);return Er(i,r)}else return Er(e,t.next)}}}return null}function pd(e,t){if(t!==null){let r=e[Ae][ve],i=t.projection;return r.projection[i]}return null}function aa(e,t){let n=te+e+1;if(n<t.length){let r=t[n],i=r[T].firstChild;if(i!==null)return Er(r,i)}return t[ut]}function ka(e,t,n,r,i,o,s){for(;n!=null;){let a=r[Lt];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&Tr(We(c),r),n.flags|=2),!ba(n))if(l&8)ka(e,t,n.child,r,i,o,!1),Cn(t,e,a,i,c,n,o,r);else if(l&32){let u=Da(n,r),f;for(;f=u();)Cn(t,e,a,i,f,n,o,r);Cn(t,e,a,i,c,n,o,r)}else l&16?xm(e,t,r,n,i,o):Cn(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function so(e,t,n,r,i,o){ka(n,r,e.firstChild,t,i,o,!1)}function xm(e,t,n,r,i,o){let s=n[Ae],c=s[ve].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Cn(t,e,n[Lt],i,u,r,o,n)}else{let l=c,u=s[Y];qu(r)&&(l.flags|=128),ka(e,t,l,u,i,o,!0)}}function Dm(e,t,n,r,i,o,s){let a=r[ut],c=We(r);a!==c&&Cn(t,e,n,o,a,i,s);for(let l=te;l<r.length;l++){let u=r[l];so(u[T],u,e,t,o,a)}}function hd(e,t,n,r,i){let o=eu(),s=r&2;try{ht(-1),s&&t.length>Ue&&um(e,t,Ue,!1);let a=s?L.TemplateUpdateStart:L.TemplateCreateStart;$(a,i,n),n(r,i)}finally{ht(o);let a=s?L.TemplateUpdateEnd:L.TemplateCreateEnd;$(a,i,n)}}function Sm(e,t,n){Pm(e,t,n),(n.flags&64)===64&&Rm(e,t,n)}function Mm(e,t,n=dt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Nm(e,t,n,r){let o=r.get(Ju,Xu)||n===Oe.ShadowDom||n===Oe.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return km(s),s}function km(e){Am(e)}var Am=()=>null;function Pm(e,t,n){let r=n.directiveStart,i=n.directiveEnd;gr(n)&&cm(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Hu(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Yi(t,e,s,n);if(Tr(c,t),o!==null&&Lm(t,s-r,c,a,n,o),_n(a)){let l=ft(n.index,t);l[ue]=Yi(t,e,s,n)}}}function Rm(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Yc();try{ht(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Fi(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Om(c,l)}}finally{ht(-1),Fi(s)}}function Om(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Lm(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];sa(r,n,c,l)}}function Fm(e,t,n,r,i){let o=Ue+n,s=t[T],a=i(s,t,e,r,n);t[o]=a,Li(e,!0);let c=e.type===2;return c?(id(t[Ie],a,e),(jc()===0||Nc(e))&&Tr(a,t),Hc()):Tr(a,t),ru()&&(!c||!ba(e))&&Cm(s,t,a,e),e}function Vm(e){let t=e;return $s()?Gc():(t=t.parent,Li(t,!1)),t}function jm(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],f=t.data[l];sa(f,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];sa(u,l,r,i),a=!0}return a}function Hm(e,t){let n=ft(t,e),r=n[T];$m(r,n);let i=n[ke];i!==null&&n[ur]===null&&(n[ur]=ed(i,n[Lt])),$(L.ComponentStart);try{Aa(r,n,n[ue])}finally{$(L.ComponentEnd,n[ue])}}function $m(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Aa(e,t,n){ji(t);try{let r=e.viewQuery;r!==null&&ia(1,r,n);let i=e.template;i!==null&&hd(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Be]?.finishViewCreation(e),e.staticContentQueries&&td(e,t),e.staticViewQueries&&ia(2,e.viewQuery,n);let o=e.components;o!==null&&Bm(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[w]&=-5,Hi()}}function Bm(e,t){for(let n=0;n<t.length;n++)Hm(e,t[n])}function Um(e,t,n,r){let i=S(null);try{let o=t.tView,a=e[w]&4096?4096:16,c=xa(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[ct]=l;let u=e[Be];return u!==null&&(c[Be]=u.createEmbeddedView(o)),Aa(o,c,n),c}finally{S(i)}}function wu(e,t){return!t||t.firstChild===null||qu(e)}function br(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(We(o)),Pe(o)&&md(o,r);let s=n.type;if(s&8)br(e,t,n.child,r);else if(s&32){let a=Da(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=pd(t,n);if(Array.isArray(a))r.push(...a);else{let c=lt(t[Ae]);br(c[T],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function md(e,t){for(let n=te;n<e.length;n++){let r=e[n],i=r[T].firstChild;i!==null&&br(r[T],r,i,t)}e[ut]!==e[ke]&&t.push(e[ut])}function gd(e){if(e[Pi]!==null){for(let t of e[Pi])t.impl.addSequence(t);e[Pi].length=0}}var yd=[];function Wm(e){return e[de]??zm(e)}function zm(e){let t=yd.pop()??Object.create(qm);return t.lView=e,t}function Gm(e){e.lView[de]!==e&&(e.lView=null,yd.push(e))}var qm=Se(le({},Uo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ir(e.lView)},consumerOnSignalRead(){this.lView[de]=this}});function Zm(e){let t=e[de]??Object.create(Qm);return t.lView=e,t}var Qm=Se(le({},Uo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=lt(e.lView);for(;t&&!vd(t[T]);)t=lt(t);t&&Fs(t)},consumerOnSignalRead(){this.lView[de]=this}});function vd(e){return e.type!==2}function Id(e){if(e[pr]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[pr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[w]&8192)}}var Ym=100;function Ed(e,t=0){let r=e[tt].rendererFactory,i=!1;i||r.begin?.();try{Km(e,t)}finally{i||r.end?.()}}function Km(e,t){let n=Bs();try{Us(!0),la(e,t);let r=0;for(;vr(e);){if(r===Ym)throw new N(103,!1);r++,la(e,1)}}finally{Us(n)}}function Xm(e,t,n,r){if(jt(t))return;let i=t[w],o=!1,s=!1;ji(t);let a=!0,c=null,l=null;o||(vd(e)?(l=Wm(t),c=Wo(l)):mi()===null?(a=!1,l=Zm(t),c=Wo(l)):t[de]&&(gi(t[de]),t[de]=null));try{Ls(t),qc(e.bindingStartIndex),n!==null&&hd(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=e.preOrderCheckHooks;d!==null&&Ui(t,d,null)}else{let d=e.preOrderHooks;d!==null&&Wi(t,d,0,null),Xs(t,0)}if(s||Jm(t),Id(t),_d(t,0),e.contentQueries!==null&&td(e,t),!o)if(u){let d=e.contentCheckHooks;d!==null&&Ui(t,d)}else{let d=e.contentHooks;d!==null&&Wi(t,d,1),Xs(t,1)}tg(e,t);let f=e.components;f!==null&&Td(t,f,0);let p=e.viewQuery;if(p!==null&&ia(2,p,r),!o)if(u){let d=e.viewCheckHooks;d!==null&&Ui(t,d)}else{let d=e.viewHooks;d!==null&&Wi(t,d,2),Xs(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ai]){for(let d of t[Ai])d();t[Ai]=null}o||(gd(t),t[w]&=-73)}catch(u){throw o||Ir(t),u}finally{l!==null&&(Wl(l,c),a&&Gm(l)),Hi()}}function _d(e,t){for(let n=Qu(e);n!==null;n=Yu(n))for(let r=te;r<n.length;r++){let i=n[r];wd(i,t)}}function Jm(e){for(let t=Qu(e);t!==null;t=Yu(t)){if(!(t[w]&2))continue;let n=t[Vt];for(let r=0;r<n.length;r++){let i=n[r];Fs(i)}}}function eg(e,t,n){$(L.ComponentStart);let r=ft(t,e);try{wd(r,n)}finally{$(L.ComponentEnd,r[ue])}}function wd(e,t){Ri(e)&&la(e,t)}function la(e,t){let r=e[T],i=e[w],o=e[de],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&zo(o)),s||=!1,o&&(o.dirty=!1),e[w]&=-9217,s)Xm(r,e,r.template,e[ue]);else if(i&8192){let a=S(null);try{Id(e),_d(e,1);let c=r.components;c!==null&&Td(e,c,1),gd(e)}finally{S(a)}}}function Td(e,t,n){for(let r=0;r<t.length;r++)eg(e,t[r],n)}function tg(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ht(~i);else{let o=i,s=n[++r],a=n[++r];Qc(s,o);let c=t[o];$(L.HostBindingsUpdateStart,c);try{a(2,c)}finally{$(L.HostBindingsUpdateEnd,c)}}}}finally{ht(-1)}}function bd(e,t){let n=Bs()?64:1088;for(e[tt].changeDetectionScheduler?.notify(t);e;){e[w]|=n;let r=lt(e);if(wn(e)&&!r)return e;e=r}return null}function ng(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function rg(e,t,n,r=!0){let i=t[T];if(ig(i,t,e,n),r){let s=aa(n,e),a=t[Ie],c=a.parentNode(e[ut]);c!==null&&mm(i,e[ve],a,t,c,s)}let o=t[ur];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ca(e,t){if(e.length<=te)return;let n=te+t,r=e[n];if(r){let i=r[ct];i!==null&&i!==e&&Na(i,r),t>0&&(e[n-1][ye]=r[ye]);let o=ar(e,te+t);hm(r[T],r);let s=o[Be];s!==null&&s.detachView(o[T]),r[Y]=null,r[ye]=null,r[w]&=-129}return r}function ig(e,t,n,r){let i=te+r,o=n.length;r>0&&(n[i-1][ye]=t),r<o-te?(t[ye]=n[i],Ds(n,te+r,t)):(n.push(t),t[ye]=null),t[Y]=n;let s=t[ct];s!==null&&n!==s&&Cd(s,t);let a=t[Be];a!==null&&a.insertView(e),Oi(t),t[w]|=128}function Cd(e,t){let n=e[Vt],r=t[Y];if(nt(r))e[w]|=2;else{let i=r[Y][Ae];t[Ae]!==i&&(e[w]|=2)}n===null?e[Vt]=[t]:n.push(t)}var Sn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[T];return br(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ue]}set context(t){this._lView[ue]=t}get destroyed(){return jt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Y];if(Pe(t)){let n=t[mr],r=n?n.indexOf(this):-1;r>-1&&(ca(t,r),ar(n,r))}this._attachedToViewContainer=!1}fd(this._lView[T],this._lView)}onDestroy(t){Vs(this._lView,t)}markForCheck(){bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[w]&=-129}reattach(){Oi(this._lView),this._lView[w]|=128}detectChanges(){this._lView[w]|=1024,Ed(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=wn(this._lView),n=this._lView[ct];n!==null&&!t&&Na(n,this._lView),dd(this._lView[T],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t;let n=wn(this._lView),r=this._lView[ct];r!==null&&!n&&Cd(r,this._lView),Oi(this._lView)}};var Cr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=og;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Um(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Sn(o)}}return e})();function og(){return Pa(pt(),Ee())}function Pa(e,t){return e.type&4?new Cr(t,e,Mn(e,t)):null}function xd(e,t,n,r,i){let o=e.data[t];if(o===null)o=sg(e,t,n,r,i),Zc()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=zc();o.injectorIndex=s===null?-1:s.injectorIndex}return Li(o,!0),o}function sg(e,t,n,r,i){let o=Hs(),s=$s(),a=s?o:o&&o.parent,c=e.data[t]=lg(e,a,n,t,r,i);return ag(e,c,o,s),c}function ag(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function lg(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Bc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cg=()=>null;function Tu(e,t){return cg(e,t)}var Dd=class{},ao=class{},ua=class{resolveComponentFactory(t){throw new N(917,!1)}},lo=class{static NULL=new ua},Bt=class{};var Sd=(()=>{class e{static \u0275prov=G({token:e,providedIn:"root",factory:()=>null})}return e})();var Gi={},da=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Gi,r);return i!==Gi||n===Gi?i:this.parentInjector.get(t,n,r)}};function Ji(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Is(i,a);else if(o==2){let c=a,l=t[++s];r=Is(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Md(e,t=0){let n=Ee();if(n===null)return V(e,t);let r=pt();return Wu(r,n,ge(e),t)}function ug(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}pg(e,t,n,a,o,c,l)}o!==null&&r!==null&&dg(n,r,o)}function dg(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new N(-301,!1);r.push(t[i],o)}}function fg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function pg(e,t,n,r,i,o,s){let a=r.length,c=null;for(let p=0;p<a;p++){let d=r[p];c===null&&_n(d)&&(c=d,fg(e,n,p)),Vh(Hu(n,t),e,d.type)}Ig(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let d=r[p];d.providersResolver&&d.providersResolver(d)}let l=!1,u=!1,f=ad(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let d=r[p];if(n.mergedAttrs=Ea(n.mergedAttrs,d.hostAttrs),mg(e,n,t,f,d),vg(f,d,i),s!==null&&s.has(d)){let[E,v]=s.get(d);n.directiveToIndex.set(d.type,[f,E+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(d))&&n.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let m=d.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}hg(e,n,o)}function hg(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))bu(0,t,i,r),bu(1,t,i,r),xu(t,r,!1);else{let o=n.get(i);Cu(0,t,o,r),Cu(1,t,o,r),xu(t,r,!0)}}}function bu(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Nd(t,o)}}function Cu(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Nd(t,s)}}function Nd(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function xu(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||rm(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function mg(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=gn(i.type,!0)),s=new wr(o,_n(i),Md,null);e.blueprint[r]=s,n[r]=s,gg(e,t,r,ad(e,n,i.hostVars,Ca),i)}function gg(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;yg(s)!=a&&s.push(a),s.push(n,r,o)}}function yg(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function vg(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_n(t)&&(n[""]=e)}}function Ig(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Eg(e,t,n,r,i,o,s,a){let c=t[T],l=c.consts,u=yr(l,s),f=xd(c,e,n,r,u);return o&&ug(c,t,f,yr(l,a),i),f.mergedAttrs=Ea(f.mergedAttrs,f.attrs),f.attrs!==null&&Ji(f,f.attrs,!1),f.mergedAttrs!==null&&Ji(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function _g(e,t){Nh(e,t),Rs(t)&&e.queries.elementEnd(t)}function wg(e,t,n,r,i,o){let s=t.consts,a=yr(s,i),c=xd(t,e,n,r,a);if(c.mergedAttrs=Ea(c.mergedAttrs,c.attrs),o!=null){let l=yr(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Ji(c,c.attrs,!1),c.mergedAttrs!==null&&Ji(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}var fa=Symbol("BINDING");var pa=class extends lo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Pt(t);return new xr(n,this.ngModule)}};function Tg(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&oo.SignalBased)!==0};return i&&(o.transform=i),o})}function bg(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Cg(e,t,n){let r=t instanceof Ne?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new da(n,r):n}function xg(e){let t=e.get(Bt,null);if(t===null)throw new N(407,!1);let n=e.get(Sd,null),r=e.get(At,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Dg(e,t){let n=kd(e);return nd(t,n,n==="svg"?kc:n==="math"?Ac:null)}function kd(e){return(e.selectors[0][0]||"div").toLowerCase()}var xr=class extends ao{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Tg(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bg(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=om(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){$(L.DynamicComponentStart);let a=S(null);try{let c=this.componentDef,l=Sg(r,c,s,o),u=Cg(c,i||this.ngModule,t),f=xg(u),p=f.rendererFactory.createRenderer(null,c),d=r?Nm(p,r,c.encapsulation,u):Dg(c,p),m=s?.some(Du)||o?.some(y=>typeof y!="function"&&y.bindings.some(Du)),E=xa(null,l,null,512|sd(c),null,null,f,p,u,null,ed(d,u,!0));E[Ue]=d,ji(E);let v=null;try{let y=Eg(Ue,E,2,"#host",()=>l.directiveRegistry,!0,0);id(p,d,y),Tr(d,E),Sm(l,E,y),Xh(l,y,E),_g(l,y),n!==void 0&&Ng(y,this.ngContentSelectors,n),v=ft(y.index,E),E[ue]=v[ue],Aa(l,E,null)}catch(y){throw v!==null&&ra(v),ra(E),y}finally{$(L.DynamicComponentEnd),Hi()}return new eo(this.componentType,E,!!m)}finally{S(a)}}};function Sg(e,t,n,r){let i=e?["ng-version","21.0.6"]:sm(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[fa].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let p of f.bindings){a+=p[fa].requiredVars;let d=u+1;p.create&&(p.targetIdx=d,(o??=[]).push(p)),p.update&&(p.targetIdx=d,(s??=[]).push(p))}}let c=[t];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,p=Ts(f);c.push(p)}return od(0,null,Mg(o,s),1,a,c,null,null,null,[i],null)}function Mg(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Du(e){let t=e[fa].kind;return t==="input"||t==="twoWay"}var eo=class extends Dd{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Os(n[T],Ue),this.location=Mn(this._tNode,n),this.instance=ft(this._tNode.index,n)[ue],this.hostView=this.changeDetectorRef=new Sn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=jm(r,i[T],i,t,n);this.previousInputValues.set(t,n);let s=ft(r.index,i);bd(s,1)}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Ng(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var co=(()=>{class e{static __NG_ELEMENT_ID__=kg}return e})();function kg(){let e=pt();return Pd(e,Ee())}var Ag=co,Ad=class extends Ag{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Mn(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){let t=_a(this._hostTNode,this._hostLView);if(Fu(t)){let n=Qi(t,this._hostLView),r=Zi(t),i=n[T].data[r+8];return new $t(i,n)}else return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Su(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-te}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,wu(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!bh(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?t:new xr(Pt(t)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?f:this.parentInjector).get(Ne,null);y&&(o=y)}let p=Pt(u.componentType??{}),d=Tu(this._lContainer,p?.id??null),m=d?.firstChild??null,E=u.create(f,i,m,o,s,a);return this.insertImpl(E.hostView,l,wu(this._hostTNode,d)),E}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(Rc(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Y],l=new Ad(c,c[ve],c[Y]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return rg(s,i,o,r),t.attachToViewContainerRef(),Ds(ta(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Su(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=ca(this._lContainer,n);r&&(ar(ta(this._lContainer),n),fd(r[T],r))}detach(t){let n=this._adjustIndex(t,-1),r=ca(this._lContainer,n);return r&&ar(ta(this._lContainer),n)!=null?new Sn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Su(e){return e[mr]}function ta(e){return e[mr]||(e[mr]=[])}function Pd(e,t){let n,r=t[e.index];return Pe(r)?n=r:(n=ng(r,t,null,e),t[e.index]=n,ld(t,n)),Rg(n,t,e,r),new Ad(n,e,t)}function Pg(e,t){let n=e[Ie],r=n.createComment(""),i=dt(t,e),o=n.parentNode(i);return Xi(n,o,r,n.nextSibling(i),!1),r}var Rg=Og;function Og(e,t,n,r){if(e[ut])return;let i;n.type&8?i=We(r):i=Pg(t,n),e[ut]=i}var ha=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ma=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Ra(t,n).matches!==null&&this.queries[n].setDirty()}},ga=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=Ug(t):this.predicate=t}},ya=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},va=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,Lg(n,o)),this.matchTNodeWithReadOption(t,n,zi(n,t,o,!1,!1))}else r===Cr?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,zi(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Sr||i===co||i===Cr&&n.type&4)this.addMatch(n.index,-2);else{let o=zi(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Lg(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function Fg(e,t){return e.type&11?Mn(e,t):e.type&4?Pa(e,t):null}function Vg(e,t,n,r){return n===-1?Fg(t,e):n===-2?jg(e,t,r):Yi(e,e[T],n,t)}function jg(e,t,n){if(n===Sr)return Mn(t,e);if(n===Cr)return Pa(t,e);if(n===co)return Pd(t,e)}function Rd(e,t,n,r){let i=t[Be].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(Vg(t,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ia(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Rd(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=t[-c];for(let f=te;f<u.length;f++){let p=u[f];p[ct]===p[Y]&&Ia(p[T],p,l,r)}if(u[Vt]!==null){let f=u[Vt];for(let p=0;p<f.length;p++){let d=f[p];Ia(d[T],d,l,r)}}}}}return r}function Hg(e,t){return e[Be].queries[t].queryList}function $g(e,t,n){let r=new Ki((n&4)===4);return Vc(e,t,r,r.destroy),(t[Be]??=new ma).queries.push(new ha(r))-1}function Bg(e,t,n){let r=js();return r.firstCreatePass&&(Wg(r,new ga(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),$g(r,Ee(),t)}function Ug(e){return e.split(",").map(t=>t.trim())}function Wg(e,t,n){e.queries===null&&(e.queries=new ya),e.queries.track(new va(t,n))}function Ra(e,t){return e.queries.getByIndex(t)}function zg(e,t){let n=e[T],r=Ra(n,t);return r.crossesNgTemplate?Ia(n,e,t,[]):Rd(n,e,r,t)}var to=class{};var Dr=class extends to{injector;componentFactoryResolver=new pa(this);instance=null;constructor(t){super();let n=new yn([...t.providers,{provide:to,useValue:this},{provide:lo,useValue:this.componentFactoryResolver}],t.parent||cr(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Od(e,t,n=null){return new Dr({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Gg=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ns(!1,n.type),i=r.length>0?Od([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(V(Ne))})}return e})();function Oa(e){return Au(()=>{let t=Yg(e),n=Se(le({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Gg).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Oe.Emulated,styles:e.styles||Nt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Ma("NgStandalone"),Kg(n);let r=e.dependencies;return n.directiveDefs=Mu(r,qg),n.pipeDefs=Mu(r,gc),n.id=Xg(n),n})}function qg(e){return Pt(e)||Ts(e)}function Zg(e,t){if(e==null)return Rt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=oo.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function Qg(e){if(e==null)return Rt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Yg(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Rt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Nt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Zg(e.inputs,t),outputs:Qg(e.outputs),debugInfo:null}}function Kg(e){e.features?.forEach(t=>t(e))}function Mu(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function Xg(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}var La=new P("");function Fa(e){return!!e&&typeof e.then=="function"}function Ld(e){return!!e&&typeof e.subscribe=="function"}var Fd=new P("");var Va=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=M(Fd,{optional:!0})??[];injector=M(kt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ki(this.injector,i);if(Fa(o))n.push(o);else if(Ld(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vd=new P("");function jd(){qo(()=>{let e="";throw new N(600,e)})}function Hd(e){return e.isBoundToModule}var Jg=10;var kr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Tn);afterRenderManager=M(cd);zonelessEnabled=M(bn);rootEffectScheduler=M(lu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Xe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Ht);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ts(n=>!n))}constructor(){M(Nr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=M(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=kt.NULL){return this._injector.get(Z).run(()=>{$(L.BootstrapComponentStart);let s=n instanceof ao;if(!this._injector.get(Va).done){let m="";throw new N(405,m)}let c;s?c=n:c=this._injector.get(lo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Hd(c)?void 0:this._injector.get(to),u=r||c.selector,f=c.create(i,[],u,l),p=f.location.nativeElement,d=f.injector.get(La,null);return d?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),_r(this.components,f),d?.unregisterApplication(p)}),this._loadComponent(f),$(L.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){$(L.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sa.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw $(L.ChangeDetectionEnd),new N(101,!1);let n=S(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,S(n),this.afterTick.next(),$(L.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Jg;){$(L.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{$(L.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!vr(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ed(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>vr(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_r(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Vd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_r(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _r(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ab=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ar(e,t,n,r){let i=Ee(),o=i[T],s=e+Ue,a=o.firstCreatePass?wg(s,o,2,t,n,r):o.data[s];return Fm(a,i,e,t,ey),r!=null&&Mm(i,a),Ar}function Pr(){let e=pt(),t=Vm(e);return Uc(t)&&Wc(),$c(),Pr}function uo(e,t,n,r){return Ar(e,t,n,r),Pr(),uo}var ey=(e,t,n,r,i)=>(iu(!0),nd(t[Ie],r,tu()));var Rr="en-US";var ty=Rr;function $d(e){typeof e=="string"&&(ty=e.toLowerCase().replace(/_/g,"-"))}function fo(e,t,n){return Bg(e,t,n),fo}function po(e){let t=Ee(),n=js(),r=Ws();Vi(r+1);let i=Ra(n,r);if(e.dirty&&Pc(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=zg(t,r);e.reset(o,Wh),e.notifyOnChanges()}return!0}return!1}function ho(){return Hg(Ee(),Ws())}var Bd=(()=>{class e{applicationErrorHandler=M(Tn);appRef=M(kr);taskService=M(Ht);ngZone=M(Z);zonelessEnabled=M(bn);tracing=M(Nr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new X;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Bi,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Qs:Zs;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qs(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ud(){return[{provide:At,useExisting:Bd},{provide:Z,useClass:Si},{provide:bn,useValue:!0}]}function ny(){return typeof $localize<"u"&&$localize.locale||Rr}var ja=new P("",{factory:()=>M(ja,{optional:!0,skipSelf:!0})||ny()});var cy=(()=>{class e{zone=M(Z);changeDetectionScheduler=M(At);applicationRef=M(kr);applicationErrorHandler=M(Tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uy=new P("",{factory:()=>!1});function dy({ngZoneFactory:e,scheduleInRootZone:t}){return e??=()=>new Z(Se(le({},zd()),{scheduleInRootZone:t})),[{provide:bn,useValue:!1},{provide:Z,useFactory:e},{provide:Ot,multi:!0,useFactory:()=>{let n=M(cy,{optional:!0});return()=>n.initialize()}},{provide:Ot,multi:!0,useFactory:()=>{let n=M(fy);return()=>{n.initialize()}}},{provide:Bi,useValue:t??qs}]}function Wd(e){let t=e?.scheduleInRootZone,n=dy({ngZoneFactory:()=>{let r=zd(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Ma("NgZone_CoalesceEvent"),new Z(r)},scheduleInRootZone:t});return Ms([{provide:uy,useValue:!0},n])}function zd(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var fy=(()=>{class e{subscription=new X;initialized=!1;zone=M(Z);pendingTasks=M(Ht);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ha=new P(""),py=new P("");function Or(e){return!e.moduleRef}function hy(e){let t=Or(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Z);return n.run(()=>{Or(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Tn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Or(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ha);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ha);s.add(o),e.moduleRef.onDestroy(()=>{_r(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return gy(r,n,()=>{let o=t.get(Ht),s=o.add(),a=t.get(Va);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(ja,Rr);if($d(c||Rr),!t.get(py,!0))return Or(e)?t.get(kr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Or(e)){let u=t.get(kr);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return my?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var my;function gy(e,t,n){try{let r=n();return Fa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var mo=null;function yy(e=[],t){return kt.create({name:t,providers:[{provide:lr,useValue:"platform"},{provide:Ha,useValue:new Set([()=>mo=null])},...e]})}function vy(e=[]){if(mo)return mo;let t=yy(e);return mo=t,jd(),Iy(t),t}function Iy(e){let t=e.get(ro,null);ki(e,()=>{t?.forEach(n=>n())})}function Gd(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;$(L.BootstrapApplicationStart);try{let o=i?.injector??vy(r),s=[Ud(),au,...n||[]],a=new Dr({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return hy({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{$(L.BootstrapApplicationEnd)}}var qd=null;function Fr(){return qd}function Ba(e){qd??=e}var Lr=class{};function Ua(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Vr=class{};var Zd="browser";var jr=class{_doc;constructor(t){this._doc=t}manager},go=(()=>{class e extends jr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(V(Re))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Io=new P(""),qa=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof go));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof go);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(V(Io),V(Z))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Wa="ng-app-id";function Qd(e){for(let t of e)t.remove()}function Yd(e,t){let n=t.createElement("style");return n.textContent=e,n}function Ey(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Wa}="${t}"],link[${Wa}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Wa),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Ga(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Za=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Ey(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Yd);r?.forEach(i=>this.addUsage(i,this.external,Ga))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Qd(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Qd(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Yd(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Ga(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(V(Re),V(no),V(io,8),V(Mr))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),za={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qa=/%COMP%/g;var Xd="%COMP%",_y=`_nghost-${Xd}`,wy=`_ngcontent-${Xd}`,Ty=!0,by=new P("",{factory:()=>Ty});function Cy(e){return wy.replace(Qa,e)}function xy(e){return _y.replace(Qa,e)}function Jd(e,t){return t.map(n=>n.replace(Qa,e))}var Ya=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Hr(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof vo?i.applyToHost(n):i instanceof $r&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case Oe.Emulated:o=new vo(c,l,r,this.appId,u,s,a,f);break;case Oe.ShadowDom:return new yo(c,n,r,s,a,this.nonce,f,l);case Oe.ExperimentalIsolatedShadowDom:return new yo(c,n,r,s,a,this.nonce,f);default:o=new $r(c,l,r,u,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(V(qa),V(Za),V(no),V(by),V(Re),V(Z),V(io),V(Nr,8))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),Hr=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(za[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Kd(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Kd(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new N(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=za[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=za[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ut.DashCase|Ut.Important)?t.style.setProperty(n,r,i&Ut.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ut.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Fr().getGlobalEventTarget(this.doc,t),!t))throw new N(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Kd(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var yo=class extends Hr{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c){super(t,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Jd(r.id,l);for(let f of l){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=f,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let f of u){let p=Ga(f,i);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},$r=class extends Hr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Jd(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Dn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vo=class extends $r{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=Cy(l),this.hostAttr=xy(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Eo=class e extends Lr{supportsDOMEvents=!0;static makeCurrent(){Ba(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Dy();return n==null?null:Sy(n)}resetBaseElement(){Br=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ua(document.cookie,t)}},Br=null;function Dy(){return Br=Br||document.head.querySelector("base"),Br?Br.getAttribute("href"):null}function Sy(e){return new URL(e,document.baseURI).pathname}var My=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})(),ef=["alt","control","meta","shift"],Ny={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ky={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},tf=(()=>{class e extends jr{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ef.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Ny[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ef.forEach(s=>{if(s!==i){let a=ky[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(V(Re))};static \u0275prov=G({token:e,factory:e.\u0275fac})}return e})();function Ka(e,t,n){let r=le({rootComponent:e,platformRef:n?.platformRef},Ay(t));return Gd(r)}function Ay(e){return{appProviders:[...Fy,...e?.providers??[]],platformProviders:Ly}}function Py(){Eo.makeCurrent()}function Ry(){return new et}function Oy(){return Ta(document),document}var Ly=[{provide:Mr,useValue:Zd},{provide:ro,useValue:Py,multi:!0},{provide:Re,useFactory:Oy}];var Fy=[{provide:lr,useValue:"root"},{provide:et,useFactory:Ry},{provide:Io,useClass:go,multi:!0},{provide:Io,useClass:tf,multi:!0},Ya,Za,qa,{provide:Bt,useExisting:Ya},{provide:Vr,useClass:My},[]];var h=class e{x;y;constructor(t,n){this.x=t||0,this.y=n||0}get width(){return this.x}set width(t){this.x=t}get left(){return this.x}get height(){return this.y}set height(t){this.y=t}get top(){return this.y}add(t){return new e(this.x+t.x,this.y+t.y)}sub(t){return this.add(t.mul(-1))}mul(t){return new e(this.x*t,this.y*t)}div(t){return this.mul(1/t)}clone(){return new e(this.x,this.y)}get normal(){return new e(nf(this.x),nf(this.y))}};function nf(e){return e>0?1:e<0?-1:0}var z=class{_phase=0;_propagationStopped=!1;_target;stopPropagation(){this._propagationStopped=!0,this.destroy()}get propagationStopped(){return this._propagationStopped}get target(){return this._target}set target(t){if(this._target!==void 0)throw new Error("Event target already set!");this._target=t,this._phase=0}get phase(){return this._phase}capture(){this._phase=1}destroy(){this._target=null}};var mt=class extends z{};var Wt=class extends z{};var oe=class{_eventHandlers=new Map;on(t,n){let r=this._eventHandlers.get(t)||new Set;r.has(n)||(r.add(n),this._eventHandlers.set(t,r))}off(t,n){let r=this._eventHandlers.get(t)||new Set;r.delete(n),this._eventHandlers.set(t,r)}handleEvent(t){for(let[n,r]of this._eventHandlers)if(t instanceof n){for(let i of r)if(i(t),t.propagationStopped)return}}};var _e=class extends oe{_parent;_children=[];constructor(t){super(),t&&t.forEach(n=>this.addChild(n))}get children(){return this._children.map(t=>t.element)}get depthSortedChildren(){return this._children.sort((t,n)=>t.depth-n.depth).map(t=>t.element)}get parent(){return this._parent}set parent(t){if(this._parent!==void 0)throw new Error("Cannot set parent while one already set! First remove this child from existing parent.");this._parent=t}get rootElement(){return this._parent===void 0?this:this._parent.rootElement}clearParent(){this._parent=void 0}addChild(t,n=0){this._children.push({element:t,depth:n}),t.parent=this,t.dispatchEvent(new mt)}removeChild(t){this._children=this._children.filter(n=>n.element!==t),t.dispatchEvent(new Wt),t.clearParent()}removeAllChildren(){this._children.forEach(t=>{t.element.dispatchEvent(new Wt),t.element.removeAllChildren(),t.element.clearParent()}),this._children=[]}remove(){if(this._parent===void 0)throw new Error("Cannot remove, no parent set!");this._parent.removeChild(this)}dispatchEvent(t){if(t.target===void 0){t.target=this,this.rootElement.dispatchEvent(t);return}if(super.handleEvent(t),!t.propagationStopped&&!(t.target===this&&(t.capture(),super.handleEvent(t),t.propagationStopped))&&t.phase===0){this._children.length===0&&t.destroy();for(let n of this._children)if(n.element.dispatchEvent(t),t.propagationStopped)return}}};var Nn=class extends _e{};function rf(e,t,n=!1){let r=n?e.depthSortedChildren:e.children;for(let i of r)t(i),rf(i,t,n)}var B=class{static childrenByType(t,n,r=!1){let i=[];return rf(n,o=>{o instanceof t&&i.push(o)},r),i}static parentByType(t,n){if(n.parent instanceof t)return n.parent;if(n.parent)return this.parentByType(t,n.parent)}};var gt=class{constructor(t){this.workFn=t;this.maxFps=10,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,document.addEventListener("visibilitychange",()=>{document.hidden?this.stopRequested=!0:this.start(this.maxFps)})}maxFps;fpsInterval;previousTime;adjustedPreviousTime;stopRequested;start(t){this.maxFps=t,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,requestAnimationFrame(this.workLoop.bind(this))}workLoop(t){if(!this.stopRequested){if(this.previousTime===0)this.previousTime=t,this.adjustedPreviousTime=t;else{let n=t-this.adjustedPreviousTime;n>=this.fpsInterval&&(this.workFn(t,t-this.previousTime),this.adjustedPreviousTime=t-n%this.fpsInterval,this.previousTime=t)}requestAnimationFrame(this.workLoop.bind(this))}}computeFpsInterval(){return 1e3/this.maxFps}};var se=class{static _data=new Map;static get(t){return this._data.get(t)}static set(t,n){this._data.set(t,n)}};var yt=class extends z{constructor(n){super();this.scene=n}};var kn=class extends oe{constructor(n,r,i,o){super();this.viewport=n;this.renderer=r;this.physicsSimulation=i;this.inputDevices=o;r.setViewport(n),i.setViewport(n)}loadScene(n){this.renderer.setRootElement(n),this.physicsSimulation.setRootElement(n),this.inputDevices.forEach(r=>r.setRootElement(n)),this.handleEvent(new yt(n))}start(n,r){this.renderer.start(n),this.physicsSimulation.start(r)}};var vt=class extends oe{rootElement;setRootElement(t){this.rootElement=t}dispatchEvent(t){t.target=null,this.rootElement?.dispatchEvent(t)}};var Le=class extends z{};var ne=class extends Le{constructor(n,r){super();this.key=n;this.action=r}},An=class extends vt{constructor(t){super(),t.addEventListener("keydown",this.eventHandler.bind(this)),t.addEventListener("keyup",this.eventHandler.bind(this))}eventHandler(t){this.dispatchEvent(new ne(t.key,t.type==="keydown"?0:1))}};var Vy=[0,2,1];var _o=class extends Le{constructor(n,r,i){super();this.button=n;this.action=r;this.point=i}},Pn=class extends Le{constructor(n){super();this.point=n}},Rn=class extends vt{constructor(n,r){super();this.getLocalPoint=r;n.addEventListener("mousedown",this.inputEventHandler.bind(this)),n.addEventListener("mouseup",this.inputEventHandler.bind(this)),n.addEventListener("mousemove",this.moveEventHandler.bind(this))}inputEventHandler(n){for(let r of Vy)n.button===r&&this.dispatchEvent(new _o(r,n.type==="mousedown"?0:1,this.getLocalPoint(new h(n.x,n.y))))}moveEventHandler(n){this.dispatchEvent(new Pn(this.getLocalPoint(new h(n.x,n.y))))}};var On=class extends Le{constructor(n,r){super();this.type=n;this.meta=r}},Ln=class extends oe{constructor(n){super();this.element=n}trigger(n,r){let i={when:o=>(this.element.on(o.type,s=>{o.condition(s)&&this.handleEvent(new On(n,r))}),i)};return i}};var wo=class extends z{},Fn=class extends oe{inputMapper;_state=new Map;constructor(t){super(),this.inputMapper=new Ln(t),this.inputMapper.on(On,n=>{let r=n.meta==="on";r!==this._state.get(n.type)&&(this._state.set(n.type,r),this.handleEvent(new wo))})}setOn(t){return this.inputMapper.trigger(t,"on")}setOff(t){return this.inputMapper.trigger(t,"off")}onChange(t){this.on(wo,()=>{t(this._state)})}get state(){return this._state}};var we=class e extends _e{_visible=!0;set isVisible(t){this._visible=t}get isVisible(){if(!this._visible)return!1;let t=this.parent;return t&&t instanceof e?t.isVisible:!0}draw(t){}};var q=class e extends we{_position;_translation;_opacity=1;fillColor=void 0;clipRegion=void 0;constructor(t,n){super(n),this._position=t||new h,this._translation=new h}get opacity(){let t=this._opacity,n=B.parentByType(e,this);return n&&(t*=n.opacity),t}set opacity(t){this._opacity=t}get position(){let t=this._position.add(this._translation),n=B.parentByType(e,this);return n?n.position.add(t):t}set position(t){this._position=t}set translation(t){this._translation=t}isTextureClipMask(t){return"mask"in t&&"position"in t}hasTextureClipMask(){return this.clipRegion?(Array.isArray(this.clipRegion)?this.clipRegion:[this.clipRegion]).some(n=>this.isTextureClipMask(n)):!1}applyRectangleClips(t){if(!this.clipRegion)return;let r=(Array.isArray(this.clipRegion)?this.clipRegion:[this.clipRegion]).filter(i=>!this.isTextureClipMask(i));if(r.length>0){t.beginPath();for(let i of r)t.rect(i.x,i.y,i.width,i.height);t.clip()}}applyTextureClipMasks(t,n){if(!this.clipRegion||!this.hasTextureClipMask())return t;let i=(Array.isArray(this.clipRegion)?this.clipRegion:[this.clipRegion]).filter(l=>this.isTextureClipMask(l));if(i.length===0)return t;let o=document.createElement("canvas");o.width=n.width,o.height=n.height;let s=o.getContext("2d");if(!s)return t;for(let l of i)this.isTextureClipMask(l)&&s.drawImage(l.mask.data,l.position.x-n.x,l.position.y-n.y);let a=document.createElement("canvas");a.width=n.width,a.height=n.height;let c=a.getContext("2d");return c?(c.drawImage(t,0,0),c.globalCompositeOperation="destination-in",c.drawImage(o,0,0),a):t}applyFillColorToTexture(t,n,r){if(!this.fillColor)return null;let i=document.createElement("canvas");i.width=n,i.height=r;let o=i.getContext("2d");return o?(o.drawImage(t,0,0),o.globalCompositeOperation="source-in",o.fillStyle=this.fillColor,o.fillRect(0,0,n,r),i):null}renderToTexture(t,n){let r=document.createElement("canvas");r.width=t,r.height=n;let i=r.getContext("2d");if(!i)return null;let o=this._position;this._position=new h(0,0);let s=B.childrenByType(we,this,!0);for(let a of s)a.isVisible&&a.draw(i);return this._position=o,{canvas:r,context:i}}get width(){return 0}get height(){return 0}};function Hy(e,t){let n=new Image;n.onload=()=>A(null,null,function*(){let{naturalWidth:r,naturalHeight:i}=n,s=new OffscreenCanvas(r,i).getContext("2d");if(s){s.drawImage(n,0,0);let a=yield createImageBitmap(s.getImageData(0,0,r,i));t(a)}}),n.src=e}var Te=class e{data=new Image;width=0;height=0;static empty(){return new e}static load(t){let n=new e;return Hy(t,r=>{n.data=r,n.width=r.width,n.height=r.height}),n}static fromImageBitmap(t){let n=new e;return n.data=t,n.width=t.width,n.height=t.height,n}toOffscreenCanvas(){let t=new OffscreenCanvas(this.width,this.height);return t.getContext("2d")?.drawImage(this.data,0,0),t}};var Fe=class{cache=new Map;get(t,n){return A(this,null,function*(){let r=this.cache.get(t);return r||(r=n(),this.cache.set(t,r)),r})}};var Xa=class{constructor(t,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=t,this.useContextVariables=n}generateVariable(t){let n=[...this.scopes[this.scopes.length-1]];return t&&n.push(t),n.join(".")}generateOption(t){switch(typeof t){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return`${this.addImport(t)}.call(${this.generateVariable()}, vars)`}}generateError(t){this.pushCode(`throw new Error(${t});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(t){this.code+=t+`
`}pushPath(t){t&&this.scopes[this.scopes.length-1].push(t)}popPath(t){t&&this.scopes[this.scopes.length-1].pop()}pushScope(t){this.scopes.push([t])}popScope(){this.scopes.pop()}addImport(t){if(!this.importPath)return`(${t})`;let n=this.reverseImports.get(t);return n||(n=this.imports.push(t)-1,this.reverseImports.set(t,n)),`${this.importPath}[${n}]`}addReference(t){this.references.has(t)||this.references.set(t,{resolved:!1,requested:!1})}markResolved(t){let n=this.references.get(t);n&&(n.resolved=!0)}markRequested(t){t.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([t,n])=>!n.resolved&&!n.requested).map(([t,n])=>t)}},Ve=new Map,zt="___parser_",je={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},To={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},bo={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},U=class e{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new e}primitiveGenerateN(t,n){let r=To[t],i=bo[t];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${je[t]};`)}primitiveN(t,n,r){return this.setNextParser(t,n,r)}useThisEndian(t){return t+this.endian.toLowerCase()}uint8(t,n={}){return this.primitiveN("uint8",t,n)}uint16(t,n={}){return this.primitiveN(this.useThisEndian("uint16"),t,n)}uint16le(t,n={}){return this.primitiveN("uint16le",t,n)}uint16be(t,n={}){return this.primitiveN("uint16be",t,n)}uint32(t,n={}){return this.primitiveN(this.useThisEndian("uint32"),t,n)}uint32le(t,n={}){return this.primitiveN("uint32le",t,n)}uint32be(t,n={}){return this.primitiveN("uint32be",t,n)}int8(t,n={}){return this.primitiveN("int8",t,n)}int16(t,n={}){return this.primitiveN(this.useThisEndian("int16"),t,n)}int16le(t,n={}){return this.primitiveN("int16le",t,n)}int16be(t,n={}){return this.primitiveN("int16be",t,n)}int32(t,n={}){return this.primitiveN(this.useThisEndian("int32"),t,n)}int32le(t,n={}){return this.primitiveN("int32le",t,n)}int32be(t,n={}){return this.primitiveN("int32be",t,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(t,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),t,n)}int64be(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",t,n)}int64le(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",t,n)}uint64(t,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),t,n)}uint64be(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",t,n)}uint64le(t,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",t,n)}floatle(t,n={}){return this.primitiveN("floatle",t,n)}floatbe(t,n={}){return this.primitiveN("floatbe",t,n)}doublele(t,n={}){return this.primitiveN("doublele",t,n)}doublebe(t,n={}){return this.primitiveN("doublebe",t,n)}bitN(t,n,r){return r.length=t,this.setNextParser("bit",n,r)}bit1(t,n={}){return this.bitN(1,t,n)}bit2(t,n={}){return this.bitN(2,t,n)}bit3(t,n={}){return this.bitN(3,t,n)}bit4(t,n={}){return this.bitN(4,t,n)}bit5(t,n={}){return this.bitN(5,t,n)}bit6(t,n={}){return this.bitN(6,t,n)}bit7(t,n={}){return this.bitN(7,t,n)}bit8(t,n={}){return this.bitN(8,t,n)}bit9(t,n={}){return this.bitN(9,t,n)}bit10(t,n={}){return this.bitN(10,t,n)}bit11(t,n={}){return this.bitN(11,t,n)}bit12(t,n={}){return this.bitN(12,t,n)}bit13(t,n={}){return this.bitN(13,t,n)}bit14(t,n={}){return this.bitN(14,t,n)}bit15(t,n={}){return this.bitN(15,t,n)}bit16(t,n={}){return this.bitN(16,t,n)}bit17(t,n={}){return this.bitN(17,t,n)}bit18(t,n={}){return this.bitN(18,t,n)}bit19(t,n={}){return this.bitN(19,t,n)}bit20(t,n={}){return this.bitN(20,t,n)}bit21(t,n={}){return this.bitN(21,t,n)}bit22(t,n={}){return this.bitN(22,t,n)}bit23(t,n={}){return this.bitN(23,t,n)}bit24(t,n={}){return this.bitN(24,t,n)}bit25(t,n={}){return this.bitN(25,t,n)}bit26(t,n={}){return this.bitN(26,t,n)}bit27(t,n={}){return this.bitN(27,t,n)}bit28(t,n={}){return this.bitN(28,t,n)}bit29(t,n={}){return this.bitN(29,t,n)}bit30(t,n={}){return this.bitN(30,t,n)}bit31(t,n={}){return this.bitN(31,t,n)}bit32(t,n={}){return this.bitN(32,t,n)}namely(t){return Ve.set(t,this),this.alias=t,this}skip(t,n={}){return this.seek(t,n)}seek(t,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:t})}string(t,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",t,n)}buffer(t,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",t,n)}wrapped(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",t,n)}array(t,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!Ve.has(n.type)&&!(n.type in je))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",t,n)}choice(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!Ve.has(o)&&!(o in je))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",t,n)}nest(t,n){if(typeof n!="object"&&typeof t=="object"&&(n=t,t=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof e)&&!Ve.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof e)&&!t)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",t,n)}pointer(t,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in je)&&!Ve.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",t,n)}saveOffset(t,n={}){return this.setNextParser("saveOffset",t,n)}endianness(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(t){return this.endianness(t)}useContextVars(t=!0){return this.useContextVariables=t,this}create(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this}getContext(t){let n=new Xa(t,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${zt+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(t){t.pushCode("var offset = 0;"),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("vars.$parent = null;"),t.pushCode("vars.$root = vars;"),this.generate(t),this.resolveReferences(t),t.pushCode("delete vars.$parent;"),t.pushCode("delete vars.$root;"),t.pushCode("return vars;")}addAliasedCode(t){return t.pushCode(`function ${zt+this.alias}(offset, context) {`),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),t.pushCode("vars = Object.assign(vars, ctx);"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t}resolveReferences(t){let n=t.getUnresolvedReferences();t.markRequested(n),n.forEach(r=>{var i;(i=Ve.get(r))===null||i===void 0||i.addAliasedCode(t)})}compile(){let t="imports",n=this.getContext(t);this.compiled=new Function(t,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let t=NaN;if(Object.keys(je).indexOf(this.type)>=0)t=je[this.type];else if(this.type==="string"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=je[this.options.type]:this.options.type instanceof e&&(n=this.options.type.sizeOf()),t=this.options.length*n}else this.type==="seek"?t=this.options.length:this.type==="nest"?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t}parse(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn)}setNextParser(t,n,r){let i=new e;return i.type=t,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(t){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,t);break;case"bit":this.generateBit(t);break;case"string":this.generateString(t);break;case"buffer":this.generateBuffer(t);break;case"seek":this.generateSeek(t);break;case"nest":this.generateNest(t);break;case"array":this.generateArray(t);break;case"choice":this.generateChoice(t);break;case"pointer":this.generatePointer(t);break;case"saveOffset":this.generateSaveOffset(t);break;case"wrapper":this.generateWrapper(t);break}this.type!=="bit"&&this.generateAssert(t)}let n=t.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(t,n,this.options.formatter),this.generateNext(t)}generateAssert(t){if(!this.options.assert)return;let n=t.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=t.addImport(this.options.assert);t.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":t.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":t.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}t.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),t.pushCode("}")}generateNext(t){return this.next&&(t=this.next.generate(t)),t}generateBit(t){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=t.generateVariable(n.varName),t.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=t.generateTmpVariable();t.pushCode(`var ${r} = 0;`);let i=(u=0)=>{let f=0;for(let p=u;p<t.bitFields.length;p++){let d=t.bitFields[p].options.length;if(f+d>32)break;f+=d}return f},o=u=>(u<=8?(t.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(t.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(t.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(t.pushCode(`${r} = dataView.getUint32(offset);`),u=32),t.pushCode(`offset += ${u/8};`),u),s=0,a=this.endian==="be",c=0,l=0;t.bitFields.forEach((u,f)=>{let p=u.options.length;if(p>l){if(l){let E=-1>>>32-l;t.pushCode(`${u.varName} = (${r} & 0x${E.toString(16)}) << ${p-l};`),p-=l}s=0,l=c=o(i(f)-l)}let d=a?c-s-p:s,m=-1>>>32-p;t.pushCode(`${u.varName} ${p<u.options.length?"|=":"="} ${r} >> ${d} & 0x${m.toString(16)};`),u.options.length===32&&t.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(t),u.options.formatter&&u.generateFormatter(t,u.varName,u.options.formatter),s+=p,l-=p}),t.bitFields=[]}}generateSeek(t){let n=t.generateOption(this.options.length);t.pushCode(`offset += ${n};`)}generateString(t){let n=t.generateVariable(this.varName),r=t.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;t.pushCode(`var ${r} = offset;`),t.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let c=`offset - ${r} < ${a} ? offset - 1 : offset`;t.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${c}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${c}));`)}else if(this.options.length){let a=t.generateOption(this.options.length);t.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),t.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(t.pushCode(`var ${r} = offset;`),t.pushCode("while(dataView.getUint8(offset++) !== 0);"),t.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(t.pushCode(`var ${r} = offset;`),t.pushCode("while(buffer.length > offset++);"),t.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&t.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(t){let n=t.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=t.generateTmpVariable(),o=t.generateTmpVariable();t.pushCode(`var ${i} = offset;`),t.pushCode(`var ${o} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${o} = dataView.getUint8(offset);`);let s=t.addImport(r);t.pushCode(`if (${s}.call(${t.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${n} = buffer.subarray(offset);`);else{let r=t.generateOption(this.options.length);t.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),t.pushCode(`offset += ${r};`)}this.options.clone&&t.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(t){let n=t.generateOption(this.options.length),r=t.generateOption(this.options.lengthInBytes),i=this.options.type,o=t.generateTmpVariable(),s=t.generateVariable(this.varName),a=t.generateTmpVariable(),c=this.options.key,l=typeof c=="string";if(l?t.pushCode(`${s} = {};`):t.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?t.pushCode("do {"):this.options.readUntil==="eof"?t.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?t.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):t.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(Ve.get(i)){let u=t.generateTmpVariable();if(t.pushCode(`var ${u} = ${zt+i}(offset, {`),t.useContextVariables){let f=t.generateVariable();t.pushCode(`$parent: ${f},`),t.pushCode(`$root: ${f}.$root,`),!this.options.readUntil&&r===void 0&&t.pushCode(`$index: ${n} - ${o},`)}t.pushCode("});"),t.pushCode(`var ${a} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&t.addReference(i)}else{let u=To[i],f=bo[i];t.pushCode(`var ${a} = dataView.get${u}(offset, ${f});`),t.pushCode(`offset += ${je[i]};`)}else if(i instanceof e){t.pushCode(`var ${a} = {};`);let u=t.generateVariable();t.pushScope(a),t.useContextVariables&&(t.pushCode(`${a}.$parent = ${u};`),t.pushCode(`${a}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&t.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(t),t.useContextVariables&&(t.pushCode(`delete ${a}.$parent;`),t.pushCode(`delete ${a}.$root;`),t.pushCode(`delete ${a}.$index;`)),t.popScope()}if(l?t.pushCode(`${s}[${a}.${c}] = ${a};`):t.pushCode(`${s}.push(${a});`),t.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,f=t.addImport(u);t.pushCode(`while (!${f}.call(${t.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(t,n,r){if(typeof r=="string"){let i=t.generateVariable(this.varName);if(Ve.has(r)){let o=t.generateTmpVariable();t.pushCode(`var ${o} = ${zt+r}(offset, {`),t.useContextVariables&&(t.pushCode(`$parent: ${i}.$parent,`),t.pushCode(`$root: ${i}.$root,`)),t.pushCode("});"),t.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&t.addReference(r)}else{let o=To[r],s=bo[r];t.pushCode(`${i} = dataView.get${o}(offset, ${s});`),t.pushCode(`offset += ${je[r]}`)}}else r instanceof e&&(t.pushPath(n),r.generate(t),t.popPath(n))}generateChoice(t){let n=t.generateOption(this.options.tag),r=t.generateVariable(this.varName);if(this.varName&&(t.pushCode(`${r} = {};`),t.useContextVariables)){let i=t.generateVariable();t.pushCode(`${r}.$parent = ${i};`),t.pushCode(`${r}.$root = ${i}.$root;`)}t.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];t.pushCode(`case ${o}:`),this.generateChoiceCase(t,this.varName,s),t.pushCode("break;")}t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError(`"Met undefined tag value " + ${n} + " at choice"`),t.pushCode("}"),this.varName&&t.useContextVariables&&(t.pushCode(`delete ${r}.$parent;`),t.pushCode(`delete ${r}.$root;`))}generateNest(t){let n=t.generateVariable(this.varName);if(this.options.type instanceof e){if(this.varName&&(t.pushCode(`${n} = {};`),t.useContextVariables)){let r=t.generateVariable();t.pushCode(`${n}.$parent = ${r};`),t.pushCode(`${n}.$root = ${r}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),this.varName&&t.useContextVariables&&t.useContextVariables&&(t.pushCode(`delete ${n}.$parent;`),t.pushCode(`delete ${n}.$root;`))}else if(Ve.has(this.options.type)){let r=t.generateTmpVariable();if(t.pushCode(`var ${r} = ${zt+this.options.type}(offset, {`),t.useContextVariables){let i=t.generateVariable();t.pushCode(`$parent: ${i},`),t.pushCode(`$root: ${i}.$root,`)}t.pushCode("});"),t.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}}generateWrapper(t){let n=t.generateVariable(this.varName),r=t.generateTmpVariable();if(typeof this.options.readUntil=="function"){let c=this.options.readUntil,l=t.generateTmpVariable(),u=t.generateTmpVariable();t.pushCode(`var ${l} = offset;`),t.pushCode(`var ${u} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${u} = dataView.getUint8(offset);`);let f=t.addImport(c);t.pushCode(`if (${f}.call(${t.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${r} = buffer.subarray(offset);`);else{let c=t.generateOption(this.options.length);t.pushCode(`${r} = buffer.subarray(offset, offset + ${c});`),t.pushCode(`offset += ${c};`)}this.options.clone&&t.pushCode(`${r} = buffer.constructor.from(${r});`);let i=t.generateTmpVariable(),o=t.generateTmpVariable(),s=t.generateTmpVariable(),a=t.addImport(this.options.wrapper);if(t.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),t.pushCode(`var ${i} = buffer;`),t.pushCode(`var ${o} = offset;`),t.pushCode(`var ${s} = dataView;`),t.pushCode(`buffer = ${r};`),t.pushCode("offset = 0;"),t.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof e)this.varName&&t.pushCode(`${n} = {};`),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(Ve.has(this.options.type)){let c=t.generateTmpVariable();t.pushCode(`var ${c} = ${zt+this.options.type}(0);`),t.pushCode(`${n} = ${c}.result;`),this.options.type!==this.alias&&t.addReference(this.options.type)}t.pushCode(`buffer = ${i};`),t.pushCode(`dataView = ${s};`),t.pushCode(`offset = ${o};`)}generateFormatter(t,n,r){if(typeof r=="function"){let i=t.addImport(r);t.pushCode(`${n} = ${i}.call(${t.generateVariable()}, ${n});`)}}generatePointer(t){let n=this.options.type,r=t.generateOption(this.options.offset),i=t.generateTmpVariable(),o=t.generateVariable(this.varName);if(t.pushCode(`var ${i} = offset;`),t.pushCode(`offset = ${r};`),this.options.type instanceof e){if(t.pushCode(`${o} = {};`),t.useContextVariables){let s=t.generateVariable();t.pushCode(`${o}.$parent = ${s};`),t.pushCode(`${o}.$root = ${s}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),t.useContextVariables&&(t.pushCode(`delete ${o}.$parent;`),t.pushCode(`delete ${o}.$root;`))}else if(Ve.has(this.options.type)){let s=t.generateTmpVariable();if(t.pushCode(`var ${s} = ${zt+this.options.type}(offset, {`),t.useContextVariables){let a=t.generateVariable();t.pushCode(`$parent: ${a},`),t.pushCode(`$root: ${a}.$root,`)}t.pushCode("});"),t.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}else if(Object.keys(je).indexOf(this.options.type)>=0){let s=To[n],a=bo[n];t.pushCode(`${o} = dataView.get${s}(offset, ${a});`),t.pushCode(`offset += ${je[n]};`)}t.pushCode(`offset = ${i};`)}generateSaveOffset(t){let n=t.generateVariable(this.varName);t.pushCode(`${n} = offset`)}};var $y=new U().endianness("little").array("data",{type:"uint8",lengthInBytes:function(){return this.$parent.size-6}}),By=new U().endianness("little").uint8("red").uint8("green").uint8("blue"),Uy=new U().endianness("little").uint8("red").uint8("green").uint8("blue").uint8("alpha"),Co=new U().endianness("little").uint16("length").string("value",{length:"length"}),of=new U().endianness("little").uint16("numberOfPackets").array("packets",{type:new U().endianness("little").uint8("entriesToSkip").uint8("numberOfColors").array("colors",{type:By,length:function(){return this.numberOfColors||256}}),length:"numberOfPackets"}),Wy=new U().endianness("little").uint32("size").uint32("firstIndex").uint32("lastIndex").seek(8).array("colors",{type:new U().endianness("little").uint16("flags").nest("color",{type:Uy}).array("name",{type:Co,length:function(){return this.flags===1?1:0}}),length:function(){return this.lastIndex-this.firstIndex+1}}),zy=new U().endianness("little").uint16("flags").uint16("type").uint16("childLevel").uint16("ignored").uint16("ignored").uint16("blendMode").uint8("opacity").seek(3).nest("name",{type:Co}).array("tilesetIndex",{type:"uint32le",length:function(){return this.type===2?1:0}}),Gy=new U().endianness("little").uint16("linkedFrame"),qy=new U().endianness("little").uint16("w").uint16("h").array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-26}}),Zy=new U().endianness("little").uint16("w").uint16("h").uint16("bitsPerTile").uint32("tileIdBitmask").uint32("xFlipBitmask").uint32("yFlipBitmask").uint32("diagonalFlipBitmask").seek(10).array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-54}}),Ja=1,el=2,Qy=3,Yy=new U().endianness("little").uint16("layerIndex").int16("x").int16("y").uint8("opacity").uint16("cellType").int16("zIndex").seek(5).choice("data",{tag:"cellType",choices:{[Ja]:Gy,[el]:qy,[Qy]:Zy}}),Ky=new U().endianness("little").uint16("fromFrame").uint16("toFrame").uint8("loopAnimationDirection").uint16("repeatAnimation").seek(10).nest("tagName",{type:Co}),Xy=new U().endianness("little").uint16("numberOfTags").seek(8).array("tags",{type:Ky,length:"numberOfTags"}),Jy=new U().endianness("little").uint32("tilesetId").uint32("tilesetFlags").uint32("numberOfTiles").uint16("tileWidth").uint16("tileHeight").int16("baseIndex").seek(14).nest("name",{type:Co}).array("external",{type:"uint32le",length:function(){return this.tilesetFlags&1?2:0}}).array("internalLength",{type:"uint32le",length:function(){return this.tilesetFlags&2?1:0}}).array("rawCompressed",{type:"uint8",length:function(){return this.tilesetFlags&2?this.internalLength[0]:0}}),ev=new U().endianness("little").uint32("fileSize").uint16("magicNumber").uint16("frames").uint16("width").uint16("height").uint16("colorDepth").uint32("flags").uint16("DEPRECATED_speed").seek(8).uint8("transparentIndex").seek(3).uint16("numberOfColors").uint8("pixelWidth").uint8("pixelHeight").int16("gridX").int16("gridY").uint16("gridWidth").uint16("gridHeight").seek(84),tv=new U().endianness("little").uint32("bytesInFrame").uint16("magicNumber").uint16("oldChunks").uint16("frameDuration").seek(2).uint32("chunks"),Vn=8196,tl=8197,xo=8216,nv=4,rv=17,nl=8217,rl=8227,iv=new U().endianness("little").uint32("size").uint16("chunkType").choice("data",{tag:"chunkType",choices:{[nv]:of,[rv]:of,[Vn]:zy,[tl]:Yy,[xo]:Xy,[nl]:Wy,[rl]:Jy},defaultChoice:$y}),ov=new U().endianness("little").nest("header",{type:tv}).array("chunks",{type:iv,length:function(){return this.header.chunks||this.header.oldChunks}}),sf=new U().useContextVars().endianness("little").nest("header",{type:ev}).array("frames",{type:ov,length:"header.frames"});function Wn(e){let t=e.length;for(;--t>=0;)e[t]=0}var sv=0,zf=1,av=2,lv=3,cv=258,Dl=29,ri=256,Qr=ri+1+Dl,$n=30,Sl=19,Gf=2*Qr+1,Gt=15,il=16,uv=7,Ml=256,qf=16,Zf=17,Qf=18,vl=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ao=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dv=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Yf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fv=512,it=new Array((Qr+2)*2);Wn(it);var Gr=new Array($n*2);Wn(Gr);var Yr=new Array(fv);Wn(Yr);var Kr=new Array(cv-lv+1);Wn(Kr);var Nl=new Array(Dl);Wn(Nl);var Po=new Array($n);Wn(Po);function ol(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Kf,Xf,Jf;function sl(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}var ep=e=>e<256?Yr[e]:Yr[256+(e>>>7)],Xr=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ae=(e,t,n)=>{e.bi_valid>il-n?(e.bi_buf|=t<<e.bi_valid&65535,Xr(e,e.bi_buf),e.bi_buf=t>>il-e.bi_valid,e.bi_valid+=n-il):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},qe=(e,t,n)=>{ae(e,n[t*2],n[t*2+1])},tp=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},pv=e=>{e.bi_valid===16?(Xr(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},hv=(e,t)=>{let n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,l,u,f,p,d,m,E=0;for(p=0;p<=Gt;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Gf;l++)u=e.heap[l],p=n[n[u*2+1]*2+1]+1,p>c&&(p=c,E++),n[u*2+1]=p,!(u>r)&&(e.bl_count[p]++,d=0,u>=a&&(d=s[u-a]),m=n[u*2],e.opt_len+=m*(p+d),o&&(e.static_len+=m*(i[u*2+1]+d)));if(E!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,E-=2}while(E>0);for(p=c;p!==0;p--)for(u=e.bl_count[p];u!==0;)f=e.heap[--l],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),u--)}},np=(e,t,n)=>{let r=new Array(Gt+1),i=0,o,s;for(o=1;o<=Gt;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=tp(r[a]++,a))}},mv=()=>{let e,t,n,r,i,o=new Array(Gt+1);for(n=0,r=0;r<Dl-1;r++)for(Nl[r]=n,e=0;e<1<<vl[r];e++)Kr[n++]=r;for(Kr[n-1]=r,i=0,r=0;r<16;r++)for(Po[r]=i,e=0;e<1<<Ao[r];e++)Yr[i++]=r;for(i>>=7;r<$n;r++)for(Po[r]=i<<7,e=0;e<1<<Ao[r]-7;e++)Yr[256+i++]=r;for(t=0;t<=Gt;t++)o[t]=0;for(e=0;e<=143;)it[e*2+1]=8,e++,o[8]++;for(;e<=255;)it[e*2+1]=9,e++,o[9]++;for(;e<=279;)it[e*2+1]=7,e++,o[7]++;for(;e<=287;)it[e*2+1]=8,e++,o[8]++;for(np(it,Qr+1,o),e=0;e<$n;e++)Gr[e*2+1]=5,Gr[e*2]=tp(e,5);Kf=new ol(it,vl,ri+1,Qr,Gt),Xf=new ol(Gr,Ao,0,$n,Gt),Jf=new ol(new Array(0),dv,0,Sl,uv)},rp=e=>{let t;for(t=0;t<Qr;t++)e.dyn_ltree[t*2]=0;for(t=0;t<$n;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Sl;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Ml*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},ip=e=>{e.bi_valid>8?Xr(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},af=(e,t,n,r)=>{let i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},al=(e,t,n)=>{let r=e.heap[n],i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&af(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!af(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},lf=(e,t,n)=>{let r,i,o=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+o++]&255,r+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],r===0?qe(e,i,t):(s=Kr[i],qe(e,s+ri+1,t),a=vl[s],a!==0&&(i-=Nl[s],ae(e,i,a)),r--,s=ep(r),qe(e,s,n),a=Ao[s],a!==0&&(r-=Po[s],ae(e,r,a)));while(o<e.sym_next);qe(e,Ml,t)},Il=(e,t)=>{let n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,c=-1,l;for(e.heap_len=0,e.heap_max=Gf,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)al(e,n,s);l=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],al(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[l*2]=n[s*2]+n[a*2],e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=l,e.heap[1]=l++,al(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hv(e,t),np(n,c,e.bl_count)},cf=(e,t,n)=>{let r,i=-1,o,s=t[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<c&&o===s)&&(a<l?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[qf*2]++):a<=10?e.bl_tree[Zf*2]++:e.bl_tree[Qf*2]++,a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4))},uf=(e,t,n)=>{let r,i=-1,o,s=t[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<c&&o===s)){if(a<l)do qe(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(qe(e,o,e.bl_tree),a--),qe(e,qf,e.bl_tree),ae(e,a-3,2)):a<=10?(qe(e,Zf,e.bl_tree),ae(e,a-3,3)):(qe(e,Qf,e.bl_tree),ae(e,a-11,7));a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4)}},gv=e=>{let t;for(cf(e,e.dyn_ltree,e.l_desc.max_code),cf(e,e.dyn_dtree,e.d_desc.max_code),Il(e,e.bl_desc),t=Sl-1;t>=3&&e.bl_tree[Yf[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},yv=(e,t,n,r)=>{let i;for(ae(e,t-257,5),ae(e,n-1,5),ae(e,r-4,4),i=0;i<r;i++)ae(e,e.bl_tree[Yf[i]*2+1],3);uf(e,e.dyn_ltree,t-1),uf(e,e.dyn_dtree,n-1)},vv=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(n=32;n<ri;n++)if(e.dyn_ltree[n*2]!==0)return 1;return 0},df=!1,Iv=e=>{df||(mv(),df=!0),e.l_desc=new sl(e.dyn_ltree,Kf),e.d_desc=new sl(e.dyn_dtree,Xf),e.bl_desc=new sl(e.bl_tree,Jf),e.bi_buf=0,e.bi_valid=0,rp(e)},op=(e,t,n,r)=>{ae(e,(sv<<1)+(r?1:0),3),ip(e),Xr(e,n),Xr(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Ev=e=>{ae(e,zf<<1,3),qe(e,Ml,it),pv(e)},_v=(e,t,n,r)=>{let i,o,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=vv(e)),Il(e,e.l_desc),Il(e,e.d_desc),s=gv(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?op(e,t,n,r):e.strategy===4||o===i?(ae(e,(zf<<1)+(r?1:0),3),lf(e,it,Gr)):(ae(e,(av<<1)+(r?1:0),3),yv(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),lf(e,e.dyn_ltree,e.dyn_dtree)),rp(e),r&&ip(e)},wv=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Kr[n]+ri+1)*2]++,e.dyn_dtree[ep(t)*2]++),e.sym_next===e.sym_end),Tv=Iv,bv=op,Cv=_v,xv=wv,Dv=Ev,Sv={_tr_init:Tv,_tr_stored_block:bv,_tr_flush_block:Cv,_tr_tally:xv,_tr_align:Dv},Mv=(e,t,n,r)=>{let i=e&65535|0,o=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},Jr=Mv,Nv=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},kv=new Uint32Array(Nv()),Av=(e,t,n,r)=>{let i=kv,o=r+n;e^=-1;for(let s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1},K=Av,Qt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Pv,_tr_stored_block:El,_tr_flush_block:Rv,_tr_tally:_t,_tr_align:Ov}=Sv,{Z_NO_FLUSH:wt,Z_PARTIAL_FLUSH:Lv,Z_FULL_FLUSH:Fv,Z_FINISH:be,Z_BLOCK:ff,Z_OK:J,Z_STREAM_END:pf,Z_STREAM_ERROR:Ze,Z_DATA_ERROR:Vv,Z_BUF_ERROR:ll,Z_DEFAULT_COMPRESSION:jv,Z_FILTERED:Hv,Z_HUFFMAN_ONLY:Do,Z_RLE:$v,Z_FIXED:Bv,Z_DEFAULT_STRATEGY:Uv,Z_UNKNOWN:Wv,Z_DEFLATED:Lo}=zn,zv=9,Gv=15,qv=8,Zv=29,Qv=256,_l=Qv+1+Zv,Yv=30,Kv=19,Xv=2*_l+1,Jv=15,x=3,Et=258,Qe=Et+x+1,eI=32,Bn=42,kl=57,wl=69,Tl=73,bl=91,Cl=103,qt=113,Wr=666,re=1,Gn=2,Yt=3,qn=4,tI=3,Zt=(e,t)=>(e.msg=Qt[t],t),hf=e=>e*2-(e>4?9:0),It=e=>{let t=e.length;for(;--t>=0;)e[t]=0},nI=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)},rI=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Tt=rI,fe=e=>{let t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},pe=(e,t)=>{Rv(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fe(e.strm)},R=(e,t)=>{e.pending_buf[e.pending++]=t},Ur=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},xl=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Jr(e.adler,t,i,n):e.state.wrap===2&&(e.adler=K(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},sp=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-Qe?e.strstart-(e.w_size-Qe):0,l=e.window,u=e.w_mask,f=e.prev,p=e.strstart+Et,d=l[r+s-1],m=l[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(l[i+s]!==m||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<p);if(o=Et-(p-r),r=p-Et,o>s){if(e.match_start=t,s=o,o>=a)break;d=l[r+s-1],m=l[r+s]}}while((t=f[t&u])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},Un=e=>{let t=e.w_size,n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Qe)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),nI(e),r+=t),e.strm.avail_in===0)break;if(n=xl(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=x)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Tt(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Tt(e,e.ins_h,e.window[i+x-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<Qe&&e.strm.avail_in!==0)},ap=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,o,s=0,a=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&t!==be||t===wt||r!==i+e.strm.avail_in)))break;s=t===be&&r===i+e.strm.avail_in?1:0,El(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,fe(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(xl(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?qn:t!==wt&&t!==be&&e.strm.avail_in===0&&e.strstart===e.block_start?Gn:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(xl(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=n||(i||t===be)&&t!==wt&&e.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=t===be&&e.strm.avail_in===0&&r===i?1:0,El(e,e.block_start,r,s),e.block_start+=r,fe(e.strm)),s?Yt:re)},cl=(e,t)=>{let n,r;for(;;){if(e.lookahead<Qe){if(Un(e),e.lookahead<Qe&&t===wt)return re;if(e.lookahead===0)break}if(n=0,e.lookahead>=x&&(e.ins_h=Tt(e,e.ins_h,e.window[e.strstart+x-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Qe&&(e.match_length=sp(e,n)),e.match_length>=x)if(r=_t(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){e.match_length--;do e.strstart++,e.ins_h=Tt(e,e.ins_h,e.window[e.strstart+x-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Tt(e,e.ins_h,e.window[e.strstart+1]);else r=_t(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(pe(e,!1),e.strm.avail_out===0))return re}return e.insert=e.strstart<x-1?e.strstart:x-1,t===be?(pe(e,!0),e.strm.avail_out===0?Yt:qn):e.sym_next&&(pe(e,!1),e.strm.avail_out===0)?re:Gn},jn=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Qe){if(Un(e),e.lookahead<Qe&&t===wt)return re;if(e.lookahead===0)break}if(n=0,e.lookahead>=x&&(e.ins_h=Tt(e,e.ins_h,e.window[e.strstart+x-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Qe&&(e.match_length=sp(e,n),e.match_length<=5&&(e.strategy===Hv||e.match_length===x&&e.strstart-e.match_start>4096)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-x,r=_t(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Tt(e,e.ins_h,e.window[e.strstart+x-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=x-1,e.strstart++,r&&(pe(e,!1),e.strm.avail_out===0))return re}else if(e.match_available){if(r=_t(e,0,e.window[e.strstart-1]),r&&pe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return re}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=_t(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===be?(pe(e,!0),e.strm.avail_out===0?Yt:qn):e.sym_next&&(pe(e,!1),e.strm.avail_out===0)?re:Gn},iI=(e,t)=>{let n,r,i,o,s=e.window;for(;;){if(e.lookahead<=Et){if(Un(e),e.lookahead<=Et&&t===wt)return re;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=x&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+Et;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=Et-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(n=_t(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=_t(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(pe(e,!1),e.strm.avail_out===0))return re}return e.insert=0,t===be?(pe(e,!0),e.strm.avail_out===0?Yt:qn):e.sym_next&&(pe(e,!1),e.strm.avail_out===0)?re:Gn},oI=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Un(e),e.lookahead===0)){if(t===wt)return re;break}if(e.match_length=0,n=_t(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(pe(e,!1),e.strm.avail_out===0))return re}return e.insert=0,t===be?(pe(e,!0),e.strm.avail_out===0?Yt:qn):e.sym_next&&(pe(e,!1),e.strm.avail_out===0)?re:Gn};function Ge(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var zr=[new Ge(0,0,0,0,ap),new Ge(4,4,8,4,cl),new Ge(4,5,16,8,cl),new Ge(4,6,32,32,cl),new Ge(4,4,16,16,jn),new Ge(8,16,32,32,jn),new Ge(8,16,128,128,jn),new Ge(8,32,128,256,jn),new Ge(32,128,258,1024,jn),new Ge(32,258,258,4096,jn)],sI=e=>{e.window_size=2*e.w_size,It(e.head),e.max_lazy_match=zr[e.level].max_lazy,e.good_match=zr[e.level].good_length,e.nice_match=zr[e.level].nice_length,e.max_chain_length=zr[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0};function aI(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Lo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Xv*2),this.dyn_dtree=new Uint16Array((2*Yv+1)*2),this.bl_tree=new Uint16Array((2*Kv+1)*2),It(this.dyn_ltree),It(this.dyn_dtree),It(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Jv+1),this.heap=new Uint16Array(2*_l+1),It(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_l+1),It(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ii=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.status!==Bn&&t.status!==kl&&t.status!==wl&&t.status!==Tl&&t.status!==bl&&t.status!==Cl&&t.status!==qt&&t.status!==Wr?1:0},lp=e=>{if(ii(e))return Zt(e,Ze);e.total_in=e.total_out=0,e.data_type=Wv;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?kl:t.wrap?Bn:qt,e.adler=t.wrap===2?0:1,t.last_flush=-2,Pv(t),J},cp=e=>{let t=lp(e);return t===J&&sI(e.state),t},lI=(e,t)=>ii(e)||e.state.wrap!==2?Ze:(e.state.gzhead=t,J),up=(e,t,n,r,i,o)=>{if(!e)return Ze;let s=1;if(t===jv&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>zv||n!==Lo||r<8||r>15||t<0||t>9||o<0||o>Bv||r===8&&s!==1)return Zt(e,Ze);r===8&&(r=9);let a=new aI;return e.state=a,a.strm=e,a.status=Bn,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+x-1)/x),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=o,a.method=n,cp(e)},cI=(e,t)=>up(e,t,Lo,Gv,qv,Uv),uI=(e,t)=>{if(ii(e)||t>ff||t<0)return e?Zt(e,Ze):Ze;let n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Wr&&t!==be)return Zt(e,e.avail_out===0?ll:Ze);let r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(fe(e),e.avail_out===0)return n.last_flush=-1,J}else if(e.avail_in===0&&hf(t)<=hf(r)&&t!==be)return Zt(e,ll);if(n.status===Wr&&e.avail_in!==0)return Zt(e,ll);if(n.status===Bn&&n.wrap===0&&(n.status=qt),n.status===Bn){let i=Lo+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=Do||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=eI),i+=31-i%31,Ur(n,i),n.strstart!==0&&(Ur(n,e.adler>>>16),Ur(n,e.adler&65535)),e.adler=1,n.status=qt,fe(e),n.pending!==0)return n.last_flush=-1,J}if(n.status===kl){if(e.adler=0,R(n,31),R(n,139),R(n,8),n.gzhead)R(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),R(n,n.gzhead.time&255),R(n,n.gzhead.time>>8&255),R(n,n.gzhead.time>>16&255),R(n,n.gzhead.time>>24&255),R(n,n.level===9?2:n.strategy>=Do||n.level<2?4:0),R(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(R(n,n.gzhead.extra.length&255),R(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=K(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=wl;else if(R(n,0),R(n,0),R(n,0),R(n,0),R(n,0),R(n,n.level===9?2:n.strategy>=Do||n.level<2?4:0),R(n,tI),n.status=qt,fe(e),n.pending!==0)return n.last_flush=-1,J}if(n.status===wl){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=K(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,fe(e),n.pending!==0)return n.last_flush=-1,J;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(e.adler=K(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Tl}if(n.status===Tl){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=K(e.adler,n.pending_buf,n.pending-i,i)),fe(e),n.pending!==0)return n.last_flush=-1,J;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,R(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=K(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=bl}if(n.status===bl){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=K(e.adler,n.pending_buf,n.pending-i,i)),fe(e),n.pending!==0)return n.last_flush=-1,J;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,R(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=K(e.adler,n.pending_buf,n.pending-i,i))}n.status=Cl}if(n.status===Cl){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(fe(e),n.pending!==0))return n.last_flush=-1,J;R(n,e.adler&255),R(n,e.adler>>8&255),e.adler=0}if(n.status=qt,fe(e),n.pending!==0)return n.last_flush=-1,J}if(e.avail_in!==0||n.lookahead!==0||t!==wt&&n.status!==Wr){let i=n.level===0?ap(n,t):n.strategy===Do?oI(n,t):n.strategy===$v?iI(n,t):zr[n.level].func(n,t);if((i===Yt||i===qn)&&(n.status=Wr),i===re||i===Yt)return e.avail_out===0&&(n.last_flush=-1),J;if(i===Gn&&(t===Lv?Ov(n):t!==ff&&(El(n,0,0,!1),t===Fv&&(It(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),fe(e),e.avail_out===0))return n.last_flush=-1,J}return t!==be?J:n.wrap<=0?pf:(n.wrap===2?(R(n,e.adler&255),R(n,e.adler>>8&255),R(n,e.adler>>16&255),R(n,e.adler>>24&255),R(n,e.total_in&255),R(n,e.total_in>>8&255),R(n,e.total_in>>16&255),R(n,e.total_in>>24&255)):(Ur(n,e.adler>>>16),Ur(n,e.adler&65535)),fe(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?J:pf)},dI=e=>{if(ii(e))return Ze;let t=e.state.status;return e.state=null,t===qt?Zt(e,Vv):J},fI=(e,t)=>{let n=t.length;if(ii(e))return Ze;let r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Bn||r.lookahead)return Ze;if(i===1&&(e.adler=Jr(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(It(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}let o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Un(r);r.lookahead>=x;){let c=r.strstart,l=r.lookahead-(x-1);do r.ins_h=Tt(r,r.ins_h,r.window[c+x-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--l);r.strstart=c,r.lookahead=x-1,Un(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,r.wrap=i,J},pI=cI,hI=up,mI=cp,gI=lp,yI=lI,vI=uI,II=dI,EI=fI,_I="pako deflate (from Nodeca project)",qr={deflateInit:pI,deflateInit2:hI,deflateReset:mI,deflateResetKeep:gI,deflateSetHeader:yI,deflate:vI,deflateEnd:II,deflateSetDictionary:EI,deflateInfo:_I},wI=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),TI=function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)wI(n,r)&&(e[r]=n[r])}}return e},bI=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;let n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let s=e[r];n.set(s,i),i+=s.length}return n},Fo={assign:TI,flattenChunks:bI},dp=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dp=!1}var ei=new Uint8Array(256);for(let e=0;e<256;e++)ei[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ei[254]=ei[254]=1;var CI=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t},xI=(e,t)=>{if(t<65534&&e.subarray&&dp)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},DI=(e,t)=>{let n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){o[i++]=s;continue}let a=ei[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return xI(o,i)},SI=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+ei[e[n]]>t?n:t},ti={string2buf:CI,buf2string:DI,utf8border:SI};function MI(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fp=MI,pp=Object.prototype.toString,{Z_NO_FLUSH:NI,Z_SYNC_FLUSH:kI,Z_FULL_FLUSH:AI,Z_FINISH:PI,Z_OK:Ro,Z_STREAM_END:RI,Z_DEFAULT_COMPRESSION:OI,Z_DEFAULT_STRATEGY:LI,Z_DEFLATED:FI}=zn;function oi(e){this.options=Fo.assign({level:OI,method:FI,chunkSize:16384,windowBits:15,memLevel:8,strategy:LI},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fp,this.strm.avail_out=0;let n=qr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ro)throw new Error(Qt[n]);if(t.header&&qr.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=ti.string2buf(t.dictionary):pp.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=qr.deflateSetDictionary(this.strm,r),n!==Ro)throw new Error(Qt[n]);this._dict_set=!0}}oi.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?PI:NI,typeof e=="string"?n.input=ti.string2buf(e):pp.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===kI||o===AI)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=qr.deflate(n,o),i===RI)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=qr.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ro;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};oi.prototype.onData=function(e){this.chunks.push(e)};oi.prototype.onEnd=function(e){e===Ro&&(this.result=Fo.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Al(e,t){let n=new oi(t);if(n.push(e,!0),n.err)throw n.msg||Qt[n.err];return n.result}function VI(e,t){return t=t||{},t.raw=!0,Al(e,t)}function jI(e,t){return t=t||{},t.gzip=!0,Al(e,t)}var HI=oi,$I=Al,BI=VI,UI=jI,WI=zn,zI={Deflate:HI,deflate:$I,deflateRaw:BI,gzip:UI,constants:WI},So=16209,GI=16191,qI=function(t,n){let r,i,o,s,a,c,l,u,f,p,d,m,E,v,y,O,b,g,k,Q,I,H,D,_,C=t.state;r=t.next_in,D=t.input,i=r+(t.avail_in-5),o=t.next_out,_=t.output,s=o-(n-t.avail_out),a=o+(t.avail_out-257),c=C.dmax,l=C.wsize,u=C.whave,f=C.wnext,p=C.window,d=C.hold,m=C.bits,E=C.lencode,v=C.distcode,y=(1<<C.lenbits)-1,O=(1<<C.distbits)-1;e:do{m<15&&(d+=D[r++]<<m,m+=8,d+=D[r++]<<m,m+=8),b=E[d&y];t:for(;;){if(g=b>>>24,d>>>=g,m-=g,g=b>>>16&255,g===0)_[o++]=b&65535;else if(g&16){k=b&65535,g&=15,g&&(m<g&&(d+=D[r++]<<m,m+=8),k+=d&(1<<g)-1,d>>>=g,m-=g),m<15&&(d+=D[r++]<<m,m+=8,d+=D[r++]<<m,m+=8),b=v[d&O];n:for(;;){if(g=b>>>24,d>>>=g,m-=g,g=b>>>16&255,g&16){if(Q=b&65535,g&=15,m<g&&(d+=D[r++]<<m,m+=8,m<g&&(d+=D[r++]<<m,m+=8)),Q+=d&(1<<g)-1,Q>c){t.msg="invalid distance too far back",C.mode=So;break e}if(d>>>=g,m-=g,g=o-s,Q>g){if(g=Q-g,g>u&&C.sane){t.msg="invalid distance too far back",C.mode=So;break e}if(I=0,H=p,f===0){if(I+=l-g,g<k){k-=g;do _[o++]=p[I++];while(--g);I=o-Q,H=_}}else if(f<g){if(I+=l+f-g,g-=f,g<k){k-=g;do _[o++]=p[I++];while(--g);if(I=0,f<k){g=f,k-=g;do _[o++]=p[I++];while(--g);I=o-Q,H=_}}}else if(I+=f-g,g<k){k-=g;do _[o++]=p[I++];while(--g);I=o-Q,H=_}for(;k>2;)_[o++]=H[I++],_[o++]=H[I++],_[o++]=H[I++],k-=3;k&&(_[o++]=H[I++],k>1&&(_[o++]=H[I++]))}else{I=o-Q;do _[o++]=_[I++],_[o++]=_[I++],_[o++]=_[I++],k-=3;while(k>2);k&&(_[o++]=_[I++],k>1&&(_[o++]=_[I++]))}}else if((g&64)===0){b=v[(b&65535)+(d&(1<<g)-1)];continue n}else{t.msg="invalid distance code",C.mode=So;break e}break}}else if((g&64)===0){b=E[(b&65535)+(d&(1<<g)-1)];continue t}else if(g&32){C.mode=GI;break e}else{t.msg="invalid literal/length code",C.mode=So;break e}break}}while(r<i&&o<a);k=m>>3,r-=k,m-=k<<3,d&=(1<<m)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=o<a?257+(a-o):257-(o-a),C.hold=d,C.bits=m},Hn=15,mf=852,gf=592,yf=0,ul=1,vf=2,ZI=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),QI=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),YI=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KI=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),XI=(e,t,n,r,i,o,s,a)=>{let c=a.bits,l=0,u=0,f=0,p=0,d=0,m=0,E=0,v=0,y=0,O=0,b,g,k,Q,I,H=null,D,_=new Uint16Array(Hn+1),C=new Uint16Array(Hn+1),Ct=null,Vl,pi,hi;for(l=0;l<=Hn;l++)_[l]=0;for(u=0;u<r;u++)_[t[n+u]]++;for(d=c,p=Hn;p>=1&&_[p]===0;p--);if(d>p&&(d=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&_[f]===0;f++);for(d<f&&(d=f),v=1,l=1;l<=Hn;l++)if(v<<=1,v-=_[l],v<0)return-1;if(v>0&&(e===yf||p!==1))return-1;for(C[1]=0,l=1;l<Hn;l++)C[l+1]=C[l]+_[l];for(u=0;u<r;u++)t[n+u]!==0&&(s[C[t[n+u]]++]=u);if(e===yf?(H=Ct=s,D=20):e===ul?(H=ZI,Ct=QI,D=257):(H=YI,Ct=KI,D=0),O=0,u=0,l=f,I=o,m=d,E=0,k=-1,y=1<<d,Q=y-1,e===ul&&y>mf||e===vf&&y>gf)return 1;for(;;){Vl=l-E,s[u]+1<D?(pi=0,hi=s[u]):s[u]>=D?(pi=Ct[s[u]-D],hi=H[s[u]-D]):(pi=96,hi=0),b=1<<l-E,g=1<<m,f=g;do g-=b,i[I+(O>>E)+g]=Vl<<24|pi<<16|hi|0;while(g!==0);for(b=1<<l-1;O&b;)b>>=1;if(b!==0?(O&=b-1,O+=b):O=0,u++,--_[l]===0){if(l===p)break;l=t[n+s[u]]}if(l>d&&(O&Q)!==k){for(E===0&&(E=d),I+=f,m=l-E,v=1<<m;m+E<p&&(v-=_[m+E],!(v<=0));)m++,v<<=1;if(y+=1<<m,e===ul&&y>mf||e===vf&&y>gf)return 1;k=O&Q,i[k]=d<<24|m<<16|I-o|0}}return O!==0&&(i[I+O]=l-E<<24|64<<16|0),a.bits=d,0},Zr=XI,JI=0,hp=1,mp=2,{Z_FINISH:If,Z_BLOCK:eE,Z_TREES:Mo,Z_OK:Kt,Z_STREAM_END:tE,Z_NEED_DICT:nE,Z_STREAM_ERROR:Ce,Z_DATA_ERROR:gp,Z_MEM_ERROR:yp,Z_BUF_ERROR:rE,Z_DEFLATED:Ef}=zn,Vo=16180,_f=16181,wf=16182,Tf=16183,bf=16184,Cf=16185,xf=16186,Df=16187,Sf=16188,Mf=16189,Oo=16190,rt=16191,dl=16192,Nf=16193,fl=16194,kf=16195,Af=16196,Pf=16197,Rf=16198,No=16199,ko=16200,Of=16201,Lf=16202,Ff=16203,Vf=16204,jf=16205,pl=16206,Hf=16207,$f=16208,W=16209,vp=16210,Ip=16211,iE=852,oE=592,sE=15,aE=sE,Bf=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function lE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Xt=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<Vo||t.mode>Ip?1:0},Ep=e=>{if(Xt(e))return Ce;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Vo,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(iE),t.distcode=t.distdyn=new Int32Array(oE),t.sane=1,t.back=-1,Kt},_p=e=>{if(Xt(e))return Ce;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ep(e)},wp=(e,t)=>{let n;if(Xt(e))return Ce;let r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ce:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,_p(e))},Tp=(e,t)=>{if(!e)return Ce;let n=new lE;e.state=n,n.strm=e,n.window=null,n.mode=Vo;let r=wp(e,t);return r!==Kt&&(e.state=null),r},cE=e=>Tp(e,aE),Uf=!0,hl,ml,uE=e=>{if(Uf){hl=new Int32Array(512),ml=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Zr(hp,e.lens,0,288,hl,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Zr(mp,e.lens,0,32,ml,0,e.work,{bits:5}),Uf=!1}e.lencode=hl,e.lenbits=9,e.distcode=ml,e.distbits=5},bp=(e,t,n,r)=>{let i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},dE=(e,t)=>{let n,r,i,o,s,a,c,l,u,f,p,d,m,E,v=0,y,O,b,g,k,Q,I,H,D=new Uint8Array(4),_,C,Ct=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xt(e)||!e.output||!e.input&&e.avail_in!==0)return Ce;n=e.state,n.mode===rt&&(n.mode=dl),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,f=a,p=c,H=Kt;e:for(;;)switch(n.mode){case Vo:if(n.wrap===0){n.mode=dl;break}for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=l&255,D[1]=l>>>8&255,n.check=K(n.check,D,2,0),l=0,u=0,n.mode=_f;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=W;break}if((l&15)!==Ef){e.msg="unknown compression method",n.mode=W;break}if(l>>>=4,u-=4,I=(l&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){e.msg="invalid window size",n.mode=W;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?Mf:rt,l=0,u=0;break;case _f:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==Ef){e.msg="unknown compression method",n.mode=W;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=W;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,n.check=K(n.check,D,2,0)),l=0,u=0,n.mode=wf;case wf:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,D[2]=l>>>16&255,D[3]=l>>>24&255,n.check=K(n.check,D,4,0)),l=0,u=0,n.mode=Tf;case Tf:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,n.check=K(n.check,D,2,0)),l=0,u=0,n.mode=bf;case bf:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,n.check=K(n.check,D,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=Cf;case Cf:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),I)),n.flags&512&&n.wrap&4&&(n.check=K(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break e;n.length=0,n.mode=xf;case xf:if(n.flags&2048){if(a===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=K(n.check,r,d,o)),a-=d,o+=d,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Df;case Df:if(n.flags&4096){if(a===0)break e;d=0;do I=r[o+d++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=K(n.check,r,d,o)),a-=d,o+=d,I)break e}else n.head&&(n.head.comment=null);n.mode=Sf;case Sf:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=W;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=rt;break;case Mf:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}e.adler=n.check=Bf(l),l=0,u=0,n.mode=Oo;case Oo:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=l,n.bits=u,nE;e.adler=n.check=1,n.mode=rt;case rt:if(t===eE||t===Mo)break e;case dl:if(n.last){l>>>=u&7,u-=u&7,n.mode=pl;break}for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=Nf;break;case 1:if(uE(n),n.mode=No,t===Mo){l>>>=2,u-=2;break e}break;case 2:n.mode=Af;break;case 3:e.msg="invalid block type",n.mode=W}l>>>=2,u-=2;break;case Nf:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=W;break}if(n.length=l&65535,l=0,u=0,n.mode=fl,t===Mo)break e;case fl:n.mode=kf;case kf:if(d=n.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break e;i.set(r.subarray(o,o+d),s),a-=d,o+=d,c-=d,s+=d,n.length-=d;break}n.mode=rt;break;case Af:for(;u<14;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=W;break}n.have=0,n.mode=Pf;case Pf:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.lens[Ct[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[Ct[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,_={bits:n.lenbits},H=Zr(JI,n.lens,0,19,n.lencode,0,n.work,_),n.lenbits=_.bits,H){e.msg="invalid code lengths set",n.mode=W;break}n.have=0,n.mode=Rf;case Rf:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[l&(1<<n.lenbits)-1],y=v>>>24,O=v>>>16&255,b=v&65535,!(y<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(b<16)l>>>=y,u-=y,n.lens[n.have++]=b;else{if(b===16){for(C=y+2;u<C;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(l>>>=y,u-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=W;break}I=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(b===17){for(C=y+3;u<C;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=y,u-=y,I=0,d=3+(l&7),l>>>=3,u-=3}else{for(C=y+7;u<C;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=y,u-=y,I=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=W;break}for(;d--;)n.lens[n.have++]=I}}if(n.mode===W)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=W;break}if(n.lenbits=9,_={bits:n.lenbits},H=Zr(hp,n.lens,0,n.nlen,n.lencode,0,n.work,_),n.lenbits=_.bits,H){e.msg="invalid literal/lengths set",n.mode=W;break}if(n.distbits=6,n.distcode=n.distdyn,_={bits:n.distbits},H=Zr(mp,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,_),n.distbits=_.bits,H){e.msg="invalid distances set",n.mode=W;break}if(n.mode=No,t===Mo)break e;case No:n.mode=ko;case ko:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=l,n.bits=u,qI(e,p),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,n.mode===rt&&(n.back=-1);break}for(n.back=0;v=n.lencode[l&(1<<n.lenbits)-1],y=v>>>24,O=v>>>16&255,b=v&65535,!(y<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(O&&(O&240)===0){for(g=y,k=O,Q=b;v=n.lencode[Q+((l&(1<<g+k)-1)>>g)],y=v>>>24,O=v>>>16&255,b=v&65535,!(g+y<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=g,u-=g,n.back+=g}if(l>>>=y,u-=y,n.back+=y,n.length=b,O===0){n.mode=jf;break}if(O&32){n.back=-1,n.mode=rt;break}if(O&64){e.msg="invalid literal/length code",n.mode=W;break}n.extra=O&15,n.mode=Of;case Of:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Lf;case Lf:for(;v=n.distcode[l&(1<<n.distbits)-1],y=v>>>24,O=v>>>16&255,b=v&65535,!(y<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((O&240)===0){for(g=y,k=O,Q=b;v=n.distcode[Q+((l&(1<<g+k)-1)>>g)],y=v>>>24,O=v>>>16&255,b=v&65535,!(g+y<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=g,u-=g,n.back+=g}if(l>>>=y,u-=y,n.back+=y,O&64){e.msg="invalid distance code",n.mode=W;break}n.offset=b,n.extra=O&15,n.mode=Ff;case Ff:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=W;break}n.mode=Vf;case Vf:if(c===0)break e;if(d=p-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=W;break}d>n.wnext?(d-=n.wnext,m=n.wsize-d):m=n.wnext-d,d>n.length&&(d=n.length),E=n.window}else E=i,m=s-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do i[s++]=E[m++];while(--d);n.length===0&&(n.mode=ko);break;case jf:if(c===0)break e;i[s++]=n.length,c--,n.mode=ko;break;case pl:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[o++]<<u,u+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?K(n.check,i,p,s-p):Jr(n.check,i,p,s-p)),p=c,n.wrap&4&&(n.flags?l:Bf(l))!==n.check){e.msg="incorrect data check",n.mode=W;break}l=0,u=0}n.mode=Hf;case Hf:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=W;break}l=0,u=0}n.mode=$f;case $f:H=tE;break e;case W:H=gp;break e;case vp:return yp;case Ip:default:return Ce}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=l,n.bits=u,(n.wsize||p!==e.avail_out&&n.mode<W&&(n.mode<pl||t!==If))&&bp(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?K(n.check,i,p,e.next_out-p):Jr(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===rt?128:0)+(n.mode===No||n.mode===fl?256:0),(f===0&&p===0||t===If)&&H===Kt&&(H=rE),H},fE=e=>{if(Xt(e))return Ce;let t=e.state;return t.window&&(t.window=null),e.state=null,Kt},pE=(e,t)=>{if(Xt(e))return Ce;let n=e.state;return(n.wrap&2)===0?Ce:(n.head=t,t.done=!1,Kt)},hE=(e,t)=>{let n=t.length,r,i,o;return Xt(e)||(r=e.state,r.wrap!==0&&r.mode!==Oo)?Ce:r.mode===Oo&&(i=1,i=Jr(i,t,n,0),i!==r.check)?gp:(o=bp(e,t,n,n),o?(r.mode=vp,yp):(r.havedict=1,Kt))},mE=_p,gE=wp,yE=Ep,vE=cE,IE=Tp,EE=dE,_E=fE,wE=pE,TE=hE,bE="pako inflate (from Nodeca project)",ot={inflateReset:mE,inflateReset2:gE,inflateResetKeep:yE,inflateInit:vE,inflateInit2:IE,inflate:EE,inflateEnd:_E,inflateGetHeader:wE,inflateSetDictionary:TE,inflateInfo:bE};function CE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xE=CE,Cp=Object.prototype.toString,{Z_NO_FLUSH:DE,Z_FINISH:SE,Z_OK:ni,Z_STREAM_END:gl,Z_NEED_DICT:yl,Z_STREAM_ERROR:ME,Z_DATA_ERROR:Wf,Z_MEM_ERROR:NE}=zn;function si(e){this.options=Fo.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fp,this.strm.avail_out=0;let n=ot.inflateInit2(this.strm,t.windowBits);if(n!==ni)throw new Error(Qt[n]);if(this.header=new xE,ot.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ti.string2buf(t.dictionary):Cp.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ot.inflateSetDictionary(this.strm,t.dictionary),n!==ni)))throw new Error(Qt[n])}si.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?SE:DE,Cp.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=ot.inflate(n,s),o===yl&&i&&(o=ot.inflateSetDictionary(n,i),o===ni?o=ot.inflate(n,s):o===Wf&&(o=yl));n.avail_in>0&&o===gl&&n.state.wrap>0&&e[n.next_in]!==0;)ot.inflateReset(n),o=ot.inflate(n,s);switch(o){case ME:case Wf:case yl:case NE:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===gl))if(this.options.to==="string"){let c=ti.utf8border(n.output,n.next_out),l=n.next_out-c,u=ti.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ni&&a===0)){if(o===gl)return o=ot.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};si.prototype.onData=function(e){this.chunks.push(e)};si.prototype.onEnd=function(e){e===ni&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Fo.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Pl(e,t){let n=new si(t);if(n.push(e),n.err)throw n.msg||Qt[n.err];return n.result}function kE(e,t){return t=t||{},t.raw=!0,Pl(e,t)}var AE=si,PE=Pl,RE=kE,OE=Pl,LE=zn,FE={Inflate:AE,inflate:PE,inflateRaw:RE,ungzip:OE,constants:LE},{Deflate:uA,deflate:dA,deflateRaw:fA,gzip:pA}=zI,{Inflate:hA,inflate:VE,inflateRaw:mA,ungzip:gA}=FE;var jo=VE;var Rl=class{data=new Map;get(t){return this.data.get(t)}set(t,n){this.data.set(t,n)}rawDataToRGBA(t,n,r){if(n===16){let i=t.byteLength/2*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4)*2;o[s+0]=t[a+0],o[s+1]=t[a+0],o[s+2]=t[a+0],o[s+3]=t[a+1]}return o}else if(n===8){let i=t.byteLength*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4),c=[255,255,255,0];t[a]!==r&&(c=this.get(t[a])??[255,255,255,0]),o[s+0]=c[0],o[s+1]=c[1],o[s+2]=c[2],o[s+3]=Math.ceil(c[3]*255)}return o}return t}},Jt=class{constructor(t){this.loader=t}getColorPallette(t){let n=new Rl,r=this.loader.findFrameChunk(t,nl);if(r){let i=r.firstIndex;for(let o of r.colors)n.set(i,[o.color.red,o.color.green,o.color.blue,o.color.alpha]),i++}return n}};var en=class{constructor(t){this.loader=t;this.collorPalletteLoader=new Jt(t)}frameCache=new Fe;collorPalletteLoader;getFrame(t){return A(this,null,function*(){return this.frameCache.get(t.toString(10),()=>A(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.data.frames[t],r=this.getDrawContext(),i=this.collorPalletteLoader.getColorPallette(0),o=this.loader.findFrameChunks(0,Vn),s=this.loader.findFrameChunks(t,tl);for(let l of s)if(l.cellType===Ja){let u=yield this.getFrame(l.data.linkedFrame),f=o[l.layerIndex];(f.flags&1)===1&&!this.loader.ignoredLayerNames.includes(f.name.value)&&(r.save(),r.drawImage(u.texture.data,0,0),r.restore())}else if(l.cellType===el){let u=o[l.layerIndex];if((u.flags&1)===1&&!this.loader.ignoredLayerNames.includes(u.name.value)){let f=l.data,p=f.rawCompressed,d=jo(new Uint8Array(p)),m=i.rawDataToRGBA(d,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),E=new ImageData(new Uint8ClampedArray(m),f.w,f.h),v=yield createImageBitmap(E);r.save(),r.globalAlpha=l.opacity/255*(u?.opacity??255)/255,r.drawImage(v,l.x,l.y),r.restore()}}let a=r.getImageData(0,0,this.loader.data.header.width,this.loader.data.header.height),c=yield createImageBitmap(a);return{texture:Te.fromImageBitmap(c),duration:n.header.frameDuration}}))})}getFrames(t,n){return A(this,null,function*(){let r=[];for(let i=t;i<=n;i++)r.push(yield this.getFrame(i));return r})}getDrawContext(){let n=new OffscreenCanvas(this.loader.data?.header.width||0,this.loader.data?.header.height||0).getContext("2d");if(!n)throw new Error("Could not obtain OffscreenCanvas 2D Context for processing Aseprite!");return n.imageSmoothingEnabled=!1,n}};var ai=class{constructor(t){this.loader=t;this.frameLoader=new en(t)}animationCache=new Fe;frameLoader;getAnimationNames(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let t=this.loader.findFrameChunk(0,xo);return t?t.tags.map(n=>n.tagName.value):[]}getAnimation(t){return A(this,null,function*(){return this.animationCache.get(t,()=>A(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.findFrameChunk(0,xo);if(!n)throw Error("Aseprite file has no tags!");let r=n.tags.find(o=>o.tagName.value===t);if(!r)throw Error(`Animation with name ${t} not found !`);let i=yield this.frameLoader.getFrames(r.fromFrame,r.toFrame);return{duration:i.map(o=>o.duration).reduce((o,s)=>o+s,0),frames:i,direction:r.loopAnimationDirection,repeat:r.repeatAnimation<=2?r.repeatAnimation:3,repeatTimes:r.repeatAnimation<=2?0:r.repeatAnimation}}))})}};var li=class e{static asepriteCache=new Fe;data;ignoredLayerNames=[];static load(t){return A(this,null,function*(){return e.asepriteCache.get(t,()=>A(null,null,function*(){let n=new e,i=yield(yield fetch(t)).arrayBuffer();if(n.data=sf.parse(new Uint8Array(i)),n.data.header.magicNumber!==42464)throw Error("Invalid Aseprite file header magic number!");return n}))})}findFrameChunks(t,n){if(!this.data)throw new Error("Aseprite file not loaded!");return this.data.frames[t].chunks.filter(o=>o.chunkType===n).map(o=>o.data)}findFrameChunk(t,n){let r=this.findFrameChunks(t,n);if(r.length===1)return r[0];if(r.length===0)return;throw new Error(`Multiple Chunks of type ${n} found!`)}};var ci=class{constructor(t){this.loader=t;this.collorPalletteLoader=new Jt(t)}tilemapCache=new Fe;collorPalletteLoader;getTilemapNames(t=0){if(!this.loader.data)throw new Error("Aseprite file not loaded!");return this.loader.findFrameChunks(t,Vn).filter(r=>!(!r.tilesetIndex||r.tilesetIndex.length!==1)).map(r=>r.name.value)}getTilemap(t,n=0){return A(this,null,function*(){return this.tilemapCache.get(`${t}-${n}`,()=>A(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let r=this.loader.findFrameChunks(n,rl),o=this.loader.findFrameChunks(n,Vn).find(p=>p.name.value===t);if(!o)throw new Error(`Tilemap Layer with name ${t} not found!`);if(!o.tilesetIndex||o.tilesetIndex.length!==1)throw new Error(`Layer with name ${t} is not a Tilemap!`);let s=r[o.tilesetIndex[0]],a=this.collorPalletteLoader.getColorPallette(n),c=jo(new Uint8Array(s.rawCompressed)),l=a.rawDataToRGBA(c,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),u=s.tileWidth*s.tileHeight*4,f=new Map;for(let p=0;p<s.numberOfTiles;p+=1){let d=s.baseIndex+p-1,m=l.slice(p*u,(p+1)*u),E=new ImageData(new Uint8ClampedArray(m),s.tileWidth,s.tileHeight),v=yield createImageBitmap(E);f.set(d,Te.fromImageBitmap(v))}return f}))})}};var Zn=class e{constructor(t){this.loader=t;this.frameLoader=new en(t),this.animationLoader=new ai(t),this.tilemapLoader=new ci(t)}frameLoader;animationLoader;tilemapLoader;static load(t){return A(this,null,function*(){return new e(yield li.load(t))})}ignoreLayers(t){this.loader.ignoredLayerNames=t}getFrame(t){return A(this,null,function*(){return this.frameLoader.getFrame(t)})}getFrames(t,n){return A(this,null,function*(){return this.frameLoader.getFrames(t,n)})}getAnimationNames(){return this.animationLoader.getAnimationNames()}getAnimation(t){return A(this,null,function*(){return this.animationLoader.getAnimation(t)})}getTilemapNames(t=0){return this.tilemapLoader.getTilemapNames(t)}getTilemap(t,n=0){return A(this,null,function*(){return this.tilemapLoader.getTilemap(t,n)})}};var tn=class{constructor(t,n,r){this.asset=t;this.tileset=n;this.tileId=r}toObject(){return{asset:this.asset,tileset:this.tileset,tileId:this.tileId}}};var nn=class{constructor(t,n){this.asset=t;this.animationName=n}toObject(){return{asset:this.asset,animationName:this.animationName}}};var Qn=class{assets={};init(t){return A(this,null,function*(){for(let n in t){let r=t[n],i=yield Zn.load(r);i.ignoreLayers(["Grid"]),this.assets[n]={tilemaps:{},animations:{},charmaps:{}};for(let o of i.getTilemapNames())this.assets[n].tilemaps[o]=yield i.getTilemap(o);for(let o of i.getAnimationNames())this.assets[n].animations[o]=yield i.getAnimation(o)}this.assets.Chars.charmaps.Chars={a:this.assets.Chars.tilemaps.Chars.get(1),b:this.assets.Chars.tilemaps.Chars.get(2),c:this.assets.Chars.tilemaps.Chars.get(3),d:this.assets.Chars.tilemaps.Chars.get(4),e:this.assets.Chars.tilemaps.Chars.get(5),f:this.assets.Chars.tilemaps.Chars.get(6),g:this.assets.Chars.tilemaps.Chars.get(7),h:this.assets.Chars.tilemaps.Chars.get(8),i:this.assets.Chars.tilemaps.Chars.get(9),j:this.assets.Chars.tilemaps.Chars.get(10),k:this.assets.Chars.tilemaps.Chars.get(11),l:this.assets.Chars.tilemaps.Chars.get(12),m:this.assets.Chars.tilemaps.Chars.get(13),n:this.assets.Chars.tilemaps.Chars.get(14),o:this.assets.Chars.tilemaps.Chars.get(15),p:this.assets.Chars.tilemaps.Chars.get(16),q:this.assets.Chars.tilemaps.Chars.get(17),r:this.assets.Chars.tilemaps.Chars.get(18),s:this.assets.Chars.tilemaps.Chars.get(19),t:this.assets.Chars.tilemaps.Chars.get(20),u:this.assets.Chars.tilemaps.Chars.get(21),v:this.assets.Chars.tilemaps.Chars.get(22),w:this.assets.Chars.tilemaps.Chars.get(23),x:this.assets.Chars.tilemaps.Chars.get(24),y:this.assets.Chars.tilemaps.Chars.get(25),z:this.assets.Chars.tilemaps.Chars.get(26),"/":this.assets.Chars.tilemaps.Chars.get(40),"<":this.assets.Chars.tilemaps.Chars.get(85),">":this.assets.Chars.tilemaps.Chars.get(86)}})}};var he=class extends q{_meta;_texture=Te.empty();constructor(t,n,r){super(n,r),t&&(this.texture=t)}get texture(){return this._texture}set texture(t){this._texture=t}draw(t){if(this.hasTextureClipMask()){let r=document.createElement("canvas");r.width=this._texture.width,r.height=this._texture.height;let i=r.getContext("2d");if(!i)return;let o=this.applyFillColorToTexture(this._texture.data,this._texture.width,this._texture.height);i.drawImage(o||this._texture.data,0,0);let s=this.applyTextureClipMasks(r,{x:Math.floor(this.position.x),y:Math.floor(this.position.y),width:this._texture.width,height:this._texture.height});t.save(),this.applyRectangleClips(t),this.opacity<1&&(t.globalAlpha=this.opacity),t.drawImage(s,Math.floor(this.position.x),Math.floor(this.position.y)),t.restore()}else{t.save(),this.applyRectangleClips(t),this.opacity<1&&(t.globalAlpha=this.opacity);let r=this.applyFillColorToTexture(this._texture.data,this._texture.width,this._texture.height);t.drawImage(r||this._texture.data,Math.floor(this.position.x),Math.floor(this.position.y)),t.restore()}}get width(){return this._texture.width}get height(){return this._texture.height}withMeta(t){this._meta=t}getMeta(){return this._meta}};var Ye=class e extends q{constructor(n,r,i=[]){super(r,i);this._animation=n;this.frameIndex=0,this.previousTime=0,this._frames=n.frames,n.direction===1&&(this._frames=this._frames.reverse()),this.animationRepeatIndex=n.repeatTimes,this.on(xe,this.onTick.bind(this))}_meta;flipH=!1;flipV=!1;_frames=[];frameIndex;animationRepeatIndex;stopped=!1;previousTime;animationSpeed=1;get animation(){return this._animation}static empty(){return new e({duration:0,frames:[],direction:0,repeat:0,repeatTimes:0})}onTick(n){if(this.stopped)return;this.previousTime===0&&(this.previousTime=n.currentTime);let r=(n.currentTime-this.previousTime)*this.animationSpeed,i=this._frames[this.frameIndex];if(!i)return;let o=0;for(;r>=i.duration;)r-=i.duration,this.advanceFrame(),i=this._frames[this.frameIndex],o+=1,o>10&&(r=0);o>0&&(this.previousTime=n.currentTime)}play(){this.stopped=!1,this._animation.repeat===0?this.frameIndex=0:this._animation.repeat===3&&(this.frameIndex=0,this.animationRepeatIndex=this._animation.repeatTimes)}stop(){this.stopped=!0,this.previousTime=0}advanceFrame(){if(this.frameIndex+=1,this.frameIndex>=this._frames.length)if(this._animation.repeat===0)this.frameIndex=0;else if(this._animation.repeat===3){if(this.frameIndex=0,this.animationRepeatIndex-=1,this.animationRepeatIndex===0){this.stop();return}}else{this.stop();return}}draw(n){if(this._frames.length>this.frameIndex){let r=this._frames[this.frameIndex].texture;if(this.hasTextureClipMask()){let o=document.createElement("canvas");o.width=r.width,o.height=r.height;let s=o.getContext("2d");if(!s)return;let c=this.applyFillColorToTexture(r.data,r.width,r.height)||r.data;if(this.flipH||this.flipV){let u=this.flipH?-1:1,f=this.flipV?-1:1;s.scale(u,f),s.drawImage(c,u*0,0,u*r.width,r.height)}else s.drawImage(c,0,0);let l=this.applyTextureClipMasks(o,{x:Math.floor(this.position.x),y:Math.floor(this.position.y),width:r.width,height:r.height});n.save(),this.applyRectangleClips(n),this.opacity<1&&(n.globalAlpha=this.opacity),n.drawImage(l,Math.floor(this.position.x),Math.floor(this.position.y)),n.restore()}else{n.save(),this.applyRectangleClips(n),this.opacity<1&&(n.globalAlpha=this.opacity);let s=this.applyFillColorToTexture(r.data,r.width,r.height)||r.data;if(this.flipH||this.flipV){let a=this.flipH?-1:1,c=this.flipV?-1:1;n.scale(a,c),n.drawImage(s,a*Math.floor(this.position.x),Math.floor(this.position.y),a*r.width,r.height)}else n.drawImage(s,Math.floor(this.position.x),Math.floor(this.position.y));n.restore()}}}get width(){return this._frames[0].texture.width}get height(){return this._frames[0].texture.height}get animationDuration(){return this._animation.duration}withMeta(n){this._meta=n}getMeta(){return this._meta}};var Yn=class e extends _e{constructor(n){super();this._numLayers=n;for(let r=0;r<n;r+=1)this.addChild(new _e)}getLayer(n){return this.children.at(n)}get numLayers(){return this._numLayers}toObject(){let n={numLayers:this._numLayers,layers:[]};for(let r=0;r<this._numLayers;r+=1){let i=[];for(let o of this.children[r].children)if(o instanceof Ye){let s=o.getMeta();s instanceof nn&&i.push({type:"animated",position:{x:o.position.x,y:o.position.y},animation:s.toObject(),animationSpeed:o.animationSpeed})}else if(o instanceof he){let s=o.getMeta();s instanceof tn&&i.push({type:"static",position:{x:o.position.x,y:o.position.y},texture:s.toObject()})}n.layers.push(i)}return n}clear(n){this.removeAllChildren(),this._numLayers=n;for(let r=0;r<this._numLayers;r+=1)this.addChild(new _e)}static fromData(n){let r=new e(n.numLayers),i=se.get("assets");for(let o=0;o<n.layers.length;o+=1){let s=n.layers[o];for(let a of s)if(a.type==="animated"){let c=i[a.animation.asset].animations[a.animation.animationName],l=new Ye(c,new h(a.position.x,a.position.y));l.animationSpeed=a.animationSpeed??1,l.withMeta(new nn(a.animation.asset,a.animation.animationName)),r.getLayer(o)?.addChild(l)}else if(a.type==="static"){let c=i[a.texture.asset].tilemaps[a.texture.tileset].get(a.texture.tileId),l=new he(c,new h(a.position.x,a.position.y));l.withMeta(new tn(a.texture.asset,a.texture.tileset,a.texture.tileId)),r.getLayer(o)?.addChild(l)}}return r}};var xe=class extends z{constructor(n){super();this.currentTime=n;super.target=null}};var Kn=class{constructor(t,n){this.zoom=n;this.workLoop=new gt(this.render.bind(this)),this.canvas=t,this.canvas.style.display="block",this.canvas.style.imageRendering="pixelated";let r=this.canvas.getContext("2d");if(!r)throw new Error("CanvasRenderingContext2D could not be obtained!");this.context=r,this.context.imageSmoothingEnabled=!1}canvas;context;rootElement;workLoop;setViewport(t){this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.style.width=t.width*this.zoom+"px",this.canvas.style.height=t.height*this.zoom+"px"}getElement(){return this.canvas}globalToLocalPoint(t){let n=t.x,r=t.y,i=this.canvas.getBoundingClientRect();return n-=i.left,r-=i.top,new h(Math.round(n/this.zoom),Math.round(r/this.zoom))}localToGlobalPoint(t){return new h(t.x*this.zoom,t.y*this.zoom)}setRootElement(t){this.rootElement=t}start(t){this.workLoop.start(t)}render(t){if(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),!!this.rootElement){this.rootElement.dispatchEvent(new xe(t));for(let n of B.childrenByType(we,this.rootElement,!0))n.isVisible&&n.draw(this.context)}}};var De=class extends z{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var ee=class extends q{sim;_colliderDimensions;_colliderOffset;_filterCollision;constructor(t){super(t)}get dimensions(){let t=this.width,n=this.height;for(let r of B.childrenByType(q,this))t=Math.max(t,r.width),n=Math.max(n,r.height);return new h(t,n)}get collider(){let t=this._colliderOffset||new h(0,0),n=this._colliderDimensions||this.dimensions;return{position:this.position.add(t),dimensions:n}}set filterCollisionFn(t){this._filterCollision=t}setColliderOffset(t){this._colliderOffset=t}setColliderDimensions(t){this._colliderDimensions=t}attachToSimulation(t){this.sim=t}filterCollision(t){return this._filterCollision?this._filterCollision(t):!0}};var st=class extends z{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var xp=1e3,He=class extends ee{_impulse=new h(0,0);_sleeping=!1;_canSleep=!0;_sleepDelay=xp;avgVelAcc=[new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0)];constructor(t){super(t),this.on(De,n=>{this.sim&&!this._sleeping&&(this.applyDrag(),this.applyImpulse(this.velocityDelta(this.sim.gravity,n.deltaTime),n.deltaTime,!1))}),this.on(st,n=>{if(this._sleeping)return;Math.abs(this._impulse.x)<1&&(this._impulse=new h(0,this._impulse.y)),Math.abs(this._impulse.y)<1&&(this._impulse=new h(this._impulse.x,0));let r=new h(0,0);if(this._impulse.x!==0||this._impulse.y!==0){let i=this.velocityDelta(this._impulse,n.deltaTime),o=this.checkHit(this._impulse,n.deltaTime);this._impulse.normal.x!==0&&(o.x?(this.position=this.position.add(new h(o.x.distance,0)),this._impulse.x=0,r.x+=o.x.distance):(this.position=this.position.add(new h(i.x,0)),this._impulse.x-=i.x,r.x+=i.x)),this._impulse.normal.y!==0&&(o.y?(this.position=this.position.add(new h(0,o.y.distance)),this._impulse.y=0,r.y+=o.y.distance):(this.position=this.position.add(new h(0,i.y)),this._impulse.y-=i.y,r.y+=i.y))}if(this.avgVelAcc.pop(),this.avgVelAcc.unshift(r),this.canSleep){let i=this.avgVelocity(9);i.x===0&&i.y===0&&(this._sleepDelay<=0?this._sleeping=!0:this._sleepDelay-=n.deltaTime)}})}applyDrag(t=.85){this._impulse.x*=t}applyImpulse(t,n,r=!0){r&&this.wakeUp();let i=this._impulse.add(t),o=this.checkHit(i,n);t.normal.x!==0&&!o.x&&(this._impulse.x=i.x),t.normal.y!==0&&!o.y&&(this._impulse.y=i.y)}velocityDelta(t,n){let r=t.mul(n/1e3);return new h(Math.abs(r.x)*r.normal.x,Math.abs(r.y)*r.normal.y)}checkHit(t,n,r,i){return{x:this.sim?.checkFutureCollisionX(this,this.velocityDelta(t,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i),y:this.sim?.checkFutureCollisionY(this,this.velocityDelta(t,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i)}}checkFutureIntersection(t,n){let r=B.childrenByType(ee,this.rootElement);for(let i of r){if(n&&!n(i))continue;let o=this.sim?.checkFutureIntersection(this.collider.position,t,this.collider.dimensions,i);if(o)return o}}checkAllFutureIntersections(t,n){let r=B.childrenByType(ee,this.rootElement),i=[];for(let o of r){if(n&&!n(o))continue;let s=this.sim?.checkFutureIntersection(this.collider.position,t,this.collider.dimensions,o);s&&i.push(s)}return i}checkCurrentIntersection(t){return this.checkFutureIntersection(new h(0,0),t)}checkAllCurrentIntersections(t){return this.checkAllFutureIntersections(new h(0,0),t)}isGrounded(){return!!this.checkHit(new h(0,1),1e3).y}avgVelocity(t=3){let n=new h(0,0);t=Math.min(t,9);let r=this.avgVelAcc.slice(0,t);for(let i of r)n.x+=i.x,n.y+=i.y;return n.div(t)}colliderCheck(t){return t!==this}get sleeping(){return this._sleeping}wakeUp(){this._sleeping=!1,this._sleepDelay=xp}get canSleep(){return this._canSleep}set canSleep(t){this._canSleep=t}};var Xn=class{constructor(t=new h(0,1024)){this.gravity=t;this.workLoop=new gt(this.step.bind(this))}viewport;rootElement;workLoop;lastCollisionObjects={x:[],y:[]};wakeUpInterval=250;timeSinceLastWakeUp=0;setViewport(t){this.viewport=t}setRootElement(t){this.rootElement=t;for(let n of B.childrenByType(ee,this.rootElement))n.attachToSimulation(this);this.rootElement.on(mt,n=>{let r=n.target;r instanceof ee&&r.attachToSimulation(this)})}start(t){this.workLoop.start(t)}getDebugInformation(){let t=[];function n(r,i,o){let s=r,a=r.add(i);s.x=Math.floor(s.x),s.y=Math.floor(s.y),a.x=Math.floor(a.x),a.y=Math.floor(a.y),t.push({from:s,to:new h(a.x,s.y),color:o}),t.push({from:new h(a.x,s.y),to:a,color:o}),t.push({from:a,to:new h(s.x,a.y),color:o}),t.push({from:new h(s.x,a.y),to:s,color:o})}if(this.rootElement){for(let r of B.childrenByType(ee,this.rootElement))n(r.collider.position,r.collider.dimensions,r instanceof He&&r.sleeping?"rgba(199, 194, 198, 0.5)":"rgba(205, 93, 215, 0.5)");this.lastCollisionObjects.x.length===2&&(n(this.lastCollisionObjects.x[0].position,this.lastCollisionObjects.x[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.x[1].position,this.lastCollisionObjects.x[1].dimensions,"rgba(49, 252, 3, 0.5)")),this.lastCollisionObjects.y.length===2&&(n(this.lastCollisionObjects.y[0].position,this.lastCollisionObjects.y[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.y[1].position,this.lastCollisionObjects.y[1].dimensions,"rgba(252, 3, 65, 0.5)"))}return t}checkFutureIntersection(t,n,r,i){if(!this.rootElement)return!1;let o=t.add(n),s=o.x,a=o.y,c=o.x+r.x,l=o.y+r.y,u=i.collider.position.x,f=i.collider.position.y,p=i.collider.position.x+i.collider.dimensions.x,d=i.collider.position.y+i.collider.dimensions.y;if(Math.max(s,u)<Math.min(c,p)&&Math.max(a,f)<Math.min(l,d))return i}checkFutureCollisionX(t,n,r,i){if(!this.rootElement)return;let o=B.childrenByType(ee,this.rootElement),s=t.collider.position.add(n),a=s.x,c=s.x+t.collider.dimensions.x;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:t}))continue;let u=this.checkFutureIntersection(t.collider.position,n,t.collider.dimensions,l),f=l.collider.position.x,p=l.collider.position.x+l.collider.dimensions.x;if(u){let d=n.x;if(n.normal.x===1){if(c>f&&(d-=c-f,Math.abs(d)<Math.abs(n.x)))return this.lastCollisionObjects.x=[t.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:d}}else if(n.normal.x===-1&&a<p&&(d+=p-a,Math.abs(d)<Math.abs(n.x)))return this.lastCollisionObjects.x=[t.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:d}}}this.lastCollisionObjects.x=[]}checkFutureCollisionY(t,n,r,i){if(!this.rootElement)return;let o=B.childrenByType(ee,this.rootElement),s=t.collider.position.add(n),a=s.y,c=s.y+t.collider.dimensions.y;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:t}))continue;let u=this.checkFutureIntersection(t.collider.position,n,t.collider.dimensions,l),f=l.collider.position.y,p=l.collider.position.y+l.collider.dimensions.y;if(u){let d=n.y;if(n.normal.y===1){if(c>f&&(d-=c-f,Math.abs(d)<Math.abs(n.y)))return this.lastCollisionObjects.y=[t.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:d}}else if(n.normal.y===-1&&a<p&&(d+=p-a,Math.abs(d)<Math.abs(n.y)))return this.lastCollisionObjects.y=[t.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:d}}}this.lastCollisionObjects.y=[]}step(t,n){if(this.rootElement){if(this.timeSinceLastWakeUp+=n,this.timeSinceLastWakeUp>=this.wakeUpInterval){this.timeSinceLastWakeUp=0;let r=B.childrenByType(He,this.rootElement);for(let i of r)i.sleeping&&i.wakeUp()}this.rootElement.dispatchEvent(new De(t,n,this)),this.rootElement.dispatchEvent(new st(t,n,this))}}};var rn=class extends ee{};var Jn=class{frameCount;startTime;currentFps;constructor(){this.frameCount=0,this.startTime=0,this.currentFps=0}advance(t){this.startTime===0&&(this.startTime=t);let n=t-this.startTime;this.frameCount+=1,this.currentFps=1e3/(n/this.frameCount),n>=1e4&&(this.startTime=t,this.frameCount=0)}get fps(){return this.currentFps}};var er=class extends we{debugLayer;engine;previousScene;renderFpsCounter=new Jn;physicsFpsCounter=new Jn;debugLines=[];_enablePhysicsDebugLines=!1;_enableGridLines=!1;_enableFps=!1;_enableHoverHighlight=!1;hoveredObject;constructor(t){super(),this.debugLayer=document.createElement("div"),this.debugLayer.style.position="absolute",this.debugLayer.style.top="0",this.debugLayer.style.left="0",this.debugLayer.style.padding="4px",this.debugLayer.style.background="red",t.appendChild(this.debugLayer),this.on(xe,this.onTick.bind(this)),this.on(De,this.onPhysicsTick.bind(this)),this.on(Pn,this.onMouseMove.bind(this))}set enablePhysicsDebugLines(t){this._enablePhysicsDebugLines=t}set enableGridLines(t){this._enableGridLines=t}set enableFps(t){this._enableFps=t}set enableHoverHighlight(t){this._enableHoverHighlight=t}attachTo(t){this.engine=t,t.on(yt,n=>{this.attachToScene(n.scene)})}attachToScene(t){this.previousScene&&this.previousScene.removeChild(this),t.addChild(this,999),this.previousScene=t}onTick(t){this._enableFps&&this.renderFpsCounter.advance(t.currentTime)}onPhysicsTick(t){this._enableFps&&this.physicsFpsCounter.advance(t.currentTime),this._enablePhysicsDebugLines&&(this.debugLines=t.simulation.getDebugInformation())}onMouseMove(t){if(!this._enableHoverHighlight||!this.previousScene){this.hoveredObject=void 0;return}this.hoveredObject=this.getObjectAt(t.point)}getObjectAt(t){if(!this.previousScene)return;let n=B.childrenByType(q,this.previousScene);for(let r=n.length-1;r>=0;r--){let i=n[r],o=i.position.left,s=i.position.left+i.width,a=i.position.top,c=i.position.top+i.height;if(o<=t.x&&t.x<=s&&a<=t.y&&t.y<=c)return i}}draw(t){if(this._enableGridLines){let n=this.engine?.viewport.width||0,r=this.engine?.viewport.height||0,i=32;for(let o=i;o<n;o+=i)t.beginPath(),t.strokeStyle="rgba(0, 0, 0, 0.2",t.moveTo(o,0),t.lineTo(o,r),t.stroke();for(let o=i;o<r;o+=i)t.beginPath(),t.strokeStyle="rgba(0, 0, 0, 0.2",t.moveTo(0,o),t.lineTo(n,o),t.stroke();t.beginPath(),t.strokeStyle="#ff0000",t.rect(0,0,n,r),t.stroke()}if(this._enableFps){let n=`${this.renderFpsCounter.fps.toFixed(0)} / ${this.physicsFpsCounter.fps.toFixed(0)}`;this.debugLayer.innerText!==n&&(this.debugLayer.innerText=n)}if(this._enablePhysicsDebugLines)for(let n of this.debugLines)t.beginPath(),t.strokeStyle=n.color,t.moveTo(n.from.x,n.from.y),t.lineTo(n.to.x,n.to.y),t.stroke();if(this._enableHoverHighlight&&this.hoveredObject){let n=this.hoveredObject;t.beginPath(),t.strokeStyle="#00ff00",t.lineWidth=2,t.rect(n.position.left,n.position.top,n.width,n.height),t.stroke(),t.lineWidth=1}}};var bt=class extends z{constructor(n){super();this.start=n}},on=class extends z{},ui=class extends He{input;constructor(t){super(t),this.input=new Fn(this),this.input.setOn(0).when({type:ne,condition:i=>i.action===0&&i.key==="ArrowUp"}),this.input.setOff(0).when({type:ne,condition:i=>i.action===1&&i.key==="ArrowUp"}),this.input.setOn(3).when({type:ne,condition:i=>i.action===0&&i.key==="ArrowDown"}),this.input.setOff(3).when({type:ne,condition:i=>i.action===1&&i.key==="ArrowDown"}),this.input.setOn(1).when({type:ne,condition:i=>i.action===0&&i.key==="ArrowLeft"}),this.input.setOff(1).when({type:ne,condition:i=>i.action===1&&i.key==="ArrowLeft"}),this.input.setOn(2).when({type:ne,condition:i=>i.action===0&&i.key==="ArrowRight"}),this.input.setOff(2).when({type:ne,condition:i=>i.action===1&&i.key==="ArrowRight"}),this.input.setOn(4).when({type:ne,condition:i=>i.action===0&&i.key===" "}),this.input.setOff(4).when({type:ne,condition:i=>i.action===1&&i.key===" "});let n=!1,r=!1;this.input.onChange(i=>{i.get(0)&&this.isGrounded()&&(n=!0),i.get(3)&&this.isGrounded()?(r=!0,this.dispatchEvent(new bt(!0))):r&&(r=!1,this.dispatchEvent(new bt(!1))),i.get(4)&&this.isGrounded()&&this.dispatchEvent(new on)}),this.on(De,i=>{this.input.state.get(1)&&this.input.state.get(2)||(this.input.state.get(1)&&this.applyImpulse(new h(-16,0),i.deltaTime),this.input.state.get(2)&&this.applyImpulse(new h(16,0),i.deltaTime)),n&&(n=!1,this.applyImpulse(new h(0,-288),i.deltaTime)),r&&this.applyImpulse(new h(0,3),i.deltaTime)}),this.on(st,i=>{this.switchStance(i.currentTime)})}switchStance(t){}};var me=class extends ui{constructor(n,r,i=0,o=new h(0,0)){super(n);this.assetName=r;this.spritePointing=i;this.spriteOffset=o;this.gfx=new q,this.addChild(this.gfx),this.ghost=new q,this.ghost.isVisible=!1,this.setColliderOffset(new h(38,4)),this.setColliderDimensions(new h(20,28)),this.switchStance(0),this._pointing=1}gfx;ghost;activeStance;activeStanceStartTime=0;_pointing=1;get pointing(){return this._pointing}get pointingDefault(){return this._pointing===this.spritePointing}get ghostGraphics(){return this.ghost}updateGhostPosition(){this.ghost.position=this.position}switchStance(n){let r=se.get("assets"),i="Idle",o=this.avgVelocity();o.y>.1?i="Fall":o.y<-.1&&(i="Jump"),o.x>.1?this._pointing=1:o.x<-.1&&(this._pointing=0);let s=n-this.activeStanceStartTime;if((this.activeStance==="Fall"&&i==="Idle"||this.activeStance==="Ground"&&s<=r[this.assetName].animations.Ground.duration)&&(i="Ground"),i!=="Ground"&&Math.abs(o.y)<.1&&Math.abs(o.x)>.1&&(i="Run"),i!==this.activeStance){this.activeStanceStartTime=n,this.activeStance=i,this.gfx.removeAllChildren(),this.gfx.addChild(new Ye(r[this.assetName].animations[i])),this.ghost.removeAllChildren();let a=new Ye(r[this.assetName].animations[i]);a.opacity=.5,a.fillColor="rgba(0, 0, 0, 1)",this.ghost.addChild(a)}if(this.gfx.children.length===1){let a=this.gfx?.children[0];a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new h(0,-32).add(this.spriteOffset):a.translation=new h(0,-32).sub(this.spriteOffset)}if(this.ghost.children.length===1){let a=this.ghost?.children[0];a.clipRegion=this.ghostGraphics.clipRegion,a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new h(0,-32).add(this.spriteOffset):a.translation=new h(0,-32).sub(this.spriteOffset)}}};var sn=class extends me{constructor(t){super(t,"The Crusty Crew Pink Star")}};var di=class extends q{_width=0;_height=0;constructor(t,n=1){super();let r=se.get("assets"),i=t.toLowerCase().split("");for(let o=0;o<i.length;o+=1){let s=i[o],a=r.Chars.charmaps.Chars[s]||r.Chars.tilemaps.Chars.get(78),c=new he(a);c.position=new h(this._width,0),this.addChild(c),this._width+=c.width,o<i.length-1&&(this._width+=n),this._height=c.height}}get width(){return this._width}get height(){return this._height}};var fi=class extends q{_width=0;_height=0;constructor(t,n,r,i){super(),this._width=t,this._height=(n||r||i)?.height||0;let o=new he(n),s=new he(i);this.addChild(o),this.addChild(s),s.position=new h(t-s.width,0);let a=t-Math.min(t,o.width+s.width),c=o.width;for(;a>0;){let l=new he(r);l.position=new h(c,0),this.addChild(l),a-=l.width,c+=l.width}}get width(){return this._width}get height(){return this._height}};var Ke=class extends He{constructor(n,r){super(n);this.text=r;let i=se.get("assets"),o=new di(r);this.addChild(new fi(o.width+6,i.Paper.tilemaps.Paper.get(1),i.Paper.tilemaps.Paper.get(2),i.Paper.tilemaps.Paper.get(3))),o.position=new h(3,3),this.addChild(o)}};var an=class extends q{constructor(n,r){super(n);this.size=r}get width(){return this.size?.width||0}get height(){return this.size?.height||0}};var Ll={numLayers:6,layers:[[{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:288,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:256,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:160,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:128,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:96,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:64,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:32,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:320,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:288,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:256,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:160,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:128,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:96,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:64,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:32,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}}],[{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:56}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:57}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:8}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:9}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:10}},{type:"animated",position:{x:64,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Big"},animationSpeed:1},{type:"animated",position:{x:256,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Medium"},animationSpeed:1},{type:"animated",position:{x:213,y:329},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Small"},animationSpeed:1}],[{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:10}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:4}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:11}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:8}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:7}},{type:"animated",position:{x:448,y:192},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Left"},animationSpeed:.1},{type:"animated",position:{x:224,y:301},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:128,y:264},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:2,y:201},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Right"},animationSpeed:.1}],[{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:16}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:24}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:19}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:27}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:15}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:1}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}}],[{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:6}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:7}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:8}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:12}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:13}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"animated",position:{x:192,y:111},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.5},{type:"animated",position:{x:416,y:207},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3},{type:"animated",position:{x:320,y:239},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.4},{type:"animated",position:{x:32,y:272},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3}],[{type:"static",position:{x:96,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:288,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:0,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:32,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}}]]};function Fl(e){return new h(e.x,e.y)}var Dp={levels:[{id:1,name:"Level 1 - Emphasis",playerStart:{x:64,y:64},tags:[{position:{x:50,y:32},text:"<em>"},{position:{x:130,y:32},text:"</em>"},{position:{x:180,y:32},text:"text"}],solution:"<em> text </em>"},{id:2,name:"Level 2 - Strong Tag",playerStart:{x:96,y:64},tags:[{position:{x:50,y:96},text:"<strong>"},{position:{x:200,y:160},text:"bold"},{position:{x:280,y:224},text:"text"},{position:{x:150,y:288},text:"</strong>"}],solution:"<strong> bold text </strong>"},{id:3,name:"Level 3 - Nested Tags",playerStart:{x:128,y:64},tags:[{position:{x:80,y:128},text:"<p>"},{position:{x:160,y:96},text:"<em>"},{position:{x:240,y:192},text:"nested"},{position:{x:320,y:160},text:"</em>"},{position:{x:400,y:224},text:"</p>"}],solution:"<p> <em> nested </em> </p>"},{id:4,name:"Level 4 - Link Tag",playerStart:{x:64,y:96},tags:[{position:{x:100,y:160},text:"<a>"},{position:{x:180,y:224},text:"click"},{position:{x:260,y:192},text:"here"},{position:{x:340,y:256},text:"</a>"}],solution:"<a> click here </a>"}]};var tr=class extends Nn{currentLevel;constructor(t,n=2){super();let i=Dp.levels.find(o=>o.id===n);if(!i)throw new Error(`Level with id ${n} not found`);this.currentLevel=i,this.run(t)}run(t){return A(this,null,function*(){let n=new Qn;yield n.init(t),se.set("assets",n.assets);function r(u,f){let p=new rn(u);return p.addChild(new an(u,f)),p}function i(u,f){let p=new rn(u);return p.addChild(new an(u,f)),p.filterCollisionFn=({collider:d,velocity:m})=>!(d instanceof me&&s||d instanceof me&&m.y<=0),p}function o(u,f){let p=new Ke(u,f);return p.filterCollisionFn=({collider:d,velocity:m})=>!(d instanceof me&&s||d instanceof me&&m.y<=0),p}let s=!1,a,c=Yn.fromData(Ll);this.addChild(c),this.addChild(r(new h(0,0),new h(32,384))),this.addChild(r(new h(480,0),new h(32,384))),this.addChild(r(new h(32,0),new h(448,32))),this.addChild(r(new h(32,352),new h(448,32))),this.addChild(r(new h(352,288),new h(128,64)));for(let u=6;u<=10;u+=1)this.addChild(i(new h(32,2+32*u),new h(288,1)));this.addChild(i(new h(344,258),new h(22,1))),this.addChild(i(new h(440,226),new h(22,1))),this.addChild(i(new h(216,130),new h(22,1)));let l=new sn(Fl(this.currentLevel.playerStart));this.addChild(l),this.addChild(l.ghost,1e3),this.currentLevel.tags.forEach(u=>{this.addChild(o(Fl(u.position),u.text))}),this.on(bt,u=>{s=u.start}),this.on(on,()=>{if(a)a=void 0;else{let u=l.checkFutureIntersection(new h(0,1),f=>f instanceof Ke);u&&(a=u)}B.childrenByType(Ke,this).forEach(u=>u.wakeUp())}),this.on(xe,()=>{if(a)a.position=l.position.add(new h(l.pointing===0?24:38,8));else{let f=B.childrenByType(Ke,this);f.sort((d,m)=>d.position.y>m.position.y?1:d.position.y<m.position.y?-1:d.position.x>m.position.x?1:d.position.x<m.position.x?-1:0),f.map(d=>d.text).join(" ")===this.currentLevel.solution&&console.log(`Level ${this.currentLevel.id} (${this.currentLevel.name}) completed!`)}l.updateGhostPosition();let u=l.checkAllCurrentIntersections(f=>f instanceof Ke);u.length>0?(l.ghostGraphics.clipRegion=u.map(f=>{let p=f.collider,d=f.renderToTexture(p.dimensions.x,p.dimensions.y);if(!d)return{x:p.position.x,y:p.position.y,width:p.dimensions.x,height:p.dimensions.y};let m=Te.fromImageBitmap(d.canvas);return m.width=p.dimensions.x,m.height=p.dimensions.y,m.data=d.canvas,{mask:m,position:new h(p.position.x,p.position.y)}}),l.ghostGraphics.isVisible=!0):(l.ghostGraphics.clipRegion=void 0,l.ghostGraphics.isVisible=!1)})})}};var Sp={"Captain Clown Nose":"/sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Captain Clown Nose.aseprite","Captain Clown Nose Dialogue":"/sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dialogue.aseprite","Captain Clown Nose Dust Particles":"/sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dust Particles.aseprite","Merchant Ship":"/sprites/Treasure Hunters/Merchant Ship/Aseprite/Merchant Ship.aseprite","Palm Tree Island":"/sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree Island (ArtBoard).aseprite","Palm Tree Island Chest":"/sprites/Treasure Hunters/Palm Tree Island/Aseprite/Chest.aseprite","Palm Tree Island Flag":"/sprites/Treasure Hunters/Palm Tree Island/Aseprite/Flag.aseprite","Palm Tree Island Palm Tree":"/sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree.aseprite","Palm Tree Island Ship Helm":"/sprites/Treasure Hunters/Palm Tree Island/Aseprite/Ship Helm.aseprite","Palm Tree Island Water Reflect":"/sprites/Treasure Hunters/Palm Tree Island/Aseprite/Water Reflect.aseprite","Pirate Ship":"/sprites/Treasure Hunters/Pirate Ship/Aseprite/TileSets.aseprite","Pirate Ship Decorations":"/sprites/Treasure Hunters/Pirate Ship/Aseprite/Decorations.aseprite","Pirate Treasure":"/sprites/Treasure Hunters/Pirate Treasure/Aseprite/Pirate Treasure.aseprite","Shooter Traps":"/sprites/Treasure Hunters/Shooter Traps/Aseprite/Shooter Traps.aseprite","The Crusty Crew Crabby":"/sprites/Treasure Hunters/The Crusty Crew/Aseprite/Crabby.aseprite","The Crusty Crew Dialogue":"/sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dialogue.aseprite","The Crusty Crew Dust Particles":"/sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dust Particles.aseprite","The Crusty Crew Fierce Tooth":"/sprites/Treasure Hunters/The Crusty Crew/Aseprite/Fierce Tooth.aseprite","The Crusty Crew Pink Star":"/sprites/Treasure Hunters/The Crusty Crew/Aseprite/Pink Star.aseprite","Wood and Paper UI":"/sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper.aseprite","Wood and Paper UI Button Cooldown":"/sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Button Cooldown.aseprite",Paper:"/sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Paper.aseprite",Chars:"/sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite"};var UE=["game"],WE=["canvas"],Ho=class e{gameElement;canvasElement;ngAfterViewInit(){return A(this,null,function*(){let t=this.gameElement?.nativeElement,n=this.canvasElement?.nativeElement;if(!t)throw new Error("Game element not found!");if(!n)throw new Error("Game canvas not found!");let r=new Kn(n,2),i=new kn(new h(512,384),r,new Xn,[new An(document.documentElement),new Rn(n,r.globalToLocalPoint.bind(r))]),o=new er(t);o.attachTo(i),o.enableFps=!0,i.loadScene(new tr(Sp)),i.start(200,200)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Oa({type:e,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&fo(UE,5)(WE,5),n&2){let i;po(i=ho())&&(r.gameElement=i.first),po(i=ho())&&(r.canvasElement=i.first)}},decls:4,vars:0,consts:[["game",""],["canvas",""],[1,"main"]],template:function(n,r){n&1&&(Ar(0,"div",2,0),uo(2,"canvas",null,1),Pr())},styles:[".main[_ngcontent-%COMP%]{display:flex}.main[_ngcontent-%COMP%]{margin-top:20px;margin-left:20px}"]})};Ka(Ho,{providers:[Wd()]}).catch(e=>console.error(e));
