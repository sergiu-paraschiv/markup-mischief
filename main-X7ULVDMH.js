var FI=Object.create;var al=Object.defineProperty,$I=Object.defineProperties,HI=Object.getOwnPropertyDescriptor,VI=Object.getOwnPropertyDescriptors,jI=Object.getOwnPropertyNames,Qd=Object.getOwnPropertySymbols,BI=Object.getPrototypeOf,Xd=Object.prototype.hasOwnProperty,UI=Object.prototype.propertyIsEnumerable;var Kd=(t,e,n)=>e in t?al(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pe=(t,e)=>{for(var n in e||={})Xd.call(e,n)&&Kd(t,n,e[n]);if(Qd)for(var n of Qd(e))UI.call(e,n)&&Kd(t,n,e[n]);return t},ft=(t,e)=>$I(t,VI(e));var Ai=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var WI=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jI(e))!Xd.call(t,i)&&i!==n&&al(t,i,{get:()=>e[i],enumerable:!(r=HI(e,i))||r.enumerable});return t};var zI=(t,e,n)=>(n=t!=null?FI(BI(t)):{},WI(e||!t||!t.__esModule?al(n,"default",{value:t,enumerable:!0}):n,t));var Y=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var jm=F((fi,pi)=>{"use strict";(function(t){var e=typeof fi=="object"&&fi&&!fi.nodeType&&fi,n=typeof pi=="object"&&pi&&!pi.nodeType&&pi,r=typeof global=="object"&&global;(r.global===r||r.window===r||r.self===r)&&(t=r);var i,o=2147483647,s=36,a=1,c=26,l=38,u=700,f=72,d=128,p="-",h=/^xn--/,C=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=s-a,g=Math.floor,v=String.fromCharCode,M;function _(A){throw new RangeError(b[A])}function w(A,P){for(var O=A.length,D=[];O--;)D[O]=P(A[O]);return D}function S(A,P){var O=A.split("@"),D="";O.length>1&&(D=O[0]+"@",A=O[1]),A=A.replace(I,".");var j=A.split("."),G=w(j,P).join(".");return D+G}function E(A){for(var P=[],O=0,D=A.length,j,G;O<D;)j=A.charCodeAt(O++),j>=55296&&j<=56319&&O<D?(G=A.charCodeAt(O++),(G&64512)==56320?P.push(((j&1023)<<10)+(G&1023)+65536):(P.push(j),O--)):P.push(j);return P}function x(A){return w(A,function(P){var O="";return P>65535&&(P-=65536,O+=v(P>>>10&1023|55296),P=56320|P&1023),O+=v(P),O}).join("")}function N(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:s}function $(A,P){return A+22+75*(A<26)-((P!=0)<<5)}function H(A,P,O){var D=0;for(A=O?g(A/u):A>>1,A+=g(A/P);A>m*c>>1;D+=s)A=g(A/m);return g(D+(m+1)*A/(A+l))}function Z(A){var P=[],O=A.length,D,j=0,G=d,U=f,ge,oe,we,De,me,Me,Xe,je,_t;for(ge=A.lastIndexOf(p),ge<0&&(ge=0),oe=0;oe<ge;++oe)A.charCodeAt(oe)>=128&&_("not-basic"),P.push(A.charCodeAt(oe));for(we=ge>0?ge+1:0;we<O;){for(De=j,me=1,Me=s;we>=O&&_("invalid-input"),Xe=N(A.charCodeAt(we++)),(Xe>=s||Xe>g((o-j)/me))&&_("overflow"),j+=Xe*me,je=Me<=U?a:Me>=U+c?c:Me-U,!(Xe<je);Me+=s)_t=s-je,me>g(o/_t)&&_("overflow"),me*=_t;D=P.length+1,U=H(j-De,D,De==0),g(j/D)>o-G&&_("overflow"),G+=g(j/D),j%=D,P.splice(j++,0,G)}return x(P)}function de(A){var P,O,D,j,G,U,ge,oe,we,De,me,Me=[],Xe,je,_t,as;for(A=E(A),Xe=A.length,P=d,O=0,G=f,U=0;U<Xe;++U)me=A[U],me<128&&Me.push(v(me));for(D=j=Me.length,j&&Me.push(p);D<Xe;){for(ge=o,U=0;U<Xe;++U)me=A[U],me>=P&&me<ge&&(ge=me);for(je=D+1,ge-P>g((o-O)/je)&&_("overflow"),O+=(ge-P)*je,P=ge,U=0;U<Xe;++U)if(me=A[U],me<P&&++O>o&&_("overflow"),me==P){for(oe=O,we=s;De=we<=G?a:we>=G+c?c:we-G,!(oe<De);we+=s)as=oe-De,_t=s-De,Me.push(v($(De+as%_t,0))),oe=g(as/_t);Me.push(v($(oe,0))),G=H(O,je,D==j),O=0,++D}++O,++P}return Me.join("")}function R(A){return S(A,function(P){return h.test(P)?Z(P.slice(4).toLowerCase()):P})}function L(A){return S(A,function(P){return C.test(P)?"xn--"+de(P):P})}if(i={version:"1.4.1",ucs2:{decode:E,encode:x},decode:Z,encode:de,toASCII:L,toUnicode:R},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&n)if(pi.exports==e)n.exports=i;else for(M in i)i.hasOwnProperty(M)&&(e[M]=i[M]);else t.punycode=i})(fi)});var vr=F((O8,Bm)=>{"use strict";Bm.exports=TypeError});var Um=F(()=>{"use strict"});var zo=F(($8,cy)=>{"use strict";var gd=typeof Map=="function"&&Map.prototype,sd=Object.getOwnPropertyDescriptor&&gd?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Pa=gd&&sd&&typeof sd.get=="function"?sd.get:null,Wm=gd&&Map.prototype.forEach,md=typeof Set=="function"&&Set.prototype,ad=Object.getOwnPropertyDescriptor&&md?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ra=md&&ad&&typeof ad.get=="function"?ad.get:null,zm=md&&Set.prototype.forEach,nS=typeof WeakMap=="function"&&WeakMap.prototype,Uo=nS?WeakMap.prototype.has:null,rS=typeof WeakSet=="function"&&WeakSet.prototype,Wo=rS?WeakSet.prototype.has:null,iS=typeof WeakRef=="function"&&WeakRef.prototype,Gm=iS?WeakRef.prototype.deref:null,oS=Boolean.prototype.valueOf,sS=Object.prototype.toString,aS=Function.prototype.toString,lS=String.prototype.match,yd=String.prototype.slice,Cn=String.prototype.replace,cS=String.prototype.toUpperCase,qm=String.prototype.toLowerCase,ny=RegExp.prototype.test,Zm=Array.prototype.concat,Ht=Array.prototype.join,uS=Array.prototype.slice,Ym=Math.floor,ud=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ld=Object.getOwnPropertySymbols,dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Le=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hi||!0)?Symbol.toStringTag:null,ry=Object.prototype.propertyIsEnumerable,Qm=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Km(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ny.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Ym(-t):Ym(t);if(r!==t){var i=String(r),o=yd.call(e,i.length+1);return Cn.call(i,n,"$&_")+"."+Cn.call(Cn.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Cn.call(e,n,"$&_")}var fd=Um(),Xm=fd.custom,Jm=sy(Xm)?Xm:null,iy={__proto__:null,double:'"',single:"'"},dS={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};cy.exports=function t(e,n,r,i){var o=n||{};if(Jt(o,"quoteStyle")&&!Jt(iy,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Jt(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ly(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Km(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?Km(e,l):l}var u=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof e=="object")return pd(e)?"[Array]":"[Object]";var f=MS(o,r);if(typeof i>"u")i=[];else if(ay(i,e)>=0)return"[Circular]";function d(H,Z,de){if(Z&&(i=uS.call(i),i.push(Z)),de){var R={depth:o.depth};return Jt(o,"quoteStyle")&&(R.quoteStyle=o.quoteStyle),t(H,R,r+1,i)}return t(H,o,r+1,i)}if(typeof e=="function"&&!ey(e)){var p=wS(e),h=ka(e,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+Ht.call(h,", ")+" }":"")}if(sy(e)){var C=hi?Cn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dd.call(e);return typeof e=="object"&&!hi?Bo(C):C}if(_S(e)){for(var I="<"+qm.call(String(e.nodeName)),b=e.attributes||[],m=0;m<b.length;m++)I+=" "+b[m].name+"="+oy(fS(b[m].value),"double",o);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+qm.call(String(e.nodeName))+">",I}if(pd(e)){if(e.length===0)return"[]";var g=ka(e,d);return f&&!DS(g)?"["+hd(g,f)+"]":"[ "+Ht.call(g,", ")+" ]"}if(hS(e)){var v=ka(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!ry.call(e,"cause")?"{ ["+String(e)+"] "+Ht.call(Zm.call("[cause]: "+d(e.cause),v),", ")+" }":v.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ht.call(v,", ")+" }"}if(typeof e=="object"&&s){if(Jm&&typeof e[Jm]=="function"&&fd)return fd(e,{depth:u-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(bS(e)){var M=[];return Wm&&Wm.call(e,function(H,Z){M.push(d(Z,e,!0)+" => "+d(H,e))}),ty("Map",Pa.call(e),M,f)}if(TS(e)){var _=[];return zm&&zm.call(e,function(H){_.push(d(H,e))}),ty("Set",Ra.call(e),_,f)}if(ES(e))return cd("WeakMap");if(xS(e))return cd("WeakSet");if(CS(e))return cd("WeakRef");if(mS(e))return Bo(d(Number(e)));if(vS(e))return Bo(d(ud.call(e)));if(yS(e))return Bo(oS.call(e));if(gS(e))return Bo(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!pS(e)&&!ey(e)){var w=ka(e,d),S=Qm?Qm(e)===Object.prototype:e instanceof Object||e.constructor===Object,E=e instanceof Object?"":"null prototype",x=!S&&Le&&Object(e)===e&&Le in e?yd.call(Tn(e),8,-1):E?"Object":"",N=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=N+(x||E?"["+Ht.call(Zm.call([],x||[],E||[]),": ")+"] ":"");return w.length===0?$+"{}":f?$+"{"+hd(w,f)+"}":$+"{ "+Ht.call(w,", ")+" }"}return String(e)};function oy(t,e,n){var r=n.quoteStyle||e,i=iy[r];return i+t+i}function fS(t){return Cn.call(String(t),/"/g,"&quot;")}function pd(t){return Tn(t)==="[object Array]"&&(!Le||!(typeof t=="object"&&Le in t))}function pS(t){return Tn(t)==="[object Date]"&&(!Le||!(typeof t=="object"&&Le in t))}function ey(t){return Tn(t)==="[object RegExp]"&&(!Le||!(typeof t=="object"&&Le in t))}function hS(t){return Tn(t)==="[object Error]"&&(!Le||!(typeof t=="object"&&Le in t))}function gS(t){return Tn(t)==="[object String]"&&(!Le||!(typeof t=="object"&&Le in t))}function mS(t){return Tn(t)==="[object Number]"&&(!Le||!(typeof t=="object"&&Le in t))}function yS(t){return Tn(t)==="[object Boolean]"&&(!Le||!(typeof t=="object"&&Le in t))}function sy(t){if(hi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!dd)return!1;try{return dd.call(t),!0}catch{}return!1}function vS(t){if(!t||typeof t!="object"||!ud)return!1;try{return ud.call(t),!0}catch{}return!1}var IS=Object.prototype.hasOwnProperty||function(t){return t in this};function Jt(t,e){return IS.call(t,e)}function Tn(t){return sS.call(t)}function wS(t){if(t.name)return t.name;var e=lS.call(aS.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ay(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function bS(t){if(!Pa||!t||typeof t!="object")return!1;try{Pa.call(t);try{Ra.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ES(t){if(!Uo||!t||typeof t!="object")return!1;try{Uo.call(t,Uo);try{Wo.call(t,Wo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function CS(t){if(!Gm||!t||typeof t!="object")return!1;try{return Gm.call(t),!0}catch{}return!1}function TS(t){if(!Ra||!t||typeof t!="object")return!1;try{Ra.call(t);try{Pa.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function xS(t){if(!Wo||!t||typeof t!="object")return!1;try{Wo.call(t,Wo);try{Uo.call(t,Uo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function _S(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ly(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return ly(yd.call(t,0,e.maxStringLength),e)+r}var i=dS[e.quoteStyle||"single"];i.lastIndex=0;var o=Cn.call(Cn.call(t,i,"\\$1"),/[\x00-\x1f]/g,SS);return oy(o,"single",e)}function SS(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+cS.call(e.toString(16))}function Bo(t){return"Object("+t+")"}function cd(t){return t+" { ? }"}function ty(t,e,n,r){var i=r?hd(n,r):Ht.call(n,", ");return t+" ("+e+") {"+i+"}"}function DS(t){for(var e=0;e<t.length;e++)if(ay(t[e],`
`)>=0)return!1;return!0}function MS(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Ht.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Ht.call(Array(e+1),n)}}function hd(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Ht.call(t,","+n)+`
`+e.prev}function ka(t,e){var n=pd(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=Jt(t,i)?e(t[i],t):""}var o=typeof ld=="function"?ld(t):[],s;if(hi){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in t)Jt(t,c)&&(n&&String(Number(c))===c&&c<t.length||hi&&s["$"+c]instanceof Symbol||(ny.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if(typeof ld=="function")for(var l=0;l<o.length;l++)ry.call(t,o[l])&&r.push("["+e(o[l])+"]: "+e(t[o[l]],t));return r}});var dy=F((H8,uy)=>{"use strict";var NS=zo(),AS=vr(),Oa=function(t,e,n){for(var r=t,i;(i=r.next)!=null;r=i)if(i.key===e)return r.next=i.next,n||(i.next=t.next,t.next=i),i},kS=function(t,e){if(t){var n=Oa(t,e);return n&&n.value}},PS=function(t,e,n){var r=Oa(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},RS=function(t,e){return t?!!Oa(t,e):!1},OS=function(t,e){if(t)return Oa(t,e,!0)};uy.exports=function(){var e,n={assert:function(r){if(!n.has(r))throw new AS("Side channel does not contain "+NS(r))},delete:function(r){var i=e&&e.next,o=OS(e,r);return o&&i&&i===o&&(e=void 0),!!o},get:function(r){return kS(e,r)},has:function(r){return RS(e,r)},set:function(r,i){e||(e={next:void 0}),PS(e,r,i)}};return n}});var vd=F((V8,fy)=>{"use strict";fy.exports=Object});var hy=F((j8,py)=>{"use strict";py.exports=Error});var my=F((B8,gy)=>{"use strict";gy.exports=EvalError});var vy=F((U8,yy)=>{"use strict";yy.exports=RangeError});var wy=F((W8,Iy)=>{"use strict";Iy.exports=ReferenceError});var Ey=F((z8,by)=>{"use strict";by.exports=SyntaxError});var Ty=F((G8,Cy)=>{"use strict";Cy.exports=URIError});var _y=F((q8,xy)=>{"use strict";xy.exports=Math.abs});var Dy=F((Z8,Sy)=>{"use strict";Sy.exports=Math.floor});var Ny=F((Y8,My)=>{"use strict";My.exports=Math.max});var ky=F((Q8,Ay)=>{"use strict";Ay.exports=Math.min});var Ry=F((K8,Py)=>{"use strict";Py.exports=Math.pow});var Ly=F((X8,Oy)=>{"use strict";Oy.exports=Math.round});var $y=F((J8,Fy)=>{"use strict";Fy.exports=Number.isNaN||function(e){return e!==e}});var Vy=F((e3,Hy)=>{"use strict";var LS=$y();Hy.exports=function(e){return LS(e)||e===0?e:e<0?-1:1}});var By=F((t3,jy)=>{"use strict";jy.exports=Object.getOwnPropertyDescriptor});var Id=F((n3,Uy)=>{"use strict";var La=By();if(La)try{La([],"length")}catch{La=null}Uy.exports=La});var zy=F((r3,Wy)=>{"use strict";var Fa=Object.defineProperty||!1;if(Fa)try{Fa({},"a",{value:1})}catch{Fa=!1}Wy.exports=Fa});var qy=F((i3,Gy)=>{"use strict";Gy.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var Qy=F((o3,Yy)=>{"use strict";var Zy=typeof Symbol<"u"&&Symbol,FS=qy();Yy.exports=function(){return typeof Zy!="function"||typeof Symbol!="function"||typeof Zy("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:FS()}});var wd=F((s3,Ky)=>{"use strict";Ky.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var bd=F((a3,Xy)=>{"use strict";var $S=vd();Xy.exports=$S.getPrototypeOf||null});var tv=F((l3,ev)=>{"use strict";var HS="Function.prototype.bind called on incompatible ",VS=Object.prototype.toString,jS=Math.max,BS="[object Function]",Jy=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},US=function(e,n){for(var r=[],i=n||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},WS=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};ev.exports=function(e){var n=this;if(typeof n!="function"||VS.apply(n)!==BS)throw new TypeError(HS+n);for(var r=US(arguments,1),i,o=function(){if(this instanceof i){var u=n.apply(this,Jy(r,arguments));return Object(u)===u?u:this}return n.apply(e,Jy(r,arguments))},s=jS(0,n.length-r.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+WS(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i}});var Go=F((c3,nv)=>{"use strict";var zS=tv();nv.exports=Function.prototype.bind||zS});var $a=F((u3,rv)=>{"use strict";rv.exports=Function.prototype.call});var Ed=F((d3,iv)=>{"use strict";iv.exports=Function.prototype.apply});var sv=F((f3,ov)=>{"use strict";ov.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var lv=F((p3,av)=>{"use strict";var GS=Go(),qS=Ed(),ZS=$a(),YS=sv();av.exports=YS||GS.call(ZS,qS)});var Cd=F((h3,cv)=>{"use strict";var QS=Go(),KS=vr(),XS=$a(),JS=lv();cv.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new KS("a function is required");return JS(QS,XS,e)}});var gv=F((g3,hv)=>{"use strict";var eD=Cd(),uv=Id(),fv;try{fv=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Td=!!fv&&uv&&uv(Object.prototype,"__proto__"),pv=Object,dv=pv.getPrototypeOf;hv.exports=Td&&typeof Td.get=="function"?eD([Td.get]):typeof dv=="function"?function(e){return dv(e==null?e:pv(e))}:!1});var wv=F((m3,Iv)=>{"use strict";var mv=wd(),yv=bd(),vv=gv();Iv.exports=mv?function(e){return mv(e)}:yv?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return yv(e)}:vv?function(e){return vv(e)}:null});var Ev=F((y3,bv)=>{"use strict";var tD=Function.prototype.call,nD=Object.prototype.hasOwnProperty,rD=Go();bv.exports=rD.call(tD,nD)});var ja=F((v3,Dv)=>{"use strict";var q,iD=vd(),oD=hy(),sD=my(),aD=vy(),lD=wy(),vi=Ey(),yi=vr(),cD=Ty(),uD=_y(),dD=Dy(),fD=Ny(),pD=ky(),hD=Ry(),gD=Ly(),mD=Vy(),_v=Function,xd=function(t){try{return _v('"use strict"; return ('+t+").constructor;")()}catch{}},qo=Id(),yD=zy(),_d=function(){throw new yi},vD=qo?(function(){try{return arguments.callee,_d}catch{try{return qo(arguments,"callee").get}catch{return _d}}})():_d,gi=Qy()(),Se=wv(),ID=bd(),wD=wd(),Sv=Ed(),Zo=$a(),mi={},bD=typeof Uint8Array>"u"||!Se?q:Se(Uint8Array),Ir={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?q:ArrayBuffer,"%ArrayIteratorPrototype%":gi&&Se?Se([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":mi,"%AsyncGenerator%":mi,"%AsyncGeneratorFunction%":mi,"%AsyncIteratorPrototype%":mi,"%Atomics%":typeof Atomics>"u"?q:Atomics,"%BigInt%":typeof BigInt>"u"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":oD,"%eval%":eval,"%EvalError%":sD,"%Float16Array%":typeof Float16Array>"u"?q:Float16Array,"%Float32Array%":typeof Float32Array>"u"?q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?q:FinalizationRegistry,"%Function%":_v,"%GeneratorFunction%":mi,"%Int8Array%":typeof Int8Array>"u"?q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":gi&&Se?Se(Se([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map>"u"?q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!gi||!Se?q:Se(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":iD,"%Object.getOwnPropertyDescriptor%":qo,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?q:Promise,"%Proxy%":typeof Proxy>"u"?q:Proxy,"%RangeError%":aD,"%ReferenceError%":lD,"%Reflect%":typeof Reflect>"u"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!gi||!Se?q:Se(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":gi&&Se?Se(""[Symbol.iterator]()):q,"%Symbol%":gi?Symbol:q,"%SyntaxError%":vi,"%ThrowTypeError%":vD,"%TypedArray%":bD,"%TypeError%":yi,"%Uint8Array%":typeof Uint8Array>"u"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?q:Uint32Array,"%URIError%":cD,"%WeakMap%":typeof WeakMap>"u"?q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?q:WeakSet,"%Function.prototype.call%":Zo,"%Function.prototype.apply%":Sv,"%Object.defineProperty%":yD,"%Object.getPrototypeOf%":ID,"%Math.abs%":uD,"%Math.floor%":dD,"%Math.max%":fD,"%Math.min%":pD,"%Math.pow%":hD,"%Math.round%":gD,"%Math.sign%":mD,"%Reflect.getPrototypeOf%":wD};if(Se)try{null.error}catch(t){Cv=Se(Se(t)),Ir["%Error.prototype%"]=Cv}var Cv,ED=function t(e){var n;if(e==="%AsyncFunction%")n=xd("async function () {}");else if(e==="%GeneratorFunction%")n=xd("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=xd("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Se&&(n=Se(i.prototype))}return Ir[e]=n,n},Tv={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yo=Go(),Ha=Ev(),CD=Yo.call(Zo,Array.prototype.concat),TD=Yo.call(Sv,Array.prototype.splice),xv=Yo.call(Zo,String.prototype.replace),Va=Yo.call(Zo,String.prototype.slice),xD=Yo.call(Zo,RegExp.prototype.exec),_D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,SD=/\\(\\)?/g,DD=function(e){var n=Va(e,0,1),r=Va(e,-1);if(n==="%"&&r!=="%")throw new vi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new vi("invalid intrinsic syntax, expected opening `%`");var i=[];return xv(e,_D,function(o,s,a,c){i[i.length]=a?xv(c,SD,"$1"):s||o}),i},MD=function(e,n){var r=e,i;if(Ha(Tv,r)&&(i=Tv[r],r="%"+i[0]+"%"),Ha(Ir,r)){var o=Ir[r];if(o===mi&&(o=ED(r)),typeof o>"u"&&!n)throw new yi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new vi("intrinsic "+e+" does not exist!")};Dv.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new yi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new yi('"allowMissing" argument must be a boolean');if(xD(/^%?[^%]*%?$/,e)===null)throw new vi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=DD(e),i=r.length>0?r[0]:"",o=MD("%"+i+"%",n),s=o.name,a=o.value,c=!1,l=o.alias;l&&(i=l[0],TD(r,CD([0,1],l)));for(var u=1,f=!0;u<r.length;u+=1){var d=r[u],p=Va(d,0,1),h=Va(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new vi("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(c=!0),i+="."+d,s="%"+i+"%",Ha(Ir,s))a=Ir[s];else if(a!=null){if(!(d in a)){if(!n)throw new yi("base intrinsic for "+e+" exists, but the property is not available.");return}if(qo&&u+1>=r.length){var C=qo(a,d);f=!!C,f&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[d]}else f=Ha(a,d),a=a[d];f&&!c&&(Ir[s]=a)}}return a}});var Sd=F((I3,Av)=>{"use strict";var Mv=ja(),Nv=Cd(),ND=Nv([Mv("%String.prototype.indexOf%")]);Av.exports=function(e,n){var r=Mv(e,!!n);return typeof r=="function"&&ND(e,".prototype.")>-1?Nv([r]):r}});var Dd=F((w3,Pv)=>{"use strict";var AD=ja(),Qo=Sd(),kD=zo(),PD=vr(),kv=AD("%Map%",!0),RD=Qo("Map.prototype.get",!0),OD=Qo("Map.prototype.set",!0),LD=Qo("Map.prototype.has",!0),FD=Qo("Map.prototype.delete",!0),$D=Qo("Map.prototype.size",!0);Pv.exports=!!kv&&function(){var e,n={assert:function(r){if(!n.has(r))throw new PD("Side channel does not contain "+kD(r))},delete:function(r){if(e){var i=FD(e,r);return $D(e)===0&&(e=void 0),i}return!1},get:function(r){if(e)return RD(e,r)},has:function(r){return e?LD(e,r):!1},set:function(r,i){e||(e=new kv),OD(e,r,i)}};return n}});var Ov=F((b3,Rv)=>{"use strict";var HD=ja(),Ua=Sd(),VD=zo(),Ba=Dd(),jD=vr(),Ii=HD("%WeakMap%",!0),BD=Ua("WeakMap.prototype.get",!0),UD=Ua("WeakMap.prototype.set",!0),WD=Ua("WeakMap.prototype.has",!0),zD=Ua("WeakMap.prototype.delete",!0);Rv.exports=Ii?function(){var e,n,r={assert:function(i){if(!r.has(i))throw new jD("Side channel does not contain "+VD(i))},delete:function(i){if(Ii&&i&&(typeof i=="object"||typeof i=="function")){if(e)return zD(e,i)}else if(Ba&&n)return n.delete(i);return!1},get:function(i){return Ii&&i&&(typeof i=="object"||typeof i=="function")&&e?BD(e,i):n&&n.get(i)},has:function(i){return Ii&&i&&(typeof i=="object"||typeof i=="function")&&e?WD(e,i):!!n&&n.has(i)},set:function(i,o){Ii&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Ii),UD(e,i,o)):Ba&&(n||(n=Ba()),n.set(i,o))}};return r}:Ba});var Fv=F((E3,Lv)=>{"use strict";var GD=vr(),qD=zo(),ZD=dy(),YD=Dd(),QD=Ov(),KD=QD||YD||ZD;Lv.exports=function(){var e,n={assert:function(r){if(!n.has(r))throw new GD("Side channel does not contain "+qD(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,i){e||(e=KD()),e.set(r,i)}};return n}});var Wa=F((C3,$v)=>{"use strict";var XD=String.prototype.replace,JD=/%20/g,Md={RFC1738:"RFC1738",RFC3986:"RFC3986"};$v.exports={default:Md.RFC3986,formatters:{RFC1738:function(t){return XD.call(t,JD,"+")},RFC3986:function(t){return String(t)}},RFC1738:Md.RFC1738,RFC3986:Md.RFC3986}});var kd=F((T3,Vv)=>{"use strict";var e0=Wa(),Nd=Object.prototype.hasOwnProperty,wr=Array.isArray,Vt=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),t0=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(wr(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},Hv=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},n0=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(wr(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Nd.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return wr(e)&&!wr(n)&&(i=Hv(e,r)),wr(e)&&wr(n)?(n.forEach(function(o,s){if(Nd.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(n).reduce(function(o,s){var a=n[s];return Nd.call(o,s)?o[s]=t(o[s],a,r):o[s]=a,o},i)},r0=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},i0=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Ad=1024,o0=function(e,n,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<s.length;c+=Ad){for(var l=s.length>=Ad?s.slice(c,c+Ad):s,u=[],f=0;f<l.length;++f){var d=l.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===e0.RFC1738&&(d===40||d===41)){u[u.length]=l.charAt(f);continue}if(d<128){u[u.length]=Vt[d];continue}if(d<2048){u[u.length]=Vt[192|d>>6]+Vt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Vt[224|d>>12]+Vt[128|d>>6&63]+Vt[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|l.charCodeAt(f)&1023),u[u.length]=Vt[240|d>>18]+Vt[128|d>>12&63]+Vt[128|d>>6&63]+Vt[128|d&63]}a+=u.join("")}return a},s0=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var l=a[c],u=s[l];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(n.push({obj:s,prop:l}),r.push(u))}return t0(n),e},a0=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},l0=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},c0=function(e,n){return[].concat(e,n)},u0=function(e,n){if(wr(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)};Vv.exports={arrayToObject:Hv,assign:r0,combine:c0,compact:s0,decode:i0,encode:o0,isBuffer:l0,isRegExp:a0,maybeMap:u0,merge:n0}});var Gv=F((x3,zv)=>{"use strict";var Bv=Fv(),za=kd(),Ko=Wa(),d0=Object.prototype.hasOwnProperty,Uv={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},jt=Array.isArray,f0=Array.prototype.push,Wv=function(t,e){f0.apply(t,jt(e)?e:[e])},p0=Date.prototype.toISOString,jv=Ko.default,Ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:za.encode,encodeValuesOnly:!1,format:jv,formatter:Ko.formatters[jv],indices:!1,serializeDate:function(e){return p0.call(e)},skipNulls:!1,strictNullHandling:!1},h0=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Pd={},g0=function t(e,n,r,i,o,s,a,c,l,u,f,d,p,h,C,I,b,m){for(var g=e,v=m,M=0,_=!1;(v=v.get(Pd))!==void 0&&!_;){var w=v.get(e);if(M+=1,typeof w<"u"){if(w===M)throw new RangeError("Cyclic object value");_=!0}typeof v.get(Pd)>"u"&&(M=0)}if(typeof u=="function"?g=u(n,g):g instanceof Date?g=p(g):r==="comma"&&jt(g)&&(g=za.maybeMap(g,function(O){return O instanceof Date?p(O):O})),g===null){if(s)return l&&!I?l(n,Ce.encoder,b,"key",h):n;g=""}if(h0(g)||za.isBuffer(g)){if(l){var S=I?n:l(n,Ce.encoder,b,"key",h);return[C(S)+"="+C(l(g,Ce.encoder,b,"value",h))]}return[C(n)+"="+C(String(g))]}var E=[];if(typeof g>"u")return E;var x;if(r==="comma"&&jt(g))I&&l&&(g=za.maybeMap(g,l)),x=[{value:g.length>0?g.join(",")||null:void 0}];else if(jt(u))x=u;else{var N=Object.keys(g);x=f?N.sort(f):N}var $=c?n.replace(/\./g,"%2E"):n,H=i&&jt(g)&&g.length===1?$+"[]":$;if(o&&jt(g)&&g.length===0)return H+"[]";for(var Z=0;Z<x.length;++Z){var de=x[Z],R=typeof de=="object"&&typeof de.value<"u"?de.value:g[de];if(!(a&&R===null)){var L=d&&c?de.replace(/\./g,"%2E"):de,A=jt(g)?typeof r=="function"?r(H,L):H:H+(d?"."+L:"["+L+"]");m.set(e,M);var P=Bv();P.set(Pd,m),Wv(E,t(R,A,r,i,o,s,a,c,r==="comma"&&I&&jt(g)?null:l,u,f,d,p,h,C,I,b,P))}}return E},m0=function(e){if(!e)return Ce;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ko.default;if(typeof e.format<"u"){if(!d0.call(Ko.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Ko.formatters[r],o=Ce.filter;(typeof e.filter=="function"||jt(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in Uv?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ce.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ce.allowEmptyArrays,arrayFormat:s,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ce.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}};zv.exports=function(t,e){var n=t,r=m0(e),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):jt(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var a=Uv[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var l=Bv(),u=0;u<i.length;++u){var f=i[u];r.skipNulls&&n[f]===null||Wv(s,g0(n[f],f,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var d=s.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""}});var Yv=F((_3,Zv)=>{"use strict";var wi=kd(),Rd=Object.prototype.hasOwnProperty,y0=Array.isArray,Ie={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:wi.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},v0=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},qv=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},I0="utf8=%26%2310003%3B",w0="utf8=%E2%9C%93",b0=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,o),a=-1,c,l=n.charset;if(n.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===w0?l="utf-8":s[c]===I0&&(l="iso-8859-1"),a=c,c=s.length);for(c=0;c<s.length;++c)if(c!==a){var u=s[c],f=u.indexOf("]="),d=f===-1?u.indexOf("="):f+1,p,h;d===-1?(p=n.decoder(u,Ie.decoder,l,"key"),h=n.strictNullHandling?null:""):(p=n.decoder(u.slice(0,d),Ie.decoder,l,"key"),h=wi.maybeMap(qv(u.slice(d+1),n),function(I){return n.decoder(I,Ie.decoder,l,"value")})),h&&n.interpretNumericEntities&&l==="iso-8859-1"&&(h=v0(h)),u.indexOf("[]=")>-1&&(h=y0(h)?[h]:h);var C=Rd.call(r,p);C&&n.duplicates==="combine"?r[p]=wi.combine(r[p],h):(!C||n.duplicates==="last")&&(r[p]=h)}return r},E0=function(t,e,n,r){for(var i=r?e:qv(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&n.parseArrays)s=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!n.parseArrays&&l===""?s={0:i}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},C0=function(e,n,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=r.depth>0&&s.exec(o),l=c?o.slice(0,c.index):o,u=[];if(l){if(!r.plainObjects&&Rd.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var f=0;r.depth>0&&(c=a.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Rd.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(c[1])}if(c){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+o.slice(c.index)+"]")}return E0(u,n,r,i)}},T0=function(e){if(!e)return Ie;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Ie.charset:e.charset,r=typeof e.duplicates>"u"?Ie.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ie.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ie.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ie.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ie.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ie.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ie.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ie.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ie.decoder,delimiter:typeof e.delimiter=="string"||wi.isRegExp(e.delimiter)?e.delimiter:Ie.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ie.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ie.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ie.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ie.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ie.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}};Zv.exports=function(t,e){var n=T0(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?b0(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],c=C0(a,r[a],n,typeof t=="string");i=wi.merge(i,c,n)}return n.allowSparse===!0?i:wi.compact(i)}});var Kv=F((S3,Qv)=>{"use strict";var x0=Gv(),_0=Yv(),S0=Wa();Qv.exports={formats:S0,parse:_0,stringify:x0}});var $d=F(Ei=>{"use strict";var D0=jm();function ut(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var M0=/^([a-z0-9.+-]+:)/i,N0=/:[0-9]*$/,A0=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,k0=["<",">",'"',"`"," ","\r",`
`,"	"],P0=["{","}","|","\\","^","`"].concat(k0),Od=["'"].concat(P0),Xv=["%","/","?",";","#"].concat(Od),Jv=["/","?","#"],R0=255,eI=/^[+a-z0-9A-Z_-]{0,63}$/,O0=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L0={javascript:!0,"javascript:":!0},Ld={javascript:!0,"javascript:":!0},bi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Fd=Kv();function Xo(t,e,n){if(t&&typeof t=="object"&&t instanceof ut)return t;var r=new ut;return r.parse(t,e,n),r}ut.prototype.parse=function(t,e,n){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var c=A0.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Fd.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=M0.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&Ld[l])&&(a=a.substr(2),this.slashes=!0)}if(!Ld[l]&&(f||l&&!bi[l])){for(var d=-1,p=0;p<Jv.length;p++){var h=a.indexOf(Jv[p]);h!==-1&&(d===-1||h<d)&&(d=h)}var C,I;d===-1?I=a.lastIndexOf("@"):I=a.lastIndexOf("@",d),I!==-1&&(C=a.slice(0,I),a=a.slice(I+1),this.auth=decodeURIComponent(C)),d=-1;for(var p=0;p<Xv.length;p++){var h=a.indexOf(Xv[p]);h!==-1&&(d===-1||h<d)&&(d=h)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var m=this.hostname.split(/\./),p=0,g=m.length;p<g;p++){var v=m[p];if(v&&!v.match(eI)){for(var M="",_=0,w=v.length;_<w;_++)v.charCodeAt(_)>127?M+="x":M+=v[_];if(!M.match(eI)){var S=m.slice(0,p),E=m.slice(p+1),x=v.match(O0);x&&(S.push(x[1]),E.unshift(x[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=S.join(".");break}}}this.hostname.length>R0?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=D0.toASCII(this.hostname));var N=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+N,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!L0[u])for(var p=0,g=Od.length;p<g;p++){var H=Od[p];if(a.indexOf(H)!==-1){var Z=encodeURIComponent(H);Z===H&&(Z=escape(H)),a=a.split(H).join(Z)}}var de=a.indexOf("#");de!==-1&&(this.hash=a.substr(de),a=a.slice(0,de));var R=a.indexOf("?");if(R!==-1?(this.search=a.substr(R),this.query=a.substr(R+1),e&&(this.query=Fd.parse(this.query)),a=a.slice(0,R)):e&&(this.search="",this.query={}),a&&(this.pathname=a),bi[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",L=this.search||"";this.path=N+L}return this.href=this.format(),this};function F0(t){return typeof t=="string"&&(t=Xo(t)),t instanceof ut?t.format():ut.prototype.format.call(t)}ut.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=Fd.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||bi[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),s&&s.charAt(0)!=="?"&&(s="?"+s),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+i+n+s+r};function $0(t,e){return Xo(t,!1,!0).resolve(e)}ut.prototype.resolve=function(t){return this.resolveObject(Xo(t,!1,!0)).format()};function H0(t,e){return t?Xo(t,!1,!0).resolveObject(e):e}ut.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ut;e.parse(t,!1,!0),t=e}for(var n=new ut,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(n[c]=t[c])}return bi[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!bi[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var f=l[u];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Ld[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var h=n.pathname&&n.pathname.charAt(0)==="/",C=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=C||h||n.host&&t.pathname,b=I,m=n.pathname&&n.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!bi[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(m[0]===""?m[0]=n.host:m.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),I=I&&(g[0]===""||m[0]==="")),C)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,m=g;else if(g.length)m||(m=[]),m.pop(),m=m.concat(g),n.search=t.search,n.query=t.query;else if(t.search!=null){if(v){n.host=m.shift(),n.hostname=n.host;var M=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;M&&(n.auth=M.shift(),n.hostname=M.shift(),n.host=n.hostname)}return n.search=t.search,n.query=t.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=m.slice(-1)[0],w=(n.host||t.host||m.length>1)&&(_==="."||_==="..")||_==="",S=0,E=m.length;E>=0;E--)_=m[E],_==="."?m.splice(E,1):_===".."?(m.splice(E,1),S++):S&&(m.splice(E,1),S--);if(!I&&!b)for(;S--;S)m.unshift("..");I&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),w&&m.join("/").substr(-1)!=="/"&&m.push("");var x=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(v){n.hostname=x?"":m.length?m.shift():"",n.host=n.hostname;var M=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;M&&(n.auth=M.shift(),n.hostname=M.shift(),n.host=n.hostname)}return I=I||n.host&&m.length,I&&!x&&m.unshift(""),m.length>0?n.pathname=m.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};ut.prototype.parseHost=function(){var t=this.host,e=N0.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};Ei.parse=Xo;Ei.resolve=$0;Ei.resolveObject=H0;Ei.format=F0;Ei.Url=ut});var nI=F((tI,Ga)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Ga=="object"&&Ga.exports?Ga.exports=e():t.xmlserializer=e()})(tI,function(){var t=function(d){return d.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},n=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=function(d){var p=d.value;return" "+d.name+'="'+e(p)+'"'},i=function(d){var p=d.tagName;return d.namespaceURI==="http://www.w3.org/1999/xhtml"&&(p=p.toLowerCase()),p},o=function(d,p){var h=Array.prototype.map.call(d.attributes||d.attrs,function(C){return C.name}).indexOf("xmlns")>=0;return!h&&(p||d.namespaceURI!==d.parentNode.namespaceURI)?' xmlns="'+d.namespaceURI+'"':""},s=function(d){return Array.prototype.map.call(d.childNodes,function(p){return f(p)}).join("")},a=function(d,p){var h="<"+i(d);return h+=o(d,p),Array.prototype.forEach.call(d.attributes||d.attrs,function(C){h+=r(C)}),d.childNodes.length>0?(h+=">",h+=s(d),h+="</"+i(d)+">"):h+="/>",h},c=function(d){var p=d.nodeValue||d.value||"";return n(p)},l=function(d){return"<!--"+d.data.replace(/-/g,"&#45;")+"-->"},u=function(d){return"<![CDATA["+d.nodeValue+"]]>"},f=function(d,p){var h=p&&p.rootNode;if(d.nodeName==="#document"||d.nodeName==="#document-fragment")return s(d);if(d.tagName)return a(d,h);if(d.nodeName==="#text")return c(d);if(d.nodeName==="#comment")return l(d);if(d.nodeName==="#cdata-section")return u(d)};return{serializeToString:function(d){return t(f(d,{rootNode:!0}))}}})});var oI=F(iI=>{"use strict";var V0=function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(n){return e.serializeToString(n)}).join("")},j0=function(t){if(t.documentElement.tagName==="parsererror"&&t.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml")return t.documentElement;if((t.documentElement.tagName==="xml"||t.documentElement.tagName==="html")&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&t.documentElement.childNodes[0].nodeName==="parsererror")return t.documentElement.childNodes[0];if(t.documentElement.tagName==="html"&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&t.documentElement.childNodes[0].nodeName==="body"&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&t.documentElement.childNodes[0].childNodes[0].nodeName==="parsererror")return t.documentElement.childNodes[0].childNodes[0]},rI=[new RegExp(`^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)
?</div>`),new RegExp(`^(.+)
`)],B0=function(t){var e=V0(t),n,r;for(n=0;n<rI.length;n++)if(r=rI[n].exec(e),r)return r[1]},U0=function(t){var e;if(t===null)throw new Error("Parse error");var n=j0(t);if(n!==void 0)throw e=B0(n)||"Parse error",new Error(e)};iI.failOnParseError=function(t){return U0(t),t}});var Jo=F(Ve=>{"use strict";var W0=$d();Ve.getDocumentBaseUrl=function(t){return t.baseURI!=="about:blank"?t.baseURI:null};Ve.clone=function(t){var e={},n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};Ve.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])};Ve.joinUrl=function(t,e){return t?W0.resolve(t,e):e};Ve.isDataUri=function(t){return/^data:/.test(t)};Ve.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map(function(n){return n.catch(function(r){e.push(r)})})).then(function(){return e})};var Hd=null,z0=function(t,e){return e===!1||e==="none"||e==="repeated"?((Hd===null||e!=="repeated")&&(Hd=Date.now()),t+"?_="+Hd):t};Ve.ajax=function(t,e){return new Promise(function(n,r){var i=new window.XMLHttpRequest,o=Ve.joinUrl(e.baseUrl,t),s,a=function(){r({msg:"Unable to load url",url:o})};s=z0(o,e.cache),i.addEventListener("load",function(){i.status===200||i.status===0?n(i.response):a()},!1),i.addEventListener("error",a,!1);try{i.open("GET",s,!0),i.overrideMimeType(e.mimeType),i.send(null)}catch{a()}})};Ve.binaryAjax=function(t,e){var n=Ve.clone(e);return n.mimeType="text/plain; charset=x-user-defined",Ve.ajax(t,n).then(function(r){for(var i="",o=0;o<r.length;o++)i+=String.fromCharCode(r.charCodeAt(o)&255);return i})};var G0=function(t){var e=function(n,r){return n.substring(0,r.length)===r};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"};Ve.getDataURIForImageURL=function(t,e){return Ve.binaryAjax(t,e).then(function(n){var r=btoa(n),i=G0(n);return"data:"+i+";base64,"+r})};var Vd=[],q0=function(t){return Vd.indexOf(t)<0&&Vd.push(t),Vd.indexOf(t)};Ve.memoize=function(t,e,n){if(typeof n!="object")throw new Error("cacheBucket is not an object");return function(){var r=Array.prototype.slice.call(arguments),i=e(r),o=q0(t),s;return n[o]&&n[o][i]?n[o][i]:(s=t.apply(null,r),n[o]=n[o]||{},n[o][i]=s,s)}}});var lI=F(aI=>{"use strict";var es=Jo(),Z0=function(t,e){var n=null;t.hasAttribute("src")?n=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(n=t.getAttribute("href"));var r=es.getDocumentBaseUrl(t.ownerDocument),i=es.clone(e);return!i.baseUrl&&r&&(i.baseUrl=r),es.getDataURIForImageURL(n,i).then(function(o){return o},function(o){throw{resourceType:"image",url:o.url,msg:"Unable to load image "+o.url}})},Y0=function(t){return t.filter(function(e){var n=null;return e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href")),n!==null&&!es.isDataUri(n)})},Q0=function(t){return Array.prototype.filter.call(t,function(e){return e.type==="image"})},sI=function(t){return Array.prototype.slice.call(t)};aI.inline=function(t,e){var n=sI(t.getElementsByTagName("img")),r=sI(t.getElementsByTagName("image")),i=Q0(t.getElementsByTagName("input"));n=n.concat(r),n=n.concat(i);var o=Y0(n);return es.collectAndReportErrors(o.map(function(s){return Z0(s,e).then(function(a){s.attributes.src?s.attributes.src.value=a:s.attributes["xlink:href"]?s.attributes["xlink:href"].value=a:s.attributes.href&&(s.attributes.href.value=a)})}))}});var uI=F(cI=>{"use strict";var qa=Jo(),K0=function(t,e){var n=t.attributes.src.value,r=qa.getDocumentBaseUrl(t.ownerDocument),i=qa.clone(e);return!i.baseUrl&&r&&(i.baseUrl=r),qa.ajax(n,i).catch(function(o){throw{resourceType:"script",url:o.url,msg:"Unable to load script "+o.url}})},X0=function(t){return t.replace(/<\//g,"<\\/")},J0=function(t,e){t.attributes.removeNamedItem("src"),t.textContent=X0(e)},eM=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,function(n){return!!n.attributes.src})};cI.inline=function(t,e){var n=eM(t);return qa.collectAndReportErrors(n.map(function(r){return K0(r,e).then(function(i){J0(r,i)})}))}});var Za=F(xn=>{"use strict";xn.unquoteString=function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t};xn.rulesForCssText=function(t,e){var n=document.implementation.createHTMLDocument(""),r=document.createElement("style"),i;return r.textContent=t,e&&e.nonce&&(r.nonce=e.nonce),n.body.appendChild(r),i=r.sheet.cssRules,Array.prototype.slice.call(i)};xn.cssRulesToText=function(t){return t.reduce(function(e,n){return e+n.cssText},"")};xn.exchangeRule=function(t,e,n,r){var i=t.indexOf(e);t[i]=xn.rulesForCssText(n,r)[0]};xn.changeFontFaceRuleSrc=function(t,e,n,r){var i="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(i+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(i+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),e.style.getPropertyValue("unicode-range")&&(i+="unicode-range: "+e.style.getPropertyValue("unicode-range")+"; "),i+="src: "+n+"}",xn.exchangeRule(t,e,i,r)}});var dI=F(ts=>{"use strict";var tM=Za(),nM=function(t){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return t.replace(e,"$1")};ts.extractCssUrl=function(t){var e=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/,n;if(!e.test(t))throw new Error("Invalid url");return n=e.exec(t)[1],tM.unquoteString(nM(n))};var rM=function(t){var e=`\\s*(?:"[^"]*"|'[^']*'|[^\\(]+)\\s*`,n="(url\\("+e+"\\)|[^,\\s]+)",r="(?:\\s*"+n+")+",i="^\\s*("+r+")(?:\\s*,\\s*("+r+"))*\\s*$",o=new RegExp(r,"g"),s,a=[],c=function(l){var u=new RegExp(n,"g"),f=[],d;for(d=u.exec(l);d;)f.push(d[1]),d=u.exec(l);return f};if(t.match(new RegExp(i))){for(s=o.exec(t);s;)a.push(c(s[0])),s=o.exec(t);return a}return[]},iM=function(t){var e,n;for(e=0;e<t.length;e++)try{return n=ts.extractCssUrl(t[e]),{url:n,idx:e}}catch{}};ts.parse=function(t){var e=rM(t);return e.map(function(n){var r=iM(n);return r?{preUrl:n.slice(0,r.idx),url:r.url,postUrl:n.slice(r.idx+1)}:{preUrl:n}})};ts.serialize=function(t){var e=t.map(function(n){var r=[].concat(n.preUrl);return n.url&&r.push('url("'+n.url+'")'),n.postUrl&&(r=r.concat(n.postUrl)),r.join(" ")});return e.join(", ")}});var pI=F((fI,jd)=>{"use strict";(function(t){if(typeof fI=="object"&&typeof jd<"u")jd.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.cssFontFaceSrc=t()}})(function(){var t,e,n;return(function r(i,o,s){function a(u,f){if(!o[u]){if(!i[u]){var d=typeof Ai=="function"&&Ai;if(!f&&d)return d(u,!0);if(c)return c(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var h=o[u]={exports:{}};i[u][0].call(h.exports,function(C){var I=i[u][1][C];return a(I||C)},h,h.exports,r,i,o,s)}return o[u].exports}for(var c=typeof Ai=="function"&&Ai,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(r,i,o){"use strict";function s(l,u){function f(){this.constructor=l}f.prototype=u.prototype,l.prototype=new f}function a(l,u,f,d){this.message=l,this.expected=u,this.found=f,this.location=d,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a)}s(a,Error),a.buildMessage=function(l,u){var f={literal:function(m){return'"'+p(m.text)+'"'},class:function(m){var g="",v;for(v=0;v<m.parts.length;v++)g+=m.parts[v]instanceof Array?h(m.parts[v][0])+"-"+h(m.parts[v][1]):h(m.parts[v]);return"["+(m.inverted?"^":"")+g+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function d(m){return m.charCodeAt(0).toString(16).toUpperCase()}function p(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+d(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+d(g)})}function h(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+d(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+d(g)})}function C(m){return f[m.type](m)}function I(m){var g=new Array(m.length),v,M;for(v=0;v<m.length;v++)g[v]=C(m[v]);if(g.sort(),g.length>0){for(v=1,M=1;v<g.length;v++)g[v-1]!==g[v]&&(g[M]=g[v],M++);g.length=M}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function b(m){return m?'"'+p(m)+'"':"end of input"}return"Expected "+I(l)+" but "+b(u)+" found."};function c(l,u){u=u!==void 0?u:{};var f={},d={start:Gd},p=Gd,h="",C=function(){return[]},I=",",b=je(",",!1),m=function(T,k){return[T].concat(k)},g=function(T){return[T]},v=function(T,k){return{url:T,format:k}},M=function(T){return{url:T}},_="url(",w=je("url(",!1),S=")",E=je(")",!1),x=function(T){return T},N="format(",$=je("format(",!1),H="local(",Z=je("local(",!1),de=function(T){return{local:T}},R=/^[^)]/,L=_t([")"],!0,!1),A=function(T){return LI.extractValue(T.join(""))},P=/^[ \t\r\n\f]/,O=_t([" ","	","\r",`
`,"\f"],!1,!1),D=0,j=0,G=[{line:1,column:1}],U=0,ge=[],oe=0,we;if("startRule"in u){if(!(u.startRule in d))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');p=d[u.startRule]}function De(){return l.substring(j,D)}function me(){return Ni(j,D)}function Me(T,k){throw k=k!==void 0?k:Ni(j,D),zd([AI(T)],l.substring(j,D),k)}function Xe(T,k){throw k=k!==void 0?k:Ni(j,D),kI(T,k)}function je(T,k){return{type:"literal",text:T,ignoreCase:k}}function _t(T,k,B){return{type:"class",parts:T,inverted:k,ignoreCase:B}}function as(){return{type:"any"}}function NI(){return{type:"end"}}function AI(T){return{type:"other",description:T}}function Wd(T){var k=G[T],B;if(k)return k;for(B=T-1;!G[B];)B--;for(k=G[B],k={line:k.line,column:k.column};B<T;)l.charCodeAt(B)===10?(k.line++,k.column=1):k.column++,B++;return G[T]=k,k}function Ni(T,k){var B=Wd(T),te=Wd(k);return{start:{offset:T,line:B.line,column:B.column},end:{offset:k,line:te.line,column:te.column}}}function dt(T){D<U||(D>U&&(U=D,ge=[]),ge.push(T))}function kI(T,k){return new a(T,null,null,k)}function zd(T,k,B){return new a(a.buildMessage(T,k),T,k,B)}function Gd(){var T,k;return T=qd(),T===f&&(T=D,k=h,k!==f&&(j=T,k=C()),T=k),T}function qd(){var T,k,B,te,sl,An;if(T=D,k=Zd(),k!==f){for(B=[],te=Cr();te!==f;)B.push(te),te=Cr();if(B!==f)if(l.charCodeAt(D)===44?(te=I,D++):(te=f,oe===0&&dt(b)),te!==f){for(sl=[],An=Cr();An!==f;)sl.push(An),An=Cr();sl!==f?(An=qd(),An!==f?(j=T,k=m(k,An),T=k):(D=T,T=f)):(D=T,T=f)}else D=T,T=f;else D=T,T=f}else D=T,T=f;return T===f&&(T=D,k=Zd(),k!==f&&(j=T,k=g(k)),T=k),T}function Zd(){var T;return T=PI(),T===f&&(T=OI()),T}function PI(){var T,k,B,te;if(T=D,k=Yd(),k!==f){if(B=[],te=Cr(),te!==f)for(;te!==f;)B.push(te),te=Cr();else B=f;B!==f?(te=RI(),te!==f?(j=T,k=v(k,te),T=k):(D=T,T=f)):(D=T,T=f)}else D=T,T=f;return T===f&&(T=D,k=Yd(),k!==f&&(j=T,k=M(k)),T=k),T}function Yd(){var T,k,B,te;return T=D,l.substr(D,4)===_?(k=_,D+=4):(k=f,oe===0&&dt(w)),k!==f?(B=ol(),B!==f?(l.charCodeAt(D)===41?(te=S,D++):(te=f,oe===0&&dt(E)),te!==f?(j=T,k=x(B),T=k):(D=T,T=f)):(D=T,T=f)):(D=T,T=f),T}function RI(){var T,k,B,te;return T=D,l.substr(D,7)===N?(k=N,D+=7):(k=f,oe===0&&dt($)),k!==f?(B=ol(),B!==f?(l.charCodeAt(D)===41?(te=S,D++):(te=f,oe===0&&dt(E)),te!==f?(j=T,k=x(B),T=k):(D=T,T=f)):(D=T,T=f)):(D=T,T=f),T}function OI(){var T,k,B,te;return T=D,l.substr(D,6)===H?(k=H,D+=6):(k=f,oe===0&&dt(Z)),k!==f?(B=ol(),B!==f?(l.charCodeAt(D)===41?(te=S,D++):(te=f,oe===0&&dt(E)),te!==f?(j=T,k=de(B),T=k):(D=T,T=f)):(D=T,T=f)):(D=T,T=f),T}function ol(){var T,k,B;if(T=D,k=[],R.test(l.charAt(D))?(B=l.charAt(D),D++):(B=f,oe===0&&dt(L)),B!==f)for(;B!==f;)k.push(B),R.test(l.charAt(D))?(B=l.charAt(D),D++):(B=f,oe===0&&dt(L));else k=f;return k!==f&&(j=T,k=A(k)),T=k,T}function Cr(){var T;return P.test(l.charAt(D))?(T=l.charAt(D),D++):(T=f,oe===0&&dt(O)),T}var LI=r("../util");if(we=p(),we!==f&&D===l.length)return we;throw we!==f&&D<l.length&&dt(NI()),zd(ge,U<l.length?l.charAt(U):null,U<l.length?Ni(U,U+1):Ni(U,U))}i.exports={SyntaxError:a,parse:c}},{"../util":3}],2:[function(r,i,o){var s=r("./grammar");o.SyntaxError=function(a,c){this.message=a,this.offset=c},o.parse=function(a){try{return s.parse(a)}catch(c){throw new o.SyntaxError(c.message,c.offset)}},o.serialize=function(a){return a.map(function(c){var l;return c.url?(l='url("'+c.url+'")',c.format&&(l+=' format("'+c.format+'")')):l='local("'+c.local+'")',l}).join(", ")}},{"./grammar":1}],3:[function(r,i,o){var s=function(c){var l=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return c.replace(l,"$1")},a=function(c){var l=/^"(.*)"$/,u=/^'(.*)'$/;return l.test(c)?c.replace(l,"$1"):u.test(c)?c.replace(u,"$1"):c};o.extractValue=function(c){return a(s(c))}},{}]},{},[2])(2)})});var EI=F(Ci=>{"use strict";var xt=Jo(),ns=Za(),Ya=dI(),Qa=pI(),gI=function(t,e,n){t.style.setProperty(e,n,t.style.getPropertyPriority(e))},mI=function(t){return t.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})},yI=function(t){var e=[];return t.forEach(function(n){n.style.getPropertyValue("background-image")?e.push({property:"background-image",value:n.style.getPropertyValue("background-image"),rule:n}):n.style.getPropertyValue("background")&&e.push({property:"background",value:n.style.getPropertyValue("background"),rule:n})}),e},vI=function(t){return t.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})},II=function(t){return t.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})},wI=function(t){var e=[];return t.forEach(function(n,r){n.url&&!xt.isDataUri(n.url)&&e.push(r)}),e},bI=function(t){var e=[];return t.forEach(function(n,r){n.url&&!xt.isDataUri(n.url)&&e.push(r)}),e};Ci.adjustPathsOfCssResources=function(t,e,n){var r=mI(e),i=yI(r),o=!1;return i.forEach(function(s){var a=Ya.parse(s.value),c=wI(a),l;c.length>0&&(c.forEach(function(u){var f=a[u].url,d=xt.joinUrl(t,f);a[u].url=d}),l=Ya.serialize(a),gI(s.rule,s.property,l),o=!0)}),vI(e).forEach(function(s){var a=s.style.getPropertyValue("src"),c,l;try{c=Qa.parse(a)}catch{return}l=bI(c),l.length>0&&(l.forEach(function(u){var f=c[u].url,d=xt.joinUrl(t,f);c[u].url=d}),ns.changeFontFaceRuleSrc(e,s,Qa.serialize(c,n),n),o=!0)}),II(e).forEach(function(s){var a=s.href,c=xt.joinUrl(t,a);ns.exchangeRule(e,s,"@import url("+c+");",n),o=!0}),o};var hI=function(t,e,n){var r=t.indexOf(e);t.splice(r,1),n.forEach(function(i,o){t.splice(r+o,0,i)})},oM=function(t,e,n,r){var i=e.href,o;return i=ns.unquoteString(i),o=xt.joinUrl(r.baseUrl,i),n.indexOf(o)>=0?(hI(t,e,[]),Promise.resolve([])):(n.push(o),xt.ajax(i,r).then(function(s){var a=ns.rulesForCssText(s,r);return Ci.loadCSSImportsForRules(a,n,r).then(function(c){return Ci.adjustPathsOfCssResources(i,a,r),hI(t,e,a),c.errors})},function(s){throw{resourceType:"stylesheet",url:s.url,msg:"Unable to load stylesheet "+s.url}}))};Ci.loadCSSImportsForRules=function(t,e,n){var r=II(t),i=[],o=!1;return Promise.all(r.map(function(s){return oM(t,s,e,n).then(function(a){i=i.concat(a),o=!0},function(a){i.push(a)})})).then(function(){return{hasChanges:o,errors:i}})};var sM=function(t,e){var n=Ya.parse(t),r=wI(n),i=!1;return xt.collectAndReportErrors(r.map(function(o){var s=n[o].url;return xt.getDataURIForImageURL(s,e).then(function(a){n[o].url=a,i=!0},function(a){throw{resourceType:"backgroundImage",url:a.url,msg:"Unable to load background-image "+a.url}})})).then(function(o){return{backgroundValue:Ya.serialize(n),hasChanges:i,errors:o}})},aM=function(t,e){var n=mI(t),r=yI(n),i=[],o=!1;return Promise.all(r.map(function(s){return sM(s.value,e).then(function(a){a.hasChanges&&(gI(s.rule,s.property,a.backgroundValue),o=!0),i=i.concat(a.errors)})})).then(function(){return{hasChanges:o,errors:i}})},lM=function(t,e){var n=!1,r,i;try{r=Qa.parse(t)}catch{r=[]}return i=bI(r),xt.collectAndReportErrors(i.map(function(o){var s=r[o],a=s.format||"woff";return xt.binaryAjax(s.url,e).then(function(c){var l=btoa(c);s.url="data:font/"+a+";base64,"+l,n=!0},function(c){throw{resourceType:"fontFace",url:c.url,msg:"Unable to load font-face "+c.url}})})).then(function(o){return{srcDeclarationValue:Qa.serialize(r),hasChanges:n,errors:o}})},cM=function(t,e){var n=vI(t),r=[],i=!1;return Promise.all(n.map(function(o){var s=o.style.getPropertyValue("src");return lM(s,e).then(function(a){a.hasChanges&&(ns.changeFontFaceRuleSrc(t,o,a.srcDeclarationValue,e),i=!0),r=r.concat(a.errors)})})).then(function(){return{hasChanges:i,errors:r}})};Ci.loadAndInlineCSSResourcesForRules=function(t,e){var n=!1,r=[];return Promise.all([aM,cM].map(function(i){return i(t,e).then(function(o){n=n||o.hasChanges,r=r.concat(o.errors)})})).then(function(){return{hasChanges:n,errors:r}})}});var TI=F(Bt=>{"use strict";var en=Jo(),uM=lI(),dM=uI(),rs=EI(),Ka=Za(),fM=function(t){return en.joinUrl(t,".")},pM=function(t){var e=t.map(function(n,r){return r===t.length-1&&(n={baseUrl:fM(n.baseUrl)}),JSON.stringify(n)});return e},CI=function(t,e){return e.cache!==!1&&e.cache!=="none"&&e.cacheBucket?en.memoize(t,pM,e.cacheBucket):t},hM=function(t,e,n){var r=Ka.rulesForCssText(t,n);return rs.loadCSSImportsForRules(r,e,n).then(function(i){return rs.loadAndInlineCSSResourcesForRules(r,n).then(function(o){var s=i.errors.concat(o.errors),a=i.hasChanges||o.hasChanges;return a&&(t=Ka.cssRulesToText(r)),{hasChanges:a,content:t,errors:s}})})},gM=function(t,e,n){var r=t.textContent,i=CI(hM,e);return i(r,n,e).then(function(o){return o.hasChanges&&(t.childNodes[0].nodeValue=o.content),en.cloneArray(o.errors)})},mM=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,function(n){return!n.attributes.type||n.attributes.type.value==="text/css"})};Bt.loadAndInlineStyles=function(t,e){var n=mM(t),r=[],i=[],o;return o=en.clone(e),o.baseUrl=o.baseUrl||en.getDocumentBaseUrl(t),Promise.all(n.map(function(s){return gM(s,o,i).then(function(a){r=r.concat(a)})})).then(function(){return r})};var yM=function(t,e){var n=t.parentNode,r;e=e.trim(),e&&(r=t.ownerDocument.createElement("style"),r.type="text/css",r.appendChild(t.ownerDocument.createTextNode(e)),n.insertBefore(r,t)),n.removeChild(t)},vM=function(t,e){return en.ajax(t,e).then(function(n){var r=Ka.rulesForCssText(n,e);return{content:n,cssRules:r}}).then(function(n){var r=rs.adjustPathsOfCssResources(t,n.cssRules,e);return{content:n.content,cssRules:n.cssRules,hasChanges:r}}).then(function(n){return rs.loadCSSImportsForRules(n.cssRules,[],e).then(function(r){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||r.hasChanges,errors:r.errors}})}).then(function(n){return rs.loadAndInlineCSSResourcesForRules(n.cssRules,e).then(function(r){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||r.hasChanges,errors:n.errors.concat(r.errors)}})}).then(function(n){var r=n.content;return n.hasChanges&&(r=Ka.cssRulesToText(n.cssRules)),{content:r,errors:n.errors}})},IM=function(t,e){var n=t.attributes.href.value,r=en.getDocumentBaseUrl(t.ownerDocument),i=en.clone(e);!i.baseUrl&&r&&(i.baseUrl=r);var o=CI(vM,e);return o(n,i).then(function(s){return{content:s.content,errors:en.cloneArray(s.errors)}})},wM=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,function(n){return n.attributes.rel&&n.attributes.rel.value==="stylesheet"&&(!n.attributes.type||n.attributes.type.value==="text/css")})};Bt.loadAndInlineCssLinks=function(t,e){var n=wM(t),r=[];return Promise.all(n.map(function(i){return IM(i,e).then(function(o){yM(i,o.content+`
`),r=r.concat(o.errors)},function(o){r.push({resourceType:"stylesheet",url:o.url,msg:"Unable to load stylesheet "+o.url})})})).then(function(){return r})};Bt.loadAndInlineImages=uM.inline;Bt.loadAndInlineScript=dM.inline;Bt.inlineReferences=function(t,e){var n=[],r=[Bt.loadAndInlineImages,Bt.loadAndInlineStyles,Bt.loadAndInlineCssLinks];return e.inlineScripts!==!1&&r.push(Bt.loadAndInlineScript),Promise.all(r.map(function(i){return i(t,e).then(function(o){n=n.concat(o)})})).then(function(){return n})}});var _I=F((xI,Xa)=>{"use strict";(function(t,e){t===void 0&&window!==void 0&&(t=window),typeof define=="function"&&define.amd?define(["url","xmlserializer","sane-domparser-error","inlineresources"],function(n,r,i,o){return t.rasterizeHTML=e(n,r,i,o)}):typeof Xa=="object"&&Xa.exports?Xa.exports=e($d(),nI(),oI(),TI()):t.rasterizeHTML=e(t.url,t.xmlserializer,t.sanedomparsererror,t.inlineresources)})(xI,function(t,e,n,r){var i=(function(p){"use strict";var h={},C=[];h.joinUrl=function(m,g){return m?p.resolve(m,g):g},h.getConstantUniqueIdFor=function(m){return C.indexOf(m)<0&&C.push(m),C.indexOf(m)},h.clone=function(m){var g={},v;for(v in m)m.hasOwnProperty(v)&&(g[v]=m[v]);return g};var I=function(m){return typeof m=="object"&&m!==null},b=function(m){return I(m)&&Object.prototype.toString.apply(m).match(/\[object (Canvas|HTMLCanvasElement|OffscreenCanvas)\]/i)};return h.parseOptionalParameters=function(m){var g={canvas:null,options:{}};return m[0]==null||b(m[0])?(g.canvas=m[0]||null,g.options=h.clone(m[1])):g.options=h.clone(m[0]),g},h})(t),o=(function(p){"use strict";var h={},C=function(I,b,m){var g=I[b];return I[b]=function(){var v=Array.prototype.slice.call(arguments);return m.apply(this,[v,g])},g};return h.baseUrlRespectingXhr=function(I,b){var m=function(){var g=new I;return C(g,"open",function(v,M){var _=v.shift(),w=v.shift(),S=p.joinUrl(b,w);return M.apply(this,[_,S].concat(v))}),g};return m},h.finishNotifyingXhr=function(I){var b=0,m=0,g=!1,v,M=new Promise(function(w){v=function(){var S=b-m;S<=0&&g&&w({totalCount:b})}}),_=function(){var w=new I;return C(w,"send",function(S,E){return b+=1,E.apply(this,arguments)}),w.addEventListener("load",function(){m+=1,v()}),w};return _.waitForRequestsToFinish=function(){return g=!0,v(),M},_},h})(i),s=(function(){"use strict";var p={},h=function(_){return Array.prototype.slice.call(_)};p.addClassName=function(_,w){_.className+=" "+w},p.addClassNameRecursively=function(_,w){p.addClassName(_,w),_.parentNode!==_.ownerDocument&&p.addClassNameRecursively(_.parentNode,w)};var C=function(_,w){var S=_.parentStyleSheet,E=h(S.cssRules).indexOf(_);S.insertRule(w,E+1),S.deleteRule(E)},I=function(_,w){var S=_.cssText.replace(/^[^\{]+/,""),E=w+" "+S;C(_,E)},b=function(_){return h(_).reduce(function(w,S){return w+S.cssText},"")},m=function(_){_.textContent=b(_.sheet.cssRules)},g=function(_){var w=document.implementation.createHTMLDocument(""),S=document.createElement("style");S.textContent=_.textContent,w.body.appendChild(S),_.sheet=S.sheet},v=function(_){return"((?:^|[^.#:\\w])|(?=\\W))("+_.join("|")+")(?=\\W|$)"},M=function(_,w,S){var E=v(w);h(_.querySelectorAll("style")).forEach(function(x){typeof x.sheet>"u"&&g(x);var N=h(x.sheet.cssRules).filter(function($){return $.selectorText&&new RegExp(E,"i").test($.selectorText)});N.length&&(N.forEach(function($){var H=$.selectorText.replace(new RegExp(E,"gi"),function(Z,de,R){return de+S(R)});H!==$.selectorText&&I($,H)}),m(x))})};return p.rewriteCssSelectorWith=function(_,w,S){M(_,[w],function(){return S})},p.lowercaseCssTypeSelectors=function(_,w){M(_,w,function(S){return S.toLowerCase()})},p.findHtmlOnlyNodeNames=function(_){var w=_.ownerDocument.createTreeWalker(_,NodeFilter.SHOW_ELEMENT),S={},E={},x;do x=w.currentNode.tagName.toLowerCase(),w.currentNode.namespaceURI==="http://www.w3.org/1999/xhtml"?S[x]=!0:E[x]=!0;while(w.nextNode());return Object.keys(S).filter(function(N){return!E[N]})},p})(),a=(function(p){"use strict";var h={},C=function(b){return Array.prototype.slice.call(b)},I={active:!0,hover:!0,focus:!1,target:!1};return h.fakeUserAction=function(b,m,g){var v=b.querySelector(m),M=":"+g,_="rasterizehtml"+g;v&&(I[g]?p.addClassNameRecursively(v,_):p.addClassName(v,_),p.rewriteCssSelectorWith(b,M,"."+_))},h.persistInputValues=function(b){var m=b.querySelectorAll("input"),g=b.querySelectorAll("textarea"),v=function(M){return M.type==="checkbox"||M.type==="radio"};C(m).filter(v).forEach(function(M){M.checked?M.setAttribute("checked",""):M.removeAttribute("checked")}),C(m).filter(function(M){return!v(M)}).forEach(function(M){M.setAttribute("value",M.value)}),C(g).forEach(function(M){M.textContent=M.value})},h.rewriteTagNameSelectorsToLowerCase=function(b){p.lowercaseCssTypeSelectors(b,p.findHtmlOnlyNodeNames(b))},h})(s),c=(function(p,h,C,I){"use strict";var b={},m=function(R,L,A,P){var O=R.createElement(L);return O.style.visibility="hidden",O.style.width=A+"px",O.style.height=P+"px",O.style.position="absolute",O.style.top=-1e4-P+"px",O.style.left=-1e4-A+"px",R.getElementsByTagName("body")[0].appendChild(O),O},g=function(R){return R>0?new Promise(function(L){setTimeout(L,R)}):Promise.resolve()};b.executeJavascript=function(R,L){return new Promise(function(A){var P=m(I.document,"iframe",L.width,L.height),O=R.outerHTML,D=[],j=L.executeJsTimeout||0,G=function(){I.document.getElementsByTagName("body")[0].removeChild(P)},U=function(){var De=P.contentDocument;A({document:De,errors:D,cleanUp:G})},ge=P.contentWindow.XMLHttpRequest,oe=h.finishNotifyingXhr(ge),we=h.baseUrlRespectingXhr(oe,L.baseUrl);P.onload=function(){g(j).then(oe.waitForRequestsToFinish).then(U)},P.contentDocument.open(),P.contentWindow.XMLHttpRequest=we,P.contentWindow.onerror=function(De){D.push({resourceType:"scriptExecution",msg:De})},P.contentDocument.write("<!DOCTYPE html>"),P.contentDocument.write(O),P.contentDocument.close()})};var v=function(R,L,A){var P=R.createElement("iframe");return P.style.width=L+"px",P.style.height=A+"px",P.style.visibility="hidden",P.style.position="absolute",P.style.top=-1e4-A+"px",P.style.left=-1e4-L+"px",P.style.borderWidth=0,P.sandbox="allow-same-origin",P.scrolling="no",P},M=function(R,L,A){var P=Math.floor(R/A),O=Math.floor(L/A);return v(I.document,P,O)},_=function(R,L,A,P){return{width:Math.max(R.width*P,L),height:Math.max(R.height*P,A)}},w=function(R,L){var A=R.querySelector(L);if(A)return A;if(R.ownerDocument.querySelector(L)===R)return R;throw{message:"Clipping selector not found"}},S=function(R,L,A,P,O){var D=Math.max(R.scrollWidth,R.clientWidth),j=Math.max(R.scrollHeight,R.clientHeight),G,U,ge,oe,we,De,me,Me;return L?(De=w(R,L),me=De.getBoundingClientRect(),G=me.top,U=me.left,ge=me.width,oe=me.height):(G=0,U=0,ge=D,oe=j),Me=_({width:ge,height:oe},A,P,O),we=I.getComputedStyle(R.ownerDocument.documentElement).fontSize,{left:U,top:G,width:Me.width,height:Me.height,viewportWidth:D,viewportHeight:j,rootFontSize:we}},E=function(R,L){var A=R.tagName;return L.querySelector(A)},x=function(R){var L=R.tagName.toLowerCase();return L==="html"||L==="body"?R.outerHTML:'<body style="margin: 0;">'+R.outerHTML+"</body>"};b.calculateDocumentContentSize=function(R,L){return new Promise(function(A,P){var O=L.zoom||1,D;D=M(L.width,L.height,O),I.document.getElementsByTagName("body")[0].appendChild(D),D.onload=function(){var j=D.contentDocument,G;try{G=S(E(R,j),L.clip,L.width,L.height,O),A(G)}catch(U){P(U)}finally{I.document.getElementsByTagName("body")[0].removeChild(D)}},D.contentDocument.open(),D.contentDocument.write("<!DOCTYPE html>"),D.contentDocument.write(x(R)),D.contentDocument.close()})},b.parseHtmlFragment=function(R){var L=I.document.implementation.createHTMLDocument("");L.documentElement.innerHTML=R;var A=L.querySelector("body").firstChild;if(!A)throw"Invalid source";return A};var N=function(R,L){var A=/<html((?:\s+[^>]*)?)>/im.exec(L),P=I.document.implementation.createHTMLDocument(""),O,D,j,G;if(A)for(O="<div"+A[1]+"></div>",P.documentElement.innerHTML=O,j=P.querySelector("div"),D=0;D<j.attributes.length;D++)G=j.attributes[D],R.documentElement.setAttribute(G.name,G.value)};b.parseHTML=function(R){var L=I.document.implementation.createHTMLDocument("");return L.documentElement.innerHTML=R,N(L,R),L};var $=function(R){try{return C.failOnParseError(R)}catch(L){throw{message:"Invalid source",originalError:L}}};b.validateXHTML=function(R){var L=new DOMParser,A=L.parseFromString(R,"application/xml");$(A)};var H=null,Z=function(R,L){return L==="none"||L==="repeated"?((H===null||L!=="repeated")&&(H=Date.now()),R+"?_="+H):R},de=function(R,L){return new Promise(function(A,P){var O=new window.XMLHttpRequest,D=p.joinUrl(L.baseUrl,R),j=Z(D,L.cache),G=function(U){P({message:"Unable to load page",originalError:U})};O.addEventListener("load",function(){O.status===200||O.status===0?A(O.responseXML):G(O.statusText)},!1),O.addEventListener("error",function(U){G(U)},!1);try{O.open("GET",j,!0),O.responseType="document",O.send(null)}catch(U){G(U)}})};return b.loadDocument=function(R,L){return de(R,L).then(function(A){return $(A)})},b})(i,o,n,window),l=(function(){"use strict";var p={},h=function(w,S){return S?URL.createObjectURL(new Blob([w],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(w)},C=function(w){w instanceof Blob&&URL.revokeObjectURL(w)},I='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',b=function(w){return new Promise(function(S,E){var x=document.createElement("canvas"),N=new Image;N.onload=function(){var $=x.getContext("2d");try{$.drawImage(N,0,0),x.toDataURL("image/png"),S(!0)}catch{S(!1)}},N.onerror=E,N.src=w})},m=function(){var w=h(I,!0);return b(w).then(function(S){return C(w),S?!1:b(h(I,!1)).then(function(E){return E})},function(){return!1})},g=function(){return new Promise(function(w,S){m().then(function(E){w(!E)},function(){S()})})},v,M=function(){return v===void 0&&(v=g()),v},_=function(w){return M().then(function(S){return h(w,S)})};return p.renderSvg=function(w){return new Promise(function(S,E){var x,N,$=function(){N.onload=null,N.onerror=null},H=function(){x&&C(x)};N=new Image,N.onload=function(){$(),H(),S(N)},N.onerror=function(){H(),E()},_(w).then(function(Z){x=Z,N.src=x},E)})},p})(window),u=(function(p,h,C,I){"use strict";var b={},m=function(E,x){var N=x||1,$={width:E.width,height:E.height,"font-size":E.rootFontSize};return N!==1&&($.style="transform:scale("+N+"); transform-origin: 0 0;"),$},g=function(E){var x,N,$,H;x=Math.round(E.viewportWidth),N=Math.round(E.viewportHeight),$=-E.left,H=-E.top;var Z={x:$,y:H,width:x,height:N};return Z},v=function(E){var x=E.style||"";E.style=x+"float: left;"},M=function(E){E.externalResourcesRequired=!0},_=function(){return'<style scoped="">html::-webkit-scrollbar { display: none; }</style>'},w=function(E){var x=Object.keys(E);return x.length?" "+x.map(function(N){return N+'="'+E[N]+'"'}).join(" "):""},S=function(E,x,N){var $=I.serializeToString(E);h.validateXHTML($);var H=g(x);return v(H),M(H),'<svg xmlns="http://www.w3.org/2000/svg"'+w(m(x,N))+">"+_()+"<foreignObject"+w(H)+">"+$+"</foreignObject></svg>"};return b.getSvgForDocument=function(E,x,N){return C.rewriteTagNameSelectorsToLowerCase(E),S(E,x,N)},b.drawDocumentAsSvg=function(E,x){return["hover","active","focus","target"].forEach(function(N){x[N]&&C.fakeUserAction(E,x[N],N)}),h.calculateDocumentContentSize(E,x).then(function(N){return b.getSvgForDocument(E,N,x.zoom)})},b})(i,c,a,e),f=(function(p,h,C,I,b,m){"use strict";var g={},v=function(E){return{message:"Error rendering page",originalError:E}},M=function(E){return b.renderSvg(E).then(function(x){return{image:x,svg:E}},function(x){throw v(x)})},_=function(E,x){try{x.getContext("2d").drawImage(E,0,0)}catch(N){throw v(N)}},w=function(E,x,N){return I.drawDocumentAsSvg(E,N).then(M).then(function($){return x&&_($.image,x),$})},S=function(E,x){return h.executeJavascript(E,x).then(function(N){var $=N.document;return C.persistInputValues($),{document:$,errors:N.errors,cleanUp:N.cleanUp}})};return g.rasterize=function(E,x,N){var $;return $=p.clone(N),$.inlineScripts=N.executeJs===!0,m.inlineReferences(E,$).then(function(H){return N.executeJs?S(E,N).then(function(Z){return{element:Z.document.documentElement,errors:H.concat(Z.errors),cleanUp:Z.cleanUp}}):{element:E,errors:H,cleanUp:function(){}}}).then(function(H){return w(H.element,x,N).then(function(Z){return H.cleanUp(),{image:Z.image,svg:Z.svg,errors:H.errors}})})},g})(i,c,a,u,l,r),d=(function(p,h,C){"use strict";var I={},b=function(_,w){var S=300,E=200,x=_?_.width:S,N=_?_.height:E,$=w.width!==void 0?w.width:x,H=w.height!==void 0?w.height:N;return{width:$,height:H}},m=function(_){var w=b(_.canvas,_.options),S;return S=p.clone(_.options),S.width=w.width,S.height=w.height,S};I.drawDocument=function(){var _=arguments[0],w=Array.prototype.slice.call(arguments,1),S=p.parseOptionalParameters(w),E=_.documentElement?_.documentElement:_;return C.rasterize(E,S.canvas,m(S))};var g=function(_,w,S){var E=h.parseHTML(_);return I.drawDocument(E,w,S)};I.drawHTML=function(){var _=arguments[0],w=Array.prototype.slice.call(arguments,1),S=p.parseOptionalParameters(w);return g(_,S.canvas,S.options)};var v=function(_,w,S){var E=document.implementation.createHTMLDocument("");E.replaceChild(_.documentElement,E.documentElement);var x=S?p.clone(S):{};return S.baseUrl||(x.baseUrl=w),{document:E,options:x}},M=function(_,w,S){return h.loadDocument(_,S).then(function(E){var x=v(E,_,S);return I.drawDocument(x.document,w,x.options)})};return I.drawURL=function(){var _=arguments[0],w=Array.prototype.slice.call(arguments,1),S=p.parseOptionalParameters(w);return M(_,S.canvas,S.options)},I})(i,c,f);return d})});var ll=null;var Jd=1;var Tr=Symbol("SIGNAL");function K(t){let e=ll;return ll=t,e}function ls(){return ll}var ul={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ef(t){if(!(us(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Jd)){if(!t.producerMustRecompute(t)&&!fl(t)){cl(t);return}t.producerRecomputeValue(t),cl(t)}}function cl(t){t.dirty=!1,t.lastCleanEpoch=Jd}function dl(t){return t&&tf(t),K(t)}function tf(t){t.producersTail=void 0,t.recomputing=!0}function nf(t,e){K(e),t&&rf(t)}function rf(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(us(t))do n=pl(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function fl(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ef(n),r!==n.version))return!0}return!1}function cs(t){if(us(t)){let e=t.producers;for(;e!==void 0;)e=pl(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function pl(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!us(e)){let o=e.producers;for(;o!==void 0;)o=pl(o)}return n}function us(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function GI(){throw new Error}var qI=GI;function hl(t){qI=t}function Be(t){return typeof t=="function"}function ds(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fs=ds(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ki(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){e=o instanceof fs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{of(o)}catch(s){e=e??[],s instanceof fs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)of(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ki(n,e)}remove(e){let{_finalizers:n}=this;n&&ki(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var gl=Ne.EMPTY;function ps(t){return t instanceof Ne||t&&"closed"in t&&Be(t.remove)&&Be(t.add)&&Be(t.unsubscribe)}function of(t){Be(t)?t():t.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xr={setTimeout(t,e,...n){let{delegate:r}=xr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function sf(t){xr.setTimeout(()=>{let{onUnhandledError:e}=pt;if(e)e(t);else throw t})}function ml(){}var af=yl("C",void 0,void 0);function lf(t){return yl("E",void 0,t)}function cf(t){return yl("N",t,void 0)}function yl(t,e,n){return{kind:t,value:e,error:n}}var kn=null;function _r(t){if(pt.useDeprecatedSynchronousErrorHandling){let e=!kn;if(e&&(kn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kn;if(kn=null,n)throw r}}else t()}function uf(t){pt.useDeprecatedSynchronousErrorHandling&&kn&&(kn.errorThrown=!0,kn.error=t)}var Pn=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ps(e)&&e.add(this)):this.destination=QI}static create(e,n,r){return new Sr(e,n,r)}next(e){this.isStopped?Il(cf(e),this):this._next(e)}error(e){this.isStopped?Il(lf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Il(af,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZI=Function.prototype.bind;function vl(t,e){return ZI.call(t,e)}var wl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hs(r)}else hs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hs(n)}}},Sr=class extends Pn{constructor(e,n,r){super();let i;if(Be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vl(e.next,o),error:e.error&&vl(e.error,o),complete:e.complete&&vl(e.complete,o)}):i=e}this.destination=new wl(i)}};function hs(t){pt.useDeprecatedSynchronousErrorHandling?uf(t):sf(t)}function YI(t){throw t}function Il(t,e){let{onStoppedNotification:n}=pt;n&&xr.setTimeout(()=>n(t,e))}var QI={closed:!0,next:ml,error:YI,complete:ml};var df=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ff(t){return t}function pf(t){return t.length===0?ff:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Dr=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XI(n)?n:new Sr(n,r,i);return _r(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hf(r),new r((i,o)=>{let s=new Sr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[df](){return this}pipe(...n){return pf(n)(this)}toPromise(n){return n=hf(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function hf(t){var e;return(e=t??pt.Promise)!==null&&e!==void 0?e:Promise}function KI(t){return t&&Be(t.next)&&Be(t.error)&&Be(t.complete)}function XI(t){return t&&t instanceof Pn||KI(t)&&ps(t)}function JI(t){return Be(t?.lift)}function gf(t){return e=>{if(JI(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mf(t,e,n,r,i){return new bl(t,e,n,r,i)}var bl=class extends Pn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var yf=ds(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ut=(()=>{class t extends Dr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yf}next(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gl:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,ki(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Dr;return n.source=this,n}}return t.create=(e,n)=>new gs(e,n),t})(),gs=class extends Ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gl}};var Pi=class extends Ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function El(t,e){return gf((n,r)=>{let i=0;n.subscribe(mf(r,o=>{r.next(t.call(e,o,i++))}))})}var Cl;function ms(){return Cl}function St(t){let e=Cl;return Cl=t,e}var vf=Symbol("NotFound");function Mr(t){return t===vf||t?.name==="\u0275NotFound"}var J=class extends Error{code;constructor(e,n){super(Hl(e,n)),this.code=e}};function ow(t){return`NG0${Math.abs(t)}`}function Hl(t,e){return`${ow(t)}${e?": "+e:""}`}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("")}function On(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(On).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Vl(t,e){return t?e?`${t} ${e}`:t:e||""}var sw=le({__forward_ref__:le});function jl(t){return t.__forward_ref__=jl,t.toString=function(){return On(this())},t}function Je(t){return Tf(t)?t():t}function Tf(t){return typeof t=="function"&&t.hasOwnProperty(sw)&&t.__forward_ref__===jl}function ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bl(t){return aw(t,Ul)}function aw(t,e){return t.hasOwnProperty(e)&&t[e]||null}function lw(t){let e=t?.[Ul]??null;return e||null}function xl(t){return t&&t.hasOwnProperty(_l)?t[_l]:null}var Ul=le({\u0275prov:le}),_l=le({\u0275inj:le}),ne=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ve({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xf(t){return t&&!!t.\u0275providers}var _f=le({\u0275cmp:le}),Sf=le({\u0275dir:le}),Df=le({\u0275pipe:le});var Sl=le({\u0275fac:le}),Rr=le({__NG_ELEMENT_ID__:le}),If=le({__NG_ENV_ID__:le});function Hn(t){return zl(t,"@Component"),t[_f]||null}function Wl(t){return zl(t,"@Directive"),t[Sf]||null}function Mf(t){return zl(t,"@Pipe"),t[Df]||null}function zl(t,e){if(t==null)throw new J(-919,!1)}function Nf(t){return typeof t=="string"?t:t==null?"":String(t)}function Af(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nf(t)}var kf=le({ngErrorCode:le}),cw=le({ngErrorMessage:le}),uw=le({ngTokenPath:le});function Gl(t,e){return Pf("",-200,e)}function Es(t,e){throw new J(-201,!1)}function Pf(t,e,n){let r=new J(e,t);return r[kf]=e,r[cw]=t,n&&(r[uw]=n),r}function dw(t){return t[kf]}var Dl;function Rf(){return Dl}function ze(t){let e=Dl;return Dl=t,e}function ql(t,e,n){let r=Bl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Es(t,"")}var fw={},Rn=fw,pw="__NG_DI_FLAG__",Ml=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Ar(n)||0;try{return this.injector.get(e,r&8?null:Rn,r)}catch(i){if(Mr(i))return i;throw i}}};function hw(t,e=0){let n=ms();if(n===void 0)throw new J(-203,!1);if(n===null)return ql(t,void 0,e);{let r=gw(e),i=n.retrieve(t,r);if(Mr(i)){if(r.optional)return null;throw i}return i}}function ce(t,e=0){return(Rf()||hw)(Je(t),e)}function X(t,e){return ce(t,Ar(e))}function Ar(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gw(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Nl(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=mw(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ce(i,o))}else e.push(ce(r))}return e}function mw(t){return t[pw]}function kr(t,e){let n=t.hasOwnProperty(Sl);return n?t[Sl]:null}function Of(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Lf(t){return t.flat(Number.POSITIVE_INFINITY)}function Cs(t,e){t.forEach(n=>Array.isArray(n)?Cs(n,e):e(n))}function Zl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Vn={},Ln=[],jn=new ne(""),Ff=new ne("",-1),Yl=new ne(""),Oi=class{get(e,n=Rn){if(n===Rn){let i=Pf("",-201);throw i.name="\u0275NotFound",i}return n}};function Ql(t){return{\u0275providers:t}}function yw(...t){return{\u0275providers:Kl(!0,t),\u0275fromNgModule:!0}}function Kl(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cs(e,s=>{let a=s;vs(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$f(i,o),n}function $f(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Xl(i,o=>{e(o,r)})}}function vs(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,o=xl(t),s=!o&&Hn(t);if(!o&&!s){let c=t.ngModule;if(o=xl(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)vs(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cs(o.imports,u=>{vs(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&$f(l,e)}if(!a){let l=kr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ln},i),e({provide:Yl,useValue:i,multi:!0},i),e({provide:jn,useValue:()=>ce(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Xl(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Xl(t,e){for(let n of t)xf(n)&&(n=n.\u0275providers),Array.isArray(n)?Xl(n,e):e(n)}var vw=le({provide:String,useValue:le});function Hf(t){return t!==null&&typeof t=="object"&&vw in t}function Iw(t){return!!(t&&t.useExisting)}function ww(t){return!!(t&&t.useFactory)}function Is(t){return typeof t=="function"}var $i=new ne(""),ys={},wf={},Tl;function Hi(){return Tl===void 0&&(Tl=new Oi),Tl}var ht=class{},Pr=class extends ht{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,kl(e,s=>this.processProvider(s)),this.records.set(Ff,Nr(void 0,this)),i.has("environment")&&this.records.set(ht,Nr(void 0,this));let o=this.records.get($i);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yl,Ln,{self:!0}))}retrieve(e,n){let r=Ar(n)||0;try{return this.get(e,Rn,r)}catch(i){if(Mr(i))return i;throw i}}destroy(){Ri(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Ri(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ri(this);let n=St(this),r=ze(void 0),i;try{return e()}finally{St(n),ze(r)}}get(e,n=Rn,r){if(Ri(this),e.hasOwnProperty(If))return e[If](this);let i=Ar(r),o,s=St(this),a=ze(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=xw(e)&&Bl(e);u&&this.injectableDefInScope(u)?l=Nr(Al(e),ys):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Hi():this.parent;return n=i&8&&n===Rn?null:n,c.get(e,n)}catch(c){let l=dw(c);throw l===-200||l===-201?new J(l,null):c}finally{ze(a),St(s)}}resolveInjectorInitializers(){let e=K(null),n=St(this),r=ze(void 0),i;try{let o=this.get(jn,Ln,{self:!0});for(let s of o)s()}finally{St(n),ze(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(On(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let n=Is(e)?e:Je(e&&e.provide),r=Ew(e);if(!Is(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Nr(void 0,ys,!0),i.factory=()=>Nl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===wf)throw Gl(On(e));return n.value===ys&&(n.value=wf,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Tw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Al(t){let e=Bl(t),n=e!==null?e.factory:kr(t);if(n!==null)return n;if(t instanceof ne)throw new J(204,!1);if(t instanceof Function)return bw(t);throw new J(204,!1)}function bw(t){if(t.length>0)throw new J(204,!1);let n=lw(t);return n!==null?()=>n.factory(t):()=>new t}function Ew(t){if(Hf(t))return Nr(void 0,t.useValue);{let e=Vf(t);return Nr(e,ys)}}function Vf(t,e,n){let r;if(Is(t)){let i=Je(t);return kr(i)||Al(i)}else if(Hf(t))r=()=>Je(t.useValue);else if(ww(t))r=()=>t.useFactory(...Nl(t.deps||[]));else if(Iw(t))r=(i,o)=>ce(Je(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Je(t&&(t.useClass||t.provide));if(Cw(t))r=()=>new i(...Nl(t.deps));else return kr(i)||Al(i)}return r}function Ri(t){if(t.destroyed)throw new J(205,!1)}function Nr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cw(t){return!!t.deps}function Tw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function xw(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function kl(t,e){for(let n of t)Array.isArray(n)?kl(n,e):n&&xf(n)?kl(n.\u0275providers,e):e(n)}function Ts(t,e){let n;t instanceof Pr?(Ri(t),n=t):n=new Ml(t);let r,i=St(n),o=ze(void 0);try{return e()}finally{St(i),ze(o)}}function jf(){return Rf()!==void 0||ms()!=null}var gt=0,z=1,W=2,Te=3,et=4,tt=5,Vi=6,ji=7,Ge=8,Bn=9,Gt=10,nt=11,Or=12,Jl=13,Lr=14,mt=15,rn=16,Un=17,Dt=18,Bi=19,ec=20,Wt=21,xs=22,Ui=23,qe=24,_s=25,Wi=26,Mt=27,Bf=1;var on=7,zi=8,Wn=9,Fe=10;function qt(t){return Array.isArray(t)&&typeof t[Bf]=="object"}function yt(t){return Array.isArray(t)&&t[Bf]===!0}function tc(t){return(t.flags&4)!==0}function Gi(t){return t.componentOffset>-1}function Uf(t){return(t.flags&1)===1}function Fr(t){return!!t.template}function $r(t){return(t[W]&512)!==0}function zn(t){return(t[W]&256)===256}var Wf="svg",zf="math";function Nt(t){for(;Array.isArray(t);)t=t[gt];return t}function sn(t,e){return Nt(e[t.index])}function nc(t,e){return t.data[e]}function an(t,e){let n=e[t];return qt(n)?n:n[gt]}function Gf(t){return(t[W]&4)===4}function Ss(t){return(t[W]&128)===128}function qf(t){return yt(t[Te])}function qi(t,e){return e==null?null:t[e]}function rc(t){t[Un]=0}function ic(t){t[W]&1024||(t[W]|=1024,Ss(t)&&Yi(t))}function Zi(t){return!!(t[W]&9216||t[qe]?.dirty)}function Ds(t){t[Gt].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),Zi(t)&&Yi(t)}function Yi(t){t[Gt].changeDetectionScheduler?.notify(0);let e=nn(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Ss(e)));)e=nn(e)}function oc(t,e){if(zn(t))throw new J(911,!1);t[Wt]===null&&(t[Wt]=[]),t[Wt].push(e)}function Zf(t,e){if(t[Wt]===null)return;let n=t[Wt].indexOf(e);n!==-1&&t[Wt].splice(n,1)}function nn(t){let e=t[Te];return yt(e)?e[Te]:e}function Yf(t){return t[ji]??=[]}function Qf(t){return t.cleanup??=[]}function Kf(t,e,n,r){let i=Yf(e);i.push(n),t.firstCreatePass&&Qf(t).push(r,i.length-1)}var ue={lFrame:dp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pl=!1;function Xf(){return ue.lFrame.elementDepthCount}function Jf(){ue.lFrame.elementDepthCount++}function ep(){ue.lFrame.elementDepthCount--}function tp(){return ue.skipHydrationRootTNode!==null}function np(t){return ue.skipHydrationRootTNode===t}function rp(){ue.skipHydrationRootTNode=null}function rt(){return ue.lFrame.lView}function sc(){return ue.lFrame.tView}function ln(){let t=ac();for(;t!==null&&t.type===64;)t=t.parent;return t}function ac(){return ue.lFrame.currentTNode}function ip(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ms(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function lc(){return ue.lFrame.isParent}function op(){ue.lFrame.isParent=!1}function cc(){return Pl}function uc(t){let e=Pl;return Pl=t,e}function sp(t){return ue.lFrame.bindingIndex=t}function ap(){return ue.lFrame.inI18n}function lp(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ns(e)}function cp(){return ue.lFrame.currentDirectiveIndex}function Ns(t){ue.lFrame.currentDirectiveIndex=t}function dc(){return ue.lFrame.currentQueryIndex}function As(t){ue.lFrame.currentQueryIndex=t}function _w(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[tt]:null}function fc(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=_w(o),i===null||(o=o[Lr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=up();return r.currentTNode=e,r.lView=t,!0}function ks(t){let e=up(),n=t[z];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function up(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?dp(t):e}function dp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fp(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pc=fp;function Ps(){let t=fp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pp(){return ue.lFrame.selectedIndex}function cn(t){ue.lFrame.selectedIndex=t}function hp(){return ue.lFrame.currentNamespace}var gp=!0;function mp(){return gp}function yp(t){gp=t}function bf(t,e=null,n=null,r){let i=vp(t,e,n,r);return i.resolveInjectorInitializers(),i}function vp(t,e=null,n=null,r,i=new Set){let o=[n||Ln,yw(t)];return r=r||(typeof t=="object"?void 0:On(t)),new Pr(o,e||Hi(),r||null,i)}var Fn=class t{static THROW_IF_NOT_FOUND=Rn;static NULL=new Oi;static create(e,n){if(Array.isArray(e))return bf({name:""},n,e,"");{let r=e.name??"";return bf({name:r},e.parent,e.providers,r)}}static \u0275prov=ve({token:t,providedIn:"any",factory:()=>ce(Ff)});static __NG_ELEMENT_ID__=-1},vt=new ne(""),Rs=(()=>{class t{static __NG_ELEMENT_ID__=Sw;static __NG_ENV_ID__=n=>n}return t})(),Rl=class extends Rs{_lView;constructor(e){super(),this._lView=e}get destroyed(){return zn(this._lView)}onDestroy(e){let n=this._lView;return oc(n,e),()=>Zf(n,e)}};function Sw(){return new Rl(rt())}var hc=!1,Gn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Pi(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Dr(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ol=class extends Ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jf()&&(this.destroyRef=X(Rs,{optional:!0})??void 0,this.pendingTasks=X(Gn,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tn=Ol;function ws(...t){}function gc(t){let e,n;function r(){t=ws;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function mc(t){return queueMicrotask(()=>t()),()=>{t=ws}}var yc="isAngularZone",Li=yc+"_ID",Dw=0,be=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tn(!1);onMicrotaskEmpty=new tn(!1);onStable=new tn(!1);onError=new tn(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hc}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Aw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Mw,ws,ws);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Mw={};function vc(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){gc(()=>{t.callbackScheduled=!1,Ll(t),t.isCheckStableRunning=!0,vc(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ll(t)}function Aw(t){let e=()=>{Nw(t)},n=Dw++;t._inner=t._inner.fork({name:"angular",properties:{[yc]:!0,[Li]:n,[Li+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(kw(c))return r.invokeTask(o,s,a,c);try{return Ef(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Cf(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Ef(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Pw(c)&&e(),Cf(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ll(t),vc(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ll(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ef(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cf(t){t._nesting--,vc(t)}var bs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tn;onMicrotaskEmpty=new tn;onStable=new tn;onError=new tn;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function kw(t){return Ip(t,"__ignore_ng_zone__")}function Pw(t){return Ip(t,"__scheduler_tick__")}function Ip(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Hr=new ne("",{factory:()=>{let t=X(be),e=X(ht),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(zt),n.handleError(r))})}}}),wp={provide:jn,useValue:()=>{let t=X(zt,{optional:!0})},multi:!0};var $n=class{},Vr=new ne("",{factory:()=>!0});var Os=new ne("");var bp=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new Fl})}return t})(),Fl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},$l=class{[Tr];constructor(e){this[Tr]=e}destroy(){this[Tr].destroy()}};function zp(t){return{toString:t}.toString()}function Lw(t){return typeof t=="function"}function Gp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Vs=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Fw(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hw),$w}function $w(){let t=Zp(this),e=t?.current;if(e){let n=t.previous;if(n===Vn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Hw(t,e,n,r,i){let o=this.declaredInputs[r],s=Zp(t)||Vw(t,{previous:Vn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Vs(l&&l.currentValue,n,c===Vn),Gp(t,e,i,n)}var qp="__ngSimpleChanges__";function Zp(t){return t[qp]||null}function Vw(t,e){return t[qp]=e}var Ep=[];var fe=function(t,e=null,n){for(let r=0;r<Ep.length;r++){let i=Ep[r];i(t,e,n)}},se=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(se||{});function jw(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Fw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Bw(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ls(t,e,n){Yp(t,e,3,n)}function Fs(t,e,n,r){(t[W]&3)===n&&Yp(t,e,n,r)}function Ic(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function Yp(t,e,n,r){let i=r!==void 0?t[Un]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Un]+=65536),(a<o||o==-1)&&(Uw(t,n,e,c),t[Un]=(t[Un]&4294901760)+c+2),c++}function Cp(t,e){fe(se.LifecycleHookStart,t,e);let n=K(null);try{e.call(t)}finally{K(n),fe(se.LifecycleHookEnd,t,e)}}function Uw(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[W]>>14<t[Un]>>16&&(t[W]&3)===e&&(t[W]+=16384,Cp(a,o)):Cp(a,o)}var Br=-1,Xi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Ww(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];zw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function zw(t){return t.charCodeAt(0)===64}function jc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Tp(t,n,i,null,e[++r]):Tp(t,n,i,null,null))}}return t}function Tp(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Qp(t){return t!==Br}function js(t){return t&32767}function Gw(t){return t>>16}function Bs(t,e){let n=Gw(t),r=e;for(;n>0;)r=r[Lr],n--;return r}var Cc=!0;function xp(t){let e=Cc;return Cc=t,e}var qw=256,Kp=qw-1,Xp=5,Zw=0,At={};function Yw(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rr)&&(r=n[Rr]),r==null&&(r=n[Rr]=Zw++);let i=r&Kp,o=1<<i;e.data[t+(i>>Xp)]|=o}function Jp(t,e){let n=eh(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,wc(r.data,t),wc(e,null),wc(r.blueprint,null));let i=Bc(t,e),o=t.injectorIndex;if(Qp(i)){let s=js(i),a=Bs(i,e),c=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function wc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eh(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bc(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oh(i),r===null)return Br;if(n++,i=i[Lr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Br}function Qw(t,e,n){Yw(t,e,n)}function th(t,e,n){if(n&8||t!==void 0)return t;Es(e,"NodeInjector")}function nh(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Bn],o=ze(void 0);try{return i?i.get(e,r,n&8):ql(e,r,n&8)}finally{ze(o)}}return th(r,e,n)}function rh(t,e,n,r=0,i){if(t!==null){if(e[W]&2048&&!(r&2)){let s=eb(t,e,n,r,At);if(s!==At)return s}let o=ih(t,e,n,r,At);if(o!==At)return o}return nh(e,n,r,i)}function ih(t,e,n,r,i){let o=Xw(n);if(typeof o=="function"){if(!fc(e,t,r))return r&1?th(i,n,r):nh(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Es(n);else return s}finally{pc()}}else if(typeof o=="number"){let s=null,a=eh(t,e),c=Br,l=r&1?e[mt][tt]:null;for((a===-1||r&4)&&(c=a===-1?Bc(t,e):e[a+8],c===Br||!Sp(r,!1)?a=-1:(s=e[z],a=js(c),e=Bs(c,e)));a!==-1;){let u=e[z];if(_p(o,a,u.data)){let f=Kw(a,e,n,s,r,l);if(f!==At)return f}c=e[a+8],c!==Br&&Sp(r,e[z].data[a+8]===l)&&_p(o,a,e)?(s=u,a=js(c),e=Bs(c,e)):a=-1}}return i}function Kw(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],c=r==null?Gi(a)&&Cc:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=$s(a,s,n,c,l);return u!==null?Us(e,s,u,a,i):At}function $s(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,f=r?a:a+u,d=i?a+u:l;for(let p=f;p<d;p++){let h=s[p];if(p<c&&n===h||p>=c&&h.type===n)return p}if(i){let p=s[c];if(p&&Fr(p)&&p.type===n)return c}return null}function Us(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Xi){let a=o;if(a.resolving){let p=Af(s[n]);throw Gl(p)}let c=xp(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,f=a.injectImpl?ze(a.injectImpl):null,d=fc(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&jw(n,s[n],e)}finally{f!==null&&ze(f),xp(c),a.resolving=!1,pc()}}return o}function Xw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Rr)?t[Rr]:void 0;return typeof e=="number"?e>=0?e&Kp:Jw:e}function _p(t,e,n){let r=1<<t;return!!(n[e+(t>>Xp)]&r)}function Sp(t,e){return!(t&2)&&!(t&1&&e)}var qn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rh(this._tNode,this._lView,e,Ar(r),n)}};function Jw(){return new qn(ln(),rt())}function eb(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!$r(s);){let a=ih(o,s,n,r|2,At);if(a!==At)return a;let c=o.parent;if(!c){let l=s[ec];if(l){let u=l.get(n,At,r);if(u!==At)return u}c=oh(s),s=s[Lr]}o=c}return i}function oh(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[tt]:null}function tb(){return zr(ln(),rt())}function zr(t,e){return new io(sn(t,e))}var io=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=tb}return t})();function nb(t){return t instanceof io?t.nativeElement:t}function rb(){return this._results[Symbol.iterator]()}var Ws=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ut}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Lf(e);(this._changesDetected=!Of(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=rb};function sh(t){return(t.flags&128)===128}var Uc=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Uc||{}),ah=new Map,ib=0;function ob(){return ib++}function sb(t){ah.set(t[Bi],t)}function Tc(t){ah.delete(t[Bi])}var Dp="__ngContext__";function Ji(t,e){qt(e)?(t[Dp]=e[Bi],sb(e)):t[Dp]=e}function lh(t){return uh(t[Or])}function ch(t){return uh(t[et])}function uh(t){for(;t!==null&&!yt(t);)t=t[et];return t}var ab;function Wc(t){ab=t}var Ys=new ne("",{factory:()=>lb}),lb="ng";var Qs=new ne(""),oo=new ne("",{providedIn:"platform",factory:()=>"unknown"});var Ks=new ne("",{factory:()=>X(vt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dh=!1,fh=new ne("",{factory:()=>dh});function zc(t){return(t.flags&32)===32}var cb=()=>null;function ph(t,e,n=!1){return cb(t,e,n)}function hh(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];As(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function xc(t,e,n){As(0);let r=K(null);try{e(t,n)}finally{K(r)}}function ub(t,e,n){if(tc(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}var It=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(It||{});function gh(t,e,n){return t.createElement(e,n)}function zs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function mh(t,e,n){t.appendChild(e,n)}function Mp(t,e,n,r,i){r!==null?zs(t,e,n,r,i):mh(t,e,n)}function db(t,e,n,r){t.removeChild(null,e,n,r)}function fb(t,e,n){t.setAttribute(e,"style",n)}function pb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yh(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ww(t,e,r),i!==null&&pb(t,e,i),o!==null&&fb(t,e,o)}var hb="ng-template";function gb(t){return t.type===4&&t.value!==hb}function _c(t){return(t&1)===0}function Np(t,e){return t?":not("+e.trim()+")":e}function mb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_c(s)&&(e+=Np(o,i),i=""),r=s,o=o||!_c(r);n++}return i!==""&&(e+=Np(o,i)),e}function yb(t){return t.map(mb).join(",")}function vb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!_c(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Gc={};function vh(t,e,n,r,i,o,s,a,c,l,u){let f=Mt+r,d=f+i,p=Ib(f,d),h=typeof l=="function"?l():l;return p[z]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:u}}function Ib(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Gc);return n}function wb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qc(t,e,n,r,i,o,s,a,c,l,u){let f=e.blueprint.slice();return f[gt]=i,f[W]=r|4|128|8|64|1024,(l!==null||t&&t[W]&2048)&&(f[W]|=2048),rc(f),f[Te]=f[Lr]=t,f[Ge]=n,f[Gt]=s||t&&t[Gt],f[nt]=a||t&&t[nt],f[Bn]=c||t&&t[Bn]||null,f[tt]=o,f[Bi]=ob(),f[Vi]=u,f[ec]=l,f[mt]=e.type==2?t[mt]:f,f}function bb(t,e,n){let r=sn(e,t),i=wb(n),o=t[Gt].rendererFactory,s=bh(t,qc(t,i,null,Ih(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Ih(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function wh(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bh(t,e){return t[Or]?t[Jl][et]=e:t[Or]=e,t[Jl]=e,e}function Eb(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ls(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fs(e,o,0,n)}cn(n)}var Xs=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Xs||{});function Sc(t,e,n,r){let i=K(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Xs.SignalBased)!==0&&(c=e[o][Tr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Gp(e,c,o,r)}finally{K(i)}}var Yn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Yn||{}),Cb;function Zc(t,e){return Cb(t,e)}var Ur=new Set,Yc=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Yc||{}),so=new ne(""),Ap=new Set;function Qc(t){Ap.has(t)||(Ap.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Eh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ve({token:t,providedIn:"root",factory:()=>new t})}return t})();var Tb=new ne("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:X(ht)})});function Ch(t,e,n){let r=t.get(Tb);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function xb(t,e){for(let[n,r]of e)Ch(t,r.animateFns)}function kp(t,e,n,r){let i=t?.[Wi]?.enter;e!==null&&i&&i.has(n.index)&&xb(r,i)}function jr(t,e,n,r,i,o,s,a){if(i!=null){let c,l=!1;yt(i)?c=i:qt(i)&&(l=!0,i=i[gt]);let u=Nt(i);t===0&&r!==null?(kp(a,r,o,n),s==null?mh(e,r,u):zs(e,r,u,s||null,!0)):t===1&&r!==null?(kp(a,r,o,n),zs(e,r,u,s||null,!0)):t===2?Pp(a,o,n,f=>{db(e,u,l,f)}):t===3&&Pp(a,o,n,()=>{e.destroyNode(u)}),c!=null&&Hb(e,t,n,c,o,r,s)}}function _b(t,e){Th(t,e),e[gt]=null,e[tt]=null}function Sb(t,e,n,r,i,o){r[gt]=i,r[tt]=e,Js(t,r,n,1,i,o)}function Th(t,e){e[Gt].changeDetectionScheduler?.notify(9),Js(t,e,e[nt],2,null,null)}function Db(t){let e=t[Or];if(!e)return bc(t[z],t);for(;e;){let n=null;if(qt(e))n=e[Or];else{let r=e[Fe];r&&(n=r)}if(!n){for(;e&&!e[et]&&e!==t;)qt(e)&&bc(e[z],e),e=e[Te];e===null&&(e=t),qt(e)&&bc(e[z],e),n=e&&e[et]}e=n}}function Kc(t,e){let n=t[Wn],r=n.indexOf(e);n.splice(r,1)}function xh(t,e){if(zn(e))return;let n=e[nt];n.destroyNode&&Js(t,e,n,3,null,null),Db(e)}function bc(t,e){if(zn(e))return;let n=K(null);try{e[W]&=-129,e[W]|=256,e[qe]&&cs(e[qe]),Ab(t,e),Nb(t,e),e[z].type===1&&e[nt].destroy();let r=e[rn];if(r!==null&&yt(e[Te])){r!==e[Te]&&Kc(r,e);let i=e[Dt];i!==null&&i.detachView(t)}Tc(e)}finally{K(n)}}function Pp(t,e,n,r){let i=t?.[Wi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Ur.add(t),Ch(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Mb(t,r)}else t&&Ur.delete(t),r(!1)},i)}function Mb(t,e){let n=t[Wi]?.running;if(n){n.then(()=>{t[Wi].running=void 0,Ur.delete(t),e(!0)});return}e(!1)}function Nb(t,e){let n=t.cleanup,r=e[ji];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ji]=null);let i=e[Wt];if(i!==null){e[Wt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ui];if(o!==null){e[Ui]=null;for(let s of o)s.destroy()}}function Ab(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];fe(se.LifecycleHookStart,a,c);try{c.call(a)}finally{fe(se.LifecycleHookEnd,a,c)}}else{fe(se.LifecycleHookStart,i,o);try{o.call(i)}finally{fe(se.LifecycleHookEnd,i,o)}}}}}function kb(t,e,n){return Pb(t,e.parent,n)}function Pb(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[gt];if(Gi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===It.None||i===It.Emulated)return null}return sn(r,n)}function Rb(t,e,n){return Lb(t,e,n)}function Ob(t,e,n){return t.type&40?sn(t,n):null}var Lb=Ob,Rp;function Fb(t,e,n,r){let i=kb(t,r,e),o=e[nt],s=r.parent||e[tt],a=Rb(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Mp(o,i,n[c],a,!1);else Mp(o,i,n,a,!1);Rp!==void 0&&Rp(o,r,e,n,i)}function Qi(t,e){if(e!==null){let n=e.type;if(n&3)return sn(e,t);if(n&4)return Dc(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qi(t,r);{let i=t[e.index];return yt(i)?Dc(-1,i):Nt(i)}}else{if(n&128)return Qi(t,e.next);if(n&32)return Zc(e,t)()||Nt(t[e.index]);{let r=_h(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=nn(t[mt]);return Qi(i,r)}else return Qi(t,e.next)}}}return null}function _h(t,e){if(e!==null){let r=t[mt][tt],i=e.projection;return r.projection[i]}return null}function Dc(t,e){let n=Fe+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Qi(r,i)}return e[on]}function Xc(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Bn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&Ji(Nt(c),r),n.flags|=2),!zc(n))if(l&8)Xc(t,e,n.child,r,i,o,!1),jr(e,t,a,i,c,n,o,r);else if(l&32){let u=Zc(n,r),f;for(;f=u();)jr(e,t,a,i,f,n,o,r);jr(e,t,a,i,c,n,o,r)}else l&16?$b(t,e,r,n,i,o):jr(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Js(t,e,n,r,i,o){Xc(n,r,t.firstChild,e,i,o,!1)}function $b(t,e,n,r,i,o){let s=n[mt],c=s[tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];jr(e,t,n[Bn],i,u,r,o,n)}else{let l=c,u=s[Te];sh(r)&&(l.flags|=128),Xc(t,e,l,u,i,o,!0)}}function Hb(t,e,n,r,i,o,s){let a=r[on],c=Nt(r);a!==c&&jr(e,t,n,o,a,i,s);for(let l=Fe;l<r.length;l++){let u=r[l];Js(u[z],u,t,e,o,a)}}function Sh(t,e,n,r,i){let o=pp(),s=r&2;try{cn(-1),s&&e.length>Mt&&Eb(t,e,Mt,!1);let a=s?se.TemplateUpdateStart:se.TemplateCreateStart;fe(a,i,n),n(r,i)}finally{cn(o);let a=s?se.TemplateUpdateEnd:se.TemplateCreateEnd;fe(a,i,n)}}function Vb(t,e,n){zb(t,e,n),(n.flags&64)===64&&Gb(t,e,n)}function jb(t,e,n=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Bb(t,e,n,r){let o=r.get(fh,dh)||n===It.ShadowDom||n===It.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return Ub(s),s}function Ub(t){Wb(t)}var Wb=()=>null;function zb(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Gi(n)&&bb(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Jp(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Us(e,t,s,n);if(Ji(c,e),o!==null&&Zb(e,s-r,c,a,n,o),Fr(a)){let l=an(n.index,e);l[Ge]=Us(e,t,s,n)}}}function Gb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=cp();try{cn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ns(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qb(c,l)}}finally{cn(-1),Ns(s)}}function qb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Zb(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Sc(r,n,c,l)}}function Yb(t,e,n,r,i){let o=Mt+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,Ms(t,!0);let c=t.type===2;return c?(yh(e[nt],a,t),(Xf()===0||Uf(t))&&Ji(a,e),Jf()):Ji(a,e),mp()&&(!c||!zc(t))&&Fb(s,e,a,t),t}function Qb(t){let e=t;return lc()?op():(e=e.parent,Ms(e,!1)),e}function Kb(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],f=e.data[l];Sc(f,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];Sc(u,l,r,i),a=!0}return a}function Xb(t,e){let n=an(e,t),r=n[z];Jb(r,n);let i=n[gt];i!==null&&n[Vi]===null&&(n[Vi]=ph(i,n[Bn])),fe(se.ComponentStart);try{Jc(r,n,n[Ge])}finally{fe(se.ComponentEnd,n[Ge])}}function Jb(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jc(t,e,n){ks(e);try{let r=t.viewQuery;r!==null&&xc(1,r,n);let i=t.template;i!==null&&Sh(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dt]?.finishViewCreation(t),t.staticContentQueries&&hh(t,e),t.staticViewQueries&&xc(2,t.viewQuery,n);let o=t.components;o!==null&&eE(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Ps()}}function eE(t,e){for(let n=0;n<e.length;n++)Xb(t,e[n])}function tE(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[W]&4096?4096:16,c=qc(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[rn]=l;let u=t[Dt];return u!==null&&(c[Dt]=u.createEmbeddedView(o)),Jc(o,c,n),c}finally{K(i)}}function Op(t,e){return!e||e.firstChild===null||sh(t)}function eo(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nt(o)),yt(o)&&Dh(o,r);let s=n.type;if(s&8)eo(t,e,n.child,r);else if(s&32){let a=Zc(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=_h(e,n);if(Array.isArray(a))r.push(...a);else{let c=nn(e[mt]);eo(c[z],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Dh(t,e){for(let n=Fe;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&eo(r[z],r,i,e)}t[on]!==t[gt]&&e.push(t[on])}function Mh(t){if(t[_s]!==null){for(let e of t[_s])e.impl.addSequence(e);t[_s].length=0}}var Nh=[];function nE(t){return t[qe]??rE(t)}function rE(t){let e=Nh.pop()??Object.create(oE);return e.lView=t,e}function iE(t){t.lView[qe]!==t&&(t.lView=null,Nh.push(t))}var oE=ft(Pe({},ul),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Yi(t.lView)},consumerOnSignalRead(){this.lView[qe]=this}});function sE(t){let e=t[qe]??Object.create(aE);return e.lView=t,e}var aE=ft(Pe({},ul),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=nn(t.lView);for(;e&&!Ah(e[z]);)e=nn(e);e&&ic(e)},consumerOnSignalRead(){this.lView[qe]=this}});function Ah(t){return t.type!==2}function kh(t){if(t[Ui]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ui])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[W]&8192)}}var lE=100;function Ph(t,e=0){let r=t[Gt].rendererFactory,i=!1;i||r.begin?.();try{cE(t,e)}finally{i||r.end?.()}}function cE(t,e){let n=cc();try{uc(!0),Mc(t,e);let r=0;for(;Zi(t);){if(r===lE)throw new J(103,!1);r++,Mc(t,1)}}finally{uc(n)}}function uE(t,e,n,r){if(zn(e))return;let i=e[W],o=!1,s=!1;ks(e);let a=!0,c=null,l=null;o||(Ah(t)?(l=nE(e),c=dl(l)):ls()===null?(a=!1,l=sE(e),c=dl(l)):e[qe]&&(cs(e[qe]),e[qe]=null));try{rc(e),sp(t.bindingStartIndex),n!==null&&Sh(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Ls(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Fs(e,p,0,null),Ic(e,0)}if(s||dE(e),kh(e),Rh(e,0),t.contentQueries!==null&&hh(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Ls(e,p)}else{let p=t.contentHooks;p!==null&&Fs(e,p,1),Ic(e,1)}pE(t,e);let f=t.components;f!==null&&Lh(e,f,0);let d=t.viewQuery;if(d!==null&&xc(2,d,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Ls(e,p)}else{let p=t.viewHooks;p!==null&&Fs(e,p,2),Ic(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xs]){for(let p of e[xs])p();e[xs]=null}o||(Mh(e),e[W]&=-73)}catch(u){throw o||Yi(e),u}finally{l!==null&&(nf(l,c),a&&iE(l)),Ps()}}function Rh(t,e){for(let n=lh(t);n!==null;n=ch(n))for(let r=Fe;r<n.length;r++){let i=n[r];Oh(i,e)}}function dE(t){for(let e=lh(t);e!==null;e=ch(e)){if(!(e[W]&2))continue;let n=e[Wn];for(let r=0;r<n.length;r++){let i=n[r];ic(i)}}}function fE(t,e,n){fe(se.ComponentStart);let r=an(e,t);try{Oh(r,n)}finally{fe(se.ComponentEnd,r[Ge])}}function Oh(t,e){Ss(t)&&Mc(t,e)}function Mc(t,e){let r=t[z],i=t[W],o=t[qe],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fl(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)uE(r,t,r.template,t[Ge]);else if(i&8192){let a=K(null);try{kh(t),Rh(t,1);let c=r.components;c!==null&&Lh(t,c,1),Mh(t)}finally{K(a)}}}function Lh(t,e,n){for(let r=0;r<e.length;r++)fE(t,e[r],n)}function pE(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)cn(~i);else{let o=i,s=n[++r],a=n[++r];lp(s,o);let c=e[o];fe(se.HostBindingsUpdateStart,c);try{a(2,c)}finally{fe(se.HostBindingsUpdateEnd,c)}}}}finally{cn(-1)}}function Fh(t,e){let n=cc()?64:1088;for(t[Gt].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=nn(t);if($r(t)&&!r)return t;t=r}return null}function hE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gE(t,e,n,r=!0){let i=e[z];if(mE(i,e,t,n),r){let s=Dc(n,t),a=e[nt],c=a.parentNode(t[on]);c!==null&&Sb(i,t[tt],a,e,c,s)}let o=e[Vi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nc(t,e){if(t.length<=Fe)return;let n=Fe+e,r=t[n];if(r){let i=r[rn];i!==null&&i!==t&&Kc(i,r),e>0&&(t[n-1][et]=r[et]);let o=Fi(t,Fe+e);_b(r[z],r);let s=o[Dt];s!==null&&s.detachView(o[z]),r[Te]=null,r[et]=null,r[W]&=-129}return r}function mE(t,e,n,r){let i=Fe+r,o=n.length;r>0&&(n[i-1][et]=e),r<o-Fe?(e[et]=n[i],Zl(n,Fe+r,e)):(n.push(e),e[et]=null),e[Te]=n;let s=e[rn];s!==null&&n!==s&&$h(s,e);let a=e[Dt];a!==null&&a.insertView(t),Ds(e),e[W]|=128}function $h(t,e){let n=t[Wn],r=e[Te];if(qt(r))t[W]|=2;else{let i=r[Te][mt];e[mt]!==i&&(t[W]|=2)}n===null?t[Wn]=[e]:n.push(e)}var Wr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return eo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return zn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(yt(e)){let n=e[zi],r=n?n.indexOf(this):-1;r>-1&&(Nc(e,r),Fi(n,r))}this._attachedToViewContainer=!1}xh(this._lView[z],this._lView)}onDestroy(e){oc(this._lView,e)}markForCheck(){Fh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Ds(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,Ph(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$r(this._lView),n=this._lView[rn];n!==null&&!e&&Kc(n,this._lView),Th(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=$r(this._lView),r=this._lView[rn];r!==null&&!n&&$h(r,this._lView),Ds(this._lView)}};var to=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=yE;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=tE(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Wr(o)}}return t})();function yE(){return eu(ln(),rt())}function eu(t,e){return t.type&4?new to(e,t,zr(t,e)):null}function Hh(t,e,n,r,i){let o=t.data[e];if(o===null)o=vE(t,e,n,r,i),ap()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ip();o.injectorIndex=s===null?-1:s.injectorIndex}return Ms(o,!0),o}function vE(t,e,n,r,i){let o=ac(),s=lc(),a=s?o:o&&o.parent,c=t.data[e]=wE(t,a,n,e,r,i);return IE(t,c,o,s),c}function IE(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function wE(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var bE=()=>null;function Lp(t,e){return bE(t,e)}var Vh=class{},ea=class{},Ac=class{resolveComponentFactory(e){throw new J(917,!1)}},ta=class{static NULL=new Ac},Zn=class{};var jh=(()=>{class t{static \u0275prov=ve({token:t,providedIn:"root",factory:()=>null})}return t})();var Hs={},kc=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Hs,r);return i!==Hs||n===Hs?i:this.parentInjector.get(e,n,r)}};function Gs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Vl(i,a);else if(o==2){let c=a,l=e[++s];r=Vl(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Bh(t,e=0){let n=rt();if(n===null)return ce(t,e);let r=ln();return rh(r,n,Je(t),e)}function EE(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}xE(t,e,n,a,o,c,l)}o!==null&&r!==null&&CE(n,r,o)}function CE(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}function TE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xE(t,e,n,r,i,o,s){let a=r.length,c=null;for(let d=0;d<a;d++){let p=r[d];c===null&&Fr(p)&&(c=p,TE(t,n,d)),Qw(Jp(n,e),t,p.type)}AE(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let d=0;d<a;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,f=wh(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let d=0;d<a;d++){let p=r[d];if(n.mergedAttrs=jc(n.mergedAttrs,p.hostAttrs),SE(t,n,e,f,p),NE(f,p,i),s!==null&&s.has(p)){let[C,I]=s.get(p);n.directiveToIndex.set(p.type,[f,C+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let h=p.type.prototype;!l&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}_E(t,n,o)}function _E(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Fp(0,e,i,r),Fp(1,e,i,r),Hp(e,r,!1);else{let o=n.get(i);$p(0,e,o,r),$p(1,e,o,r),Hp(e,r,!0)}}}function Fp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Uh(e,o)}}function $p(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Uh(e,s)}}function Uh(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Hp(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||gb(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function SE(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=kr(i.type,!0)),s=new Xi(o,Fr(i),Bh,null);t.blueprint[r]=s,n[r]=s,DE(t,e,r,wh(t,n,i.hostVars,Gc),i)}function DE(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ME(s)!=a&&s.push(a),s.push(n,r,o)}}function ME(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function NE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fr(e)&&(n[""]=t)}}function AE(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kE(t,e,n,r,i,o,s,a){let c=e[z],l=c.consts,u=qi(l,s),f=Hh(c,t,n,r,u);return o&&EE(c,e,f,qi(l,a),i),f.mergedAttrs=jc(f.mergedAttrs,f.attrs),f.attrs!==null&&Gs(f,f.attrs,!1),f.mergedAttrs!==null&&Gs(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function PE(t,e){Bw(t,e),tc(e)&&t.queries.elementEnd(e)}function RE(t,e,n,r,i,o){let s=e.consts,a=qi(s,i),c=Hh(e,t,n,r,a);if(c.mergedAttrs=jc(c.mergedAttrs,c.attrs),o!=null){let l=qi(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Gs(c,c.attrs,!1),c.mergedAttrs!==null&&Gs(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}var Pc=Symbol("BINDING");var Rc=class extends ta{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hn(e);return new no(n,this.ngModule)}};function OE(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Xs.SignalBased)!==0};return i&&(o.transform=i),o})}function LE(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function FE(t,e,n){let r=e instanceof ht?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new kc(n,r):n}function $E(t){let e=t.get(Zn,null);if(e===null)throw new J(407,!1);let n=t.get(jh,null),r=t.get($n,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function HE(t,e){let n=Wh(t);return gh(e,n,n==="svg"?Wf:n==="math"?zf:null)}function Wh(t){return(t.selectors[0][0]||"div").toLowerCase()}var no=class extends ea{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OE(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=LE(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){fe(se.DynamicComponentStart);let a=K(null);try{let c=this.componentDef,l=VE(r,c,s,o),u=FE(c,i||this.ngModule,e),f=$E(u),d=f.rendererFactory.createRenderer(null,c),p=r?Bb(d,r,c.encapsulation,u):HE(c,d),h=s?.some(Vp)||o?.some(b=>typeof b!="function"&&b.bindings.some(Vp)),C=qc(null,l,null,512|Ih(c),null,null,f,d,u,null,ph(p,u,!0));C[Mt]=p,ks(C);let I=null;try{let b=kE(Mt,C,2,"#host",()=>l.directiveRegistry,!0,0);yh(d,p,b),Ji(p,C),Vb(l,C,b),ub(l,b,C),PE(l,b),n!==void 0&&BE(b,this.ngContentSelectors,n),I=an(b.index,C),C[Ge]=I[Ge],Jc(l,C,null)}catch(b){throw I!==null&&Tc(I),Tc(C),b}finally{fe(se.DynamicComponentEnd),Ps()}return new qs(this.componentType,C,!!h)}finally{K(a)}}};function VE(t,e,n,r){let i=t?["ng-version","21.0.6"]:vb(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Pc].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let d of f.bindings){a+=d[Pc].requiredVars;let p=u+1;d.create&&(d.targetIdx=p,(o??=[]).push(d)),d.update&&(d.targetIdx=p,(s??=[]).push(d))}}let c=[e];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,d=Wl(f);c.push(d)}return vh(0,null,jE(o,s),1,a,c,null,null,null,[i],null)}function jE(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Vp(t){let e=t[Pc].kind;return e==="input"||e==="twoWay"}var qs=class extends Vh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=nc(n[z],Mt),this.location=zr(this._tNode,n),this.instance=an(this._tNode.index,n)[Ge],this.hostView=this.changeDetectorRef=new Wr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Kb(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=an(r.index,i);Fh(s,1)}get injector(){return new qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BE(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var na=(()=>{class t{static __NG_ELEMENT_ID__=UE}return t})();function UE(){let t=ln();return Gh(t,rt())}var WE=na,zh=class extends WE{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zr(this._hostTNode,this._hostLView)}get injector(){return new qn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bc(this._hostTNode,this._hostLView);if(Qp(e)){let n=Bs(e,this._hostLView),r=js(e),i=n[z].data[r+8];return new qn(i,n)}else return new qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=jp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Fe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Op(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!Lw(e),l;if(c)l=n;else{let I=n||{};l=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let u=c?e:new no(Hn(e)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?f:this.parentInjector).get(ht,null);b&&(o=b)}let d=Hn(u.componentType??{}),p=Lp(this._lContainer,d?.id??null),h=p?.firstChild??null,C=u.create(f,i,h,o,s,a);return this.insertImpl(C.hostView,l,Op(this._hostTNode,p)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qf(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Te],l=new zh(c,c[tt],c[Te]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return gE(s,i,o,r),e.attachToViewContainerRef(),Zl(Ec(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=jp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Nc(this._lContainer,n);r&&(Fi(Ec(this._lContainer),n),xh(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Nc(this._lContainer,n);return r&&Fi(Ec(this._lContainer),n)!=null?new Wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jp(t){return t[zi]}function Ec(t){return t[zi]||(t[zi]=[])}function Gh(t,e){let n,r=e[t.index];return yt(r)?n=r:(n=hE(r,e,null,t),e[t.index]=n,bh(e,n)),GE(n,e,t,r),new zh(n,t,e)}function zE(t,e){let n=t[nt],r=n.createComment(""),i=sn(e,t),o=n.parentNode(i);return zs(n,o,r,n.nextSibling(i),!1),r}var GE=qE;function qE(t,e,n,r){if(t[on])return;let i;n.type&8?i=Nt(r):i=zE(e,n),t[on]=i}var Oc=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lc=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)tu(e,n).matches!==null&&this.queries[n].setDirty()}},Fc=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=tC(e):this.predicate=e}},$c=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hc=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,ZE(n,o)),this.matchTNodeWithReadOption(e,n,$s(n,e,o,!1,!1))}else r===to?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,$s(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===io||i===na||i===to&&n.type&4)this.addMatch(n.index,-2);else{let o=$s(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ZE(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function YE(t,e){return t.type&11?zr(t,e):t.type&4?eu(t,e):null}function QE(t,e,n,r){return n===-1?YE(e,t):n===-2?KE(t,e,r):Us(t,t[z],n,e)}function KE(t,e,n){if(n===io)return zr(e,t);if(n===to)return eu(e,t);if(n===na)return Gh(e,t)}function qh(t,e,n,r){let i=e[Dt].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(QE(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Vc(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=qh(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let f=Fe;f<u.length;f++){let d=u[f];d[rn]===d[Te]&&Vc(d[z],d,l,r)}if(u[Wn]!==null){let f=u[Wn];for(let d=0;d<f.length;d++){let p=f[d];Vc(p[z],p,l,r)}}}}}return r}function XE(t,e){return t[Dt].queries[e].queryList}function JE(t,e,n){let r=new Ws((n&4)===4);return Kf(t,e,r,r.destroy),(e[Dt]??=new Lc).queries.push(new Oc(r))-1}function eC(t,e,n){let r=sc();return r.firstCreatePass&&(nC(r,new Fc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),JE(r,rt(),e)}function tC(t){return t.split(",").map(e=>e.trim())}function nC(t,e,n){t.queries===null&&(t.queries=new $c),t.queries.track(new Hc(e,n))}function tu(t,e){return t.queries.getByIndex(e)}function rC(t,e){let n=t[z],r=tu(n,e);return r.crossesNgTemplate?Vc(n,t,e,[]):qh(n,t,r,e)}var Zs=class{};var ro=class extends Zs{injector;componentFactoryResolver=new Rc(this);instance=null;constructor(e){super();let n=new Pr([...e.providers,{provide:Zs,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],e.parent||Hi(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zh(t,e,n=null){return new ro({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var iC=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Kl(!1,n.type),i=r.length>0?Zh([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ve({token:t,providedIn:"environment",factory:()=>new t(ce(ht))})}return t})();function nu(t){return zp(()=>{let e=lC(t),n=ft(Pe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Uc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,styles:t.styles||Ln,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Qc("NgStandalone"),cC(n);let r=t.dependencies;return n.directiveDefs=Bp(r,oC),n.pipeDefs=Bp(r,Mf),n.id=uC(n),n})}function oC(t){return Hn(t)||Wl(t)}function sC(t,e){if(t==null)return Vn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Xs.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function aC(t){if(t==null)return Vn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function lC(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Vn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:sC(t.inputs,e),outputs:aC(t.outputs),debugInfo:null}}function cC(t){t.features?.forEach(e=>e(t))}function Bp(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function uC(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ru=new ne("");function iu(t){return!!t&&typeof t.then=="function"}function Yh(t){return!!t&&typeof t.subscribe=="function"}var Qh=new ne("");var ou=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=X(Qh,{optional:!0})??[];injector=X(Fn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ts(this.injector,i);if(iu(o))n.push(o);else if(Yh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kh=new ne("");function Xh(){hl(()=>{let t="";throw new J(600,t)})}function Jh(t){return t.isBoundToModule}var dC=10;var ao=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(Hr);afterRenderManager=X(Eh);zonelessEnabled=X(Vr);rootEffectScheduler=X(bp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=X(Gn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(El(n=>!n))}constructor(){X(so,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=X(ht);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Fn.NULL){return this._injector.get(be).run(()=>{fe(se.BootstrapComponentStart);let s=n instanceof ea;if(!this._injector.get(ou).done){let h="";throw new J(405,h)}let c;s?c=n:c=this._injector.get(ta).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Jh(c)?void 0:this._injector.get(Zs),u=r||c.selector,f=c.create(i,[],u,l),d=f.location.nativeElement,p=f.injector.get(ru,null);return p?.registerApplication(d),f.onDestroy(()=>{this.detachView(f.hostView),Ki(this.components,f),p?.unregisterApplication(d)}),this._loadComponent(f),fe(se.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(se.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Yc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw fe(se.ChangeDetectionEnd),new J(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),fe(se.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<dC;){fe(se.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{fe(se.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Zi(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ph(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Zi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ki(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Kh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ki(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ki(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var vk=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function lo(t,e,n,r){let i=rt(),o=i[z],s=t+Mt,a=o.firstCreatePass?RE(s,o,2,e,n,r):o.data[s];return Yb(a,i,t,e,fC),r!=null&&jb(i,a),lo}function co(){let t=ln(),e=Qb(t);return np(e)&&rp(),ep(),co}function ra(t,e,n,r){return lo(t,e,n,r),co(),ra}var fC=(t,e,n,r,i)=>(yp(!0),gh(e[nt],r,hp()));var uo="en-US";var pC=uo;function eg(t){typeof t=="string"&&(pC=t.toLowerCase().replace(/_/g,"-"))}function ia(t,e,n){return eC(t,e,n),ia}function oa(t){let e=rt(),n=sc(),r=dc();As(r+1);let i=tu(n,r);if(t.dirty&&Gf(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=rC(e,r);t.reset(o,nb),t.notifyOnChanges()}return!0}return!1}function sa(){return XE(rt(),dc())}var tg=(()=>{class t{applicationErrorHandler=X(Hr);appRef=X(ao);taskService=X(Gn);ngZone=X(be);zonelessEnabled=X(Vr);tracing=X(so,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Li):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Os,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?mc:gc;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Li+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ng(){return[{provide:$n,useExisting:tg},{provide:be,useClass:bs},{provide:Vr,useValue:!0}]}function hC(){return typeof $localize<"u"&&$localize.locale||uo}var su=new ne("",{factory:()=>X(su,{optional:!0,skipSelf:!0})||hC()});var bC=(()=>{class t{zone=X(be);changeDetectionScheduler=X($n);applicationRef=X(ao);applicationErrorHandler=X(Hr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EC=new ne("",{factory:()=>!1});function CC({ngZoneFactory:t,scheduleInRootZone:e}){return t??=()=>new be(ft(Pe({},ig()),{scheduleInRootZone:e})),[{provide:Vr,useValue:!1},{provide:be,useFactory:t},{provide:jn,multi:!0,useFactory:()=>{let n=X(bC,{optional:!0});return()=>n.initialize()}},{provide:jn,multi:!0,useFactory:()=>{let n=X(TC);return()=>{n.initialize()}}},{provide:Os,useValue:e??hc}]}function rg(t){let e=t?.scheduleInRootZone,n=CC({ngZoneFactory:()=>{let r=ig(t);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&Qc("NgZone_CoalesceEvent"),new be(r)},scheduleInRootZone:e});return Ql([{provide:EC,useValue:!0},n])}function ig(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var TC=(()=>{class t{subscription=new Ne;initialized=!1;zone=X(be);pendingTasks=X(Gn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var au=new ne(""),xC=new ne("");function fo(t){return!t.moduleRef}function _C(t){let e=fo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(be);return n.run(()=>{fo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Hr),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),fo(t)){let o=()=>e.destroy(),s=t.platformInjector.get(au);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(au);s.add(o),t.moduleRef.onDestroy(()=>{Ki(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return DC(r,n,()=>{let o=e.get(Gn),s=o.add(),a=e.get(ou);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(su,uo);if(eg(c||uo),!e.get(xC,!0))return fo(t)?e.get(ao):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(fo(t)){let u=e.get(ao);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return SC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var SC;function DC(t,e,n){try{let r=n();return iu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var aa=null;function MC(t=[],e){return Fn.create({name:e,providers:[{provide:$i,useValue:"platform"},{provide:au,useValue:new Set([()=>aa=null])},...t]})}function NC(t=[]){if(aa)return aa;let e=MC(t);return aa=e,Xh(),AC(e),e}function AC(t){let e=t.get(Qs,null);Ts(t,()=>{e?.forEach(n=>n())})}function og(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;fe(se.BootstrapApplicationStart);try{let o=i?.injector??NC(r),s=[ng(),wp,...n||[]],a=new ro({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return _C({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{fe(se.BootstrapApplicationEnd)}}var sg=null;function ho(){return sg}function cu(t){sg??=t}var po=class{};function uu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var go=class{};var ag="browser";var mo=class{_doc;constructor(e){this._doc=e}manager},la=(()=>{class t extends mo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ce(vt))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),da=new ne(""),hu=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof la));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof la);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ce(da),ce(be))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),du="ng-app-id";function lg(t){for(let e of t)e.remove()}function cg(t,e){let n=e.createElement("style");return n.textContent=t,n}function kC(t,e,n,r){let i=t.head?.querySelectorAll(`style[${du}="${e}"],link[${du}="${e}"]`);if(i)for(let o of i)o.removeAttribute(du),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function pu(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var gu=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,kC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,cg);r?.forEach(i=>this.addUsage(i,this.external,pu))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(lg(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])lg(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,cg(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,pu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ce(vt),ce(Ys),ce(Ks,8),ce(oo))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mu=/%COMP%/g;var dg="%COMP%",PC=`_nghost-${dg}`,RC=`_ngcontent-${dg}`,OC=!0,LC=new ne("",{factory:()=>OC});function FC(t){return RC.replace(mu,t)}function $C(t){return PC.replace(mu,t)}function fg(t,e){return e.map(n=>n.replace(mu,t))}var yu=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new yo(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof ua?i.applyToHost(n):i instanceof vo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case It.Emulated:o=new ua(c,l,r,this.appId,u,s,a,f);break;case It.ShadowDom:return new ca(c,n,r,s,a,this.nonce,f,l);case It.ExperimentalIsolatedShadowDom:return new ca(c,n,r,s,a,this.nonce,f);default:o=new vo(c,l,r,u,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ce(hu),ce(gu),ce(Ys),ce(LC),ce(vt),ce(be),ce(Ks),ce(so,8))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),yo=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(fu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ug(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ug(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=fu[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=fu[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,i&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=ho().getGlobalEventTarget(this.doc,e),!e))throw new J(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function ug(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ca=class extends yo{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=fg(r.id,l);for(let f of l){let d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=f,this.shadowRoot.appendChild(d)}let u=r.getExternalStyles?.();if(u)for(let f of u){let d=pu(f,i);s&&d.setAttribute("nonce",s),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},vo=class extends yo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?fg(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ur.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ua=class extends vo{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=FC(l),this.hostAttr=$C(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var fa=class t extends po{supportsDOMEvents=!0;static makeCurrent(){cu(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=HC();return n==null?null:VC(n)}resetBaseElement(){Io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uu(document.cookie,e)}},Io=null;function HC(){return Io=Io||document.head.querySelector("base"),Io?Io.getAttribute("href"):null}function VC(t){return new URL(t,document.baseURI).pathname}var jC=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})(),pg=["alt","control","meta","shift"],BC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hg=(()=>{class t extends mo{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ho().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pg.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=BC[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pg.forEach(s=>{if(s!==i){let a=UC[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ce(vt))};static \u0275prov=ve({token:t,factory:t.\u0275fac})}return t})();function vu(t,e,n){let r=Pe({rootComponent:t,platformRef:n?.platformRef},WC(e));return og(r)}function WC(t){return{appProviders:[...YC,...t?.providers??[]],platformProviders:ZC}}function zC(){fa.makeCurrent()}function GC(){return new zt}function qC(){return Wc(document),document}var ZC=[{provide:oo,useValue:ag},{provide:Qs,useValue:zC,multi:!0},{provide:vt,useFactory:qC}];var YC=[{provide:$i,useValue:"root"},{provide:zt,useFactory:GC},{provide:da,useClass:la,multi:!0},{provide:da,useClass:hg,multi:!0},yu,gu,hu,{provide:Zn,useExisting:yu},{provide:go,useClass:jC},[]];var y=class t{x;y;constructor(e,n){this.x=e||0,this.y=n||0}get width(){return this.x}set width(e){this.x=e}get left(){return this.x}get height(){return this.y}set height(e){this.y=e}get top(){return this.y}add(e){return new t(this.x+e.x,this.y+e.y)}sub(e){return this.add(e.mul(-1))}mul(e){return new t(this.x*e,this.y*e)}div(e){return this.mul(1/e)}clone(){return new t(this.x,this.y)}get normal(){return new t(gg(this.x),gg(this.y))}};function gg(t){return t>0?1:t<0?-1:0}var ye=class{_phase=0;_propagationStopped=!1;_target;_source=null;stopPropagation(){this._propagationStopped=!0,this.destroy()}get propagationStopped(){return this._propagationStopped}get target(){return this._target}set target(e){if(this._target!==void 0)throw new Error("Event target already set!");this._target=e,this._phase=0}get source(){return this._source}set source(e){if(this._source!==null)throw new Error("Event source already set!");this._source=e}get phase(){return this._phase}capture(){this._phase=1}destroy(){this._target=null,this._source=null}};var un=class extends ye{};var Qn=class extends ye{};var Re=class{_eventHandlers=new Map;on(e,n){let r=this._eventHandlers.get(e)||new Set;r.has(n)||(r.add(n),this._eventHandlers.set(e,r))}off(e,n){let r=this._eventHandlers.get(e)||new Set;r.delete(n),this._eventHandlers.set(e,r)}handleEvent(e){e.source===null&&(e.source=this);for(let[n,r]of this._eventHandlers)if(e instanceof n){for(let i of r)if(i(e),e.propagationStopped)return}}};var dn=class extends Re{_parent;_children=[];_depthSortedChildrenCache;_childrenCacheDirty=!0;_visible=!0;constructor(e){super(),e&&e.forEach(n=>this.addChild(n))}set isVisible(e){this._visible=e}get isVisible(){if(!this._visible)return!1;let e=this.parent;return e?e.isVisible:!0}get childrenWithDepth(){return this._children}get children(){return this._children.map(e=>e.element)}get depthSortedChildren(){return(this._childrenCacheDirty||!this._depthSortedChildrenCache)&&(this._depthSortedChildrenCache=this._children.sort((e,n)=>e.depth-n.depth).map(e=>e.element),this._childrenCacheDirty=!1),this._depthSortedChildrenCache}get parent(){return this._parent}set parent(e){if(this._parent!==void 0)throw new Error("Cannot set parent while one already set! First remove this child from existing parent.");this._parent=e}get rootElement(){return this._parent===void 0?this:this._parent.rootElement}clearParent(){this._parent=void 0}addChild(e,n=0){this._children.push({element:e,depth:n}),this._childrenCacheDirty=!0,e.parent=this,e.dispatchEvent(new un)}removeChild(e){this._children=this._children.filter(n=>n.element!==e),this._childrenCacheDirty=!0,e.dispatchEvent(new Qn),e.clearParent()}removeAllChildren(){this._children.forEach(e=>{e.element.dispatchEvent(new Qn),e.element.removeAllChildren(),e.element.clearParent()}),this._children=[],this._childrenCacheDirty=!0}remove(){if(this._parent===void 0)throw new Error("Cannot remove, no parent set!");this._parent.removeChild(this)}dispatchEvent(e){if(e.target===void 0){e.target=this,this.rootElement.dispatchEvent(e);return}if(super.handleEvent(e),!e.propagationStopped&&!(e.target===this&&(e.capture(),super.handleEvent(e),e.propagationStopped))&&e.phase===0){this._children.length===0&&e.destroy();for(let n of this._children)if(n.element.dispatchEvent(e),e.propagationStopped)return}}};var kt=class extends dn{};function mg(t,e,n=!1){let r=n?t.depthSortedChildren:t.children;for(let i of r)e(i),mg(i,e,n)}var ee=class{static childrenByType(e,n,r=!1,i=!1){if(!r){let a=[];return mg(n,c=>{c instanceof e&&a.push(c)},!1),a}let o=[];function s(a,c){for(let l of a.childrenWithDepth){let u=l.element,f=c+l.depth;i&&!u.isVisible||(u instanceof e&&o.push({element:u,depth:f}),s(u,f))}}return s(n,0),o.sort((a,c)=>a.depth-c.depth),o.map(a=>a.element)}static parentByType(e,n){if(n.parent instanceof e)return n.parent;if(n.parent)return this.parentByType(e,n.parent)}};var fn=class{constructor(e){this.workFn=e;this.maxFps=10,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,document.addEventListener("visibilitychange",()=>{document.hidden?this.stopRequested=!0:this.start(this.maxFps)})}maxFps;fpsInterval;previousTime;adjustedPreviousTime;stopRequested;start(e){this.maxFps=e,this.fpsInterval=this.computeFpsInterval(),this.previousTime=0,this.adjustedPreviousTime=0,this.stopRequested=!1,requestAnimationFrame(this.workLoop.bind(this))}workLoop(e){if(!this.stopRequested){if(this.previousTime===0)this.previousTime=e,this.adjustedPreviousTime=e;else{let n=e-this.adjustedPreviousTime;n>=this.fpsInterval&&(this.workFn(e,e-this.previousTime),this.adjustedPreviousTime=e-n%this.fpsInterval,this.previousTime=e)}requestAnimationFrame(this.workLoop.bind(this))}}computeFpsInterval(){return 1e3/this.maxFps}};var ie=class{static _data=new Map;static get(e){return this._data.get(e)}static set(e,n){this._data.set(e,n)}};var pn=class extends ye{constructor(n){super();this.scene=n}};var Gr=class extends Re{constructor(n,r,i,o){super();this.viewport=n;this.renderer=r;this.physicsSimulation=i;this.inputDevices=o;r.setViewport(n),i.setViewport(n)}loadScene(n){this.renderer.setRootElement(n),this.physicsSimulation.setRootElement(n),this.inputDevices.forEach(r=>r.setRootElement(n)),this.handleEvent(new pn(n))}start(n,r){this.renderer.start(n),this.physicsSimulation.start(r)}};var hn=class extends Re{rootElement;setRootElement(e){this.rootElement=e}dispatchEvent(e){e.target=null,this.rootElement?.dispatchEvent(e)}};var $e=class extends ye{};var xe=class extends $e{constructor(n,r){super();this.key=n;this.action=r}},qr=class extends hn{constructor(e){super(),e.addEventListener("keydown",this.eventHandler.bind(this)),e.addEventListener("keyup",this.eventHandler.bind(this))}eventHandler(e){this.dispatchEvent(new xe(e.key,e.type==="keydown"?0:1))}};var QC=[0,2,1];var gn=class extends $e{constructor(n,r,i){super();this.button=n;this.action=r;this.point=i}},Pt=class extends $e{constructor(n){super();this.point=n}},Zr=class extends hn{constructor(n,r){super();this.getLocalPoint=r;n.addEventListener("mousedown",this.inputEventHandler.bind(this)),n.addEventListener("mouseup",this.inputEventHandler.bind(this)),n.addEventListener("mousemove",this.moveEventHandler.bind(this))}inputEventHandler(n){for(let r of QC)n.button===r&&this.dispatchEvent(new gn(r,n.type==="mousedown"?0:1,this.getLocalPoint(new y(n.x,n.y))))}moveEventHandler(n){this.dispatchEvent(new Pt(this.getLocalPoint(new y(n.x,n.y))))}};var Yr=class extends $e{constructor(n,r){super();this.type=n;this.meta=r}},Qr=class extends Re{constructor(n){super();this.element=n}trigger(n,r){let i={when:o=>(this.element.on(o.type,s=>{o.condition(s)&&this.handleEvent(new Yr(n,r))}),i)};return i}};var pa=class extends ye{},Kr=class extends Re{inputMapper;_state=new Map;constructor(e){super(),this.inputMapper=new Qr(e),this.inputMapper.on(Yr,n=>{let r=n.meta==="on";r!==this._state.get(n.type)&&(this._state.set(n.type,r),this.handleEvent(new pa))})}setOn(e){return this.inputMapper.trigger(e,"on")}setOff(e){return this.inputMapper.trigger(e,"off")}onChange(e){this.on(pa,()=>{e(this._state)})}get state(){return this._state}};var Kn=class extends $e{constructor(n){super();this.point=n}},Xn=class extends $e{constructor(n){super();this.point=n}},Jn=class extends $e{constructor(n,r){super();this.button=n;this.point=r}};var Xr=class extends Re{constructor(n){super();this._target=n;this.setupListeners()}isHovered=!1;get target(){return this._target}setupListeners(){this.target.rootElement.on(Pt,this.handleMouseMove.bind(this)),this.target.rootElement.on(gn,this.handleMouseInput.bind(this))}handleMouseMove(n){if(!(n instanceof Pt))return;let r=this.isPointInBounds(n.point);r&&!this.isHovered?(this.isHovered=!0,this.handleEvent(new Kn(n.point))):!r&&this.isHovered&&(this.isHovered=!1,this.handleEvent(new Xn(n.point)))}handleMouseInput(n){n instanceof gn&&n.action===1&&this.isHovered&&this.handleEvent(new Jn(n.button,n.point))}isPointInBounds(n){let r=this.target.position,i=this.target.width,o=this.target.height;return n.x>=r.x&&n.x<=r.x+i&&n.y>=r.y&&n.y<=r.y+o}destroy(){this.target.rootElement.off(Pt,this.handleMouseMove.bind(this)),this.target.rootElement.off(gn,this.handleMouseInput.bind(this))}};var it=class extends dn{draw(e){}};function mn(t){return"item"in t&&"position"in t}var V=class t extends it{_position;_translation;_opacity=1;_scale=new y(1,1);_fillColor=void 0;clipRegion=void 0;cacheable=!1;constructor(e,n){super(n),this._position=e||new y,this._translation=new y}get cacheKey(){}get hasCacheableParent(){let e=ee.parentByType(t,this);return e?e.cacheable&&e.cacheKey?!0:e.hasCacheableParent:!1}get opacity(){let e=this._opacity,n=ee.parentByType(t,this);return n&&(e*=n.opacity),e}set opacity(e){this._opacity=e}get scale(){let e=this._scale,n=ee.parentByType(t,this);return n&&(e=new y(e.x*n.scale.x,e.y*n.scale.y)),e}set scale(e){this._scale=e}get ownPosition(){return this._position.add(this._translation)}get position(){let e=this.ownPosition,n=ee.parentByType(t,this);return n?n.position.add(e):e}set position(e){this._position=e}set translation(e){this._translation=e}get fillColor(){if(this._fillColor!==void 0)return this._fillColor;let e=ee.parentByType(t,this);if(e)return e.fillColor}set fillColor(e){this._fillColor=e}get width(){return 0}get height(){return 0}get size(){return new y(this.width,this.height)}};function XC(t,e){let n=new Image;n.onload=()=>Y(null,null,function*(){let{naturalWidth:r,naturalHeight:i}=n,s=new OffscreenCanvas(r,i).getContext("2d");if(s){s.drawImage(n,0,0);let a=yield createImageBitmap(s.getImageData(0,0,r,i));e(a)}}),n.src=t}var Ze=class t{static nextId=0;id;data=new Image;width=0;height=0;constructor(){this.id=`tex_${t.nextId++}`}static empty(){return new t}static load(e){let n=new t;return XC(e,r=>{n.data=r,n.width=r.width,n.height=r.height}),n}static fromImageBitmap(e){let n=new t;return n.data=e,n.width=e.width,n.height=e.height,n}toOffscreenCanvas(){let e=new OffscreenCanvas(this.width,this.height);return e.getContext("2d")?.drawImage(this.data,0,0),e}};var wt=class{cache=new Map;get(e,n){return Y(this,null,function*(){let r=this.cache.get(e);return r||(r=n(),this.cache.set(e,r)),r})}};var Iu=class{constructor(e,n){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=n}generateVariable(e){let n=[...this.scopes[this.scopes.length-1]];return e&&n.push(e),n.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+`
`}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let n=this.reverseImports.get(e);return n||(n=this.imports.push(e)-1,this.reverseImports.set(e,n)),`${this.importPath}[${n}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){let n=this.references.get(e);n&&(n.resolved=!0)}markRequested(e){e.forEach(n=>{let r=this.references.get(n);r&&(r.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([e,n])=>!n.resolved&&!n.requested).map(([e,n])=>e)}},bt=new Map,er="___parser_",Et={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},ha={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},ga={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},pe=class t{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new t}primitiveGenerateN(e,n){let r=ha[e],i=ga[e];n.pushCode(`${n.generateVariable(this.varName)} = dataView.get${r}(offset, ${i});`),n.pushCode(`offset += ${Et[e]};`)}primitiveN(e,n,r){return this.setNextParser(e,n,r)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,n={}){return this.primitiveN("uint8",e,n)}uint16(e,n={}){return this.primitiveN(this.useThisEndian("uint16"),e,n)}uint16le(e,n={}){return this.primitiveN("uint16le",e,n)}uint16be(e,n={}){return this.primitiveN("uint16be",e,n)}uint32(e,n={}){return this.primitiveN(this.useThisEndian("uint32"),e,n)}uint32le(e,n={}){return this.primitiveN("uint32le",e,n)}uint32be(e,n={}){return this.primitiveN("uint32be",e,n)}int8(e,n={}){return this.primitiveN("int8",e,n)}int16(e,n={}){return this.primitiveN(this.useThisEndian("int16"),e,n)}int16le(e,n={}){return this.primitiveN("int16le",e,n)}int16be(e,n={}){return this.primitiveN("int16be",e,n)}int32(e,n={}){return this.primitiveN(this.useThisEndian("int32"),e,n)}int32le(e,n={}){return this.primitiveN("int32le",e,n)}int32be(e,n={}){return this.primitiveN("int32be",e,n)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,n)}int64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,n)}int64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,n)}uint64(e,n={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,n)}uint64be(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,n)}uint64le(e,n={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,n)}floatle(e,n={}){return this.primitiveN("floatle",e,n)}floatbe(e,n={}){return this.primitiveN("floatbe",e,n)}doublele(e,n={}){return this.primitiveN("doublele",e,n)}doublebe(e,n={}){return this.primitiveN("doublebe",e,n)}bitN(e,n,r){return r.length=e,this.setNextParser("bit",n,r)}bit1(e,n={}){return this.bitN(1,e,n)}bit2(e,n={}){return this.bitN(2,e,n)}bit3(e,n={}){return this.bitN(3,e,n)}bit4(e,n={}){return this.bitN(4,e,n)}bit5(e,n={}){return this.bitN(5,e,n)}bit6(e,n={}){return this.bitN(6,e,n)}bit7(e,n={}){return this.bitN(7,e,n)}bit8(e,n={}){return this.bitN(8,e,n)}bit9(e,n={}){return this.bitN(9,e,n)}bit10(e,n={}){return this.bitN(10,e,n)}bit11(e,n={}){return this.bitN(11,e,n)}bit12(e,n={}){return this.bitN(12,e,n)}bit13(e,n={}){return this.bitN(13,e,n)}bit14(e,n={}){return this.bitN(14,e,n)}bit15(e,n={}){return this.bitN(15,e,n)}bit16(e,n={}){return this.bitN(16,e,n)}bit17(e,n={}){return this.bitN(17,e,n)}bit18(e,n={}){return this.bitN(18,e,n)}bit19(e,n={}){return this.bitN(19,e,n)}bit20(e,n={}){return this.bitN(20,e,n)}bit21(e,n={}){return this.bitN(21,e,n)}bit22(e,n={}){return this.bitN(22,e,n)}bit23(e,n={}){return this.bitN(23,e,n)}bit24(e,n={}){return this.bitN(24,e,n)}bit25(e,n={}){return this.bitN(25,e,n)}bit26(e,n={}){return this.bitN(26,e,n)}bit27(e,n={}){return this.bitN(27,e,n)}bit28(e,n={}){return this.bitN(28,e,n)}bit29(e,n={}){return this.bitN(29,e,n)}bit30(e,n={}){return this.bitN(30,e,n)}bit31(e,n={}){return this.bitN(31,e,n)}bit32(e,n={}){return this.bitN(32,e,n)}namely(e){return bt.set(e,this),this.alias=e,this}skip(e,n={}){return this.seek(e,n)}seek(e,n={}){if(n.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,n){if(!n.zeroTerminated&&!n.length&&!n.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((n.zeroTerminated||n.length)&&n.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(n.stripNull&&!(n.length||n.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return n.encoding=n.encoding||"utf8",this.setNextParser("string",e,n)}buffer(e,n){if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,n)}wrapped(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.wrapper||!n.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!n.length&&!n.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,n)}array(e,n){if(!n.readUntil&&!n.length&&!n.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!n.type)throw new Error("type is required for array.");if(typeof n.type=="string"&&!bt.has(n.type)&&!(n.type in Et))throw new Error(`Array element type "${n.type}" is unkown.`);return this.setNextParser("array",e,n)}choice(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n)throw new Error("tag and choices are are required for choice.");if(!n.tag)throw new Error("tag is requird for choice.");if(!n.choices)throw new Error("choices is required for choice.");for(let r in n.choices){let i=parseInt(r,10),o=n.choices[i];if(isNaN(i))throw new Error(`Choice key "${r}" is not a number.`);if(typeof o=="string"&&!bt.has(o)&&!(o in Et))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",e,n)}nest(e,n){if(typeof n!="object"&&typeof e=="object"&&(n=e,e=""),!n||!n.type)throw new Error("type is required for nest.");if(!(n.type instanceof t)&&!bt.has(n.type))throw new Error("type must be a known parser name or a Parser object.");if(!(n.type instanceof t)&&!e)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,n)}pointer(e,n){if(!n.offset)throw new Error("offset is required for pointer.");if(!n.type)throw new Error("type is required for pointer.");if(typeof n.type=="string"&&!(n.type in Et)&&!bt.has(n.type))throw new Error(`Pointer type "${n.type}" is unkown.`);return this.setNextParser("pointer",e,n)}saveOffset(e,n={}){return this.setNextParser("saveOffset",e,n)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){let n=new Iu(e,this.useContextVariables);return n.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(n),n.pushCode(`return ${er+this.alias}(0).result;`)):this.addRawCode(n),n}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${er+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){let n=e.getUnresolvedReferences();e.markRequested(n),n.forEach(r=>{var i;(i=bt.get(r))===null||i===void 0||i.addAliasedCode(e)})}compile(){let e="imports",n=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${n.code} };`)(n.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(Et).indexOf(this.type)>=0)e=Et[this.type];else if(this.type==="string"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")e=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let n=NaN;typeof this.options.type=="string"?n=Et[this.options.type]:this.options.type instanceof t&&(n=this.options.type.sizeOf()),e=this.options.length*n}else this.type==="seek"?e=this.options.length:this.type==="nest"?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,n,r){let i=new t;return i.type=e,i.varName=n,i.options=r,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e);break}this.type!=="bit"&&this.generateAssert(e)}let n=e.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(e,n,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;let n=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let r=e.addImport(this.options.assert);e.pushCode(`if (!${r}.call(vars, ${n})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${n}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${n}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${n} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){let n=JSON.parse(JSON.stringify(this));if(n.options=this.options,n.generateAssert=this.generateAssert.bind(this),n.generateFormatter=this.generateFormatter.bind(this),n.varName=e.generateVariable(n.varName),e.bitFields.push(n),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let r=e.generateTmpVariable();e.pushCode(`var ${r} = 0;`);let i=(u=0)=>{let f=0;for(let d=u;d<e.bitFields.length;d++){let p=e.bitFields[d].options.length;if(f+p>32)break;f+=p}return f},o=u=>(u<=8?(e.pushCode(`${r} = dataView.getUint8(offset);`),u=8):u<=16?(e.pushCode(`${r} = dataView.getUint16(offset);`),u=16):u<=24?(e.pushCode(`${r} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(e.pushCode(`${r} = dataView.getUint32(offset);`),u=32),e.pushCode(`offset += ${u/8};`),u),s=0,a=this.endian==="be",c=0,l=0;e.bitFields.forEach((u,f)=>{let d=u.options.length;if(d>l){if(l){let C=-1>>>32-l;e.pushCode(`${u.varName} = (${r} & 0x${C.toString(16)}) << ${d-l};`),d-=l}s=0,l=c=o(i(f)-l)}let p=a?c-s-d:s,h=-1>>>32-d;e.pushCode(`${u.varName} ${d<u.options.length?"|=":"="} ${r} >> ${p} & 0x${h.toString(16)};`),u.options.length===32&&e.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(e),u.options.formatter&&u.generateFormatter(e,u.varName,u.options.formatter),s+=d,l-=d}),e.bitFields=[]}}generateSeek(e){let n=e.generateOption(this.options.length);e.pushCode(`offset += ${n};`)}generateString(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",s='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let a=this.options.length;e.pushCode(`var ${r} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${r} < ${a});`);let c=`offset - ${r} < ${a} ? offset - 1 : offset`;e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, ${c}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, ${c}));`)}else if(this.options.length){let a=e.generateOption(this.options.length);e.pushCode(o?`${n} = Array.from(buffer.subarray(offset, offset + ${a}), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${a}));`),e.pushCode(`offset += ${a};`)}else this.options.zeroTerminated?(e.pushCode(`var ${r} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset - 1), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${r} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(o?`${n} = Array.from(buffer.subarray(${r}, offset), ${s}).join('');`:`${n} = new TextDecoder('${i}').decode(buffer.subarray(${r}, offset));`));this.options.stripNull&&e.pushCode(`${n} = ${n}.replace(/\\x00+$/g, '')`)}generateBuffer(e){let n=e.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let r=this.options.readUntil,i=e.generateTmpVariable(),o=e.generateTmpVariable();e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${o} = dataView.getUint8(offset);`);let s=e.addImport(r);e.pushCode(`if (${s}.call(${e.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${n} = buffer.subarray(offset);`);else{let r=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${r});`),e.pushCode(`offset += ${r};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`)}generateArray(e){let n=e.generateOption(this.options.length),r=e.generateOption(this.options.lengthInBytes),i=this.options.type,o=e.generateTmpVariable(),s=e.generateVariable(this.varName),a=e.generateTmpVariable(),c=this.options.key,l=typeof c=="string";if(l?e.pushCode(`${s} = {};`):e.pushCode(`${s} = [];`),typeof this.options.readUntil=="function"?e.pushCode("do {"):this.options.readUntil==="eof"?e.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):r!==void 0?e.pushCode(`for (var ${o} = offset + ${r}; offset < ${o}; ) {`):e.pushCode(`for (var ${o} = ${n}; ${o} > 0; ${o}--) {`),typeof i=="string")if(bt.get(i)){let u=e.generateTmpVariable();if(e.pushCode(`var ${u} = ${er+i}(offset, {`),e.useContextVariables){let f=e.generateVariable();e.pushCode(`$parent: ${f},`),e.pushCode(`$root: ${f}.$root,`),!this.options.readUntil&&r===void 0&&e.pushCode(`$index: ${n} - ${o},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&e.addReference(i)}else{let u=ha[i],f=ga[i];e.pushCode(`var ${a} = dataView.get${u}(offset, ${f});`),e.pushCode(`offset += ${Et[i]};`)}else if(i instanceof t){e.pushCode(`var ${a} = {};`);let u=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${u};`),e.pushCode(`${a}.$root = ${u}.$root;`),!this.options.readUntil&&r===void 0&&e.pushCode(`${a}.$index = ${n} - ${o};`)),i.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(l?e.pushCode(`${s}[${a}.${c}] = ${a};`):e.pushCode(`${s}.push(${a});`),e.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,f=e.addImport(u);e.pushCode(`while (!${f}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,n,r){if(typeof r=="string"){let i=e.generateVariable(this.varName);if(bt.has(r)){let o=e.generateTmpVariable();e.pushCode(`var ${o} = ${er+r}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${i}.$parent,`),e.pushCode(`$root: ${i}.$root,`)),e.pushCode("});"),e.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{let o=ha[r],s=ga[r];e.pushCode(`${i} = dataView.get${o}(offset, ${s});`),e.pushCode(`offset += ${Et[r]}`)}}else r instanceof t&&(e.pushPath(n),r.generate(e),e.popPath(n))}generateChoice(e){let n=e.generateOption(this.options.tag),r=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${r} = {};`),e.useContextVariables)){let i=e.generateVariable();e.pushCode(`${r}.$parent = ${i};`),e.pushCode(`${r}.$root = ${i}.$root;`)}e.pushCode(`switch(${n}) {`);for(let i in this.options.choices){let o=parseInt(i,10),s=this.options.choices[o];e.pushCode(`case ${o}:`),this.generateChoiceCase(e,this.varName,s),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${n} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${r}.$parent;`),e.pushCode(`delete ${r}.$root;`))}generateNest(e){let n=e.generateVariable(this.varName);if(this.options.type instanceof t){if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){let r=e.generateVariable();e.pushCode(`${n}.$parent = ${r};`),e.pushCode(`${n}.$root = ${r}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}else if(bt.has(this.options.type)){let r=e.generateTmpVariable();if(e.pushCode(`var ${r} = ${er+this.options.type}(offset, {`),e.useContextVariables){let i=e.generateVariable();e.pushCode(`$parent: ${i},`),e.pushCode(`$root: ${i}.$root,`)}e.pushCode("});"),e.pushCode(`${n} = ${r}.result; offset = ${r}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){let n=e.generateVariable(this.varName),r=e.generateTmpVariable();if(typeof this.options.readUntil=="function"){let c=this.options.readUntil,l=e.generateTmpVariable(),u=e.generateTmpVariable();e.pushCode(`var ${l} = offset;`),e.pushCode(`var ${u} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${u} = dataView.getUint8(offset);`);let f=e.addImport(c);e.pushCode(`if (${f}.call(${e.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${r} = buffer.subarray(${l}, offset);`)}else if(this.options.readUntil==="eof")e.pushCode(`${r} = buffer.subarray(offset);`);else{let c=e.generateOption(this.options.length);e.pushCode(`${r} = buffer.subarray(offset, offset + ${c});`),e.pushCode(`offset += ${c};`)}this.options.clone&&e.pushCode(`${r} = buffer.constructor.from(${r});`);let i=e.generateTmpVariable(),o=e.generateTmpVariable(),s=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${r} = ${a}.call(this, ${r}).subarray(0);`),e.pushCode(`var ${i} = buffer;`),e.pushCode(`var ${o} = offset;`),e.pushCode(`var ${s} = dataView;`),e.pushCode(`buffer = ${r};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof t)this.varName&&e.pushCode(`${n} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(bt.has(this.options.type)){let c=e.generateTmpVariable();e.pushCode(`var ${c} = ${er+this.options.type}(0);`),e.pushCode(`${n} = ${c}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${i};`),e.pushCode(`dataView = ${s};`),e.pushCode(`offset = ${o};`)}generateFormatter(e,n,r){if(typeof r=="function"){let i=e.addImport(r);e.pushCode(`${n} = ${i}.call(${e.generateVariable()}, ${n});`)}}generatePointer(e){let n=this.options.type,r=e.generateOption(this.options.offset),i=e.generateTmpVariable(),o=e.generateVariable(this.varName);if(e.pushCode(`var ${i} = offset;`),e.pushCode(`offset = ${r};`),this.options.type instanceof t){if(e.pushCode(`${o} = {};`),e.useContextVariables){let s=e.generateVariable();e.pushCode(`${o}.$parent = ${s};`),e.pushCode(`${o}.$root = ${s}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${o}.$parent;`),e.pushCode(`delete ${o}.$root;`))}else if(bt.has(this.options.type)){let s=e.generateTmpVariable();if(e.pushCode(`var ${s} = ${er+this.options.type}(offset, {`),e.useContextVariables){let a=e.generateVariable();e.pushCode(`$parent: ${a},`),e.pushCode(`$root: ${a}.$root,`)}e.pushCode("});"),e.pushCode(`${o} = ${s}.result; offset = ${s}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(Et).indexOf(this.options.type)>=0){let s=ha[n],a=ga[n];e.pushCode(`${o} = dataView.get${s}(offset, ${a});`),e.pushCode(`offset += ${Et[n]};`)}e.pushCode(`offset = ${i};`)}generateSaveOffset(e){let n=e.generateVariable(this.varName);e.pushCode(`${n} = offset`)}};var JC=new pe().endianness("little").array("data",{type:"uint8",lengthInBytes:function(){return this.$parent.size-6}}),eT=new pe().endianness("little").uint8("red").uint8("green").uint8("blue"),tT=new pe().endianness("little").uint8("red").uint8("green").uint8("blue").uint8("alpha"),ma=new pe().endianness("little").uint16("length").string("value",{length:"length"}),vg=new pe().endianness("little").uint16("numberOfPackets").array("packets",{type:new pe().endianness("little").uint8("entriesToSkip").uint8("numberOfColors").array("colors",{type:eT,length:function(){return this.numberOfColors||256}}),length:"numberOfPackets"}),nT=new pe().endianness("little").uint32("size").uint32("firstIndex").uint32("lastIndex").seek(8).array("colors",{type:new pe().endianness("little").uint16("flags").nest("color",{type:tT}).array("name",{type:ma,length:function(){return this.flags===1?1:0}}),length:function(){return this.lastIndex-this.firstIndex+1}}),rT=new pe().endianness("little").uint16("flags").uint16("type").uint16("childLevel").uint16("ignored").uint16("ignored").uint16("blendMode").uint8("opacity").seek(3).nest("name",{type:ma}).array("tilesetIndex",{type:"uint32le",length:function(){return this.type===2?1:0}}),iT=new pe().endianness("little").uint16("linkedFrame"),oT=new pe().endianness("little").uint16("w").uint16("h").array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-26}}),sT=new pe().endianness("little").uint16("w").uint16("h").uint16("bitsPerTile").uint32("tileIdBitmask").uint32("xFlipBitmask").uint32("yFlipBitmask").uint32("diagonalFlipBitmask").seek(10).array("rawCompressed",{type:"uint8",length:function(){return this.$parent.$parent.size-54}}),wu=1,bu=2,aT=3,lT=new pe().endianness("little").uint16("layerIndex").int16("x").int16("y").uint8("opacity").uint16("cellType").int16("zIndex").seek(5).choice("data",{tag:"cellType",choices:{[wu]:iT,[bu]:oT,[aT]:sT}}),cT=new pe().endianness("little").uint16("fromFrame").uint16("toFrame").uint8("loopAnimationDirection").uint16("repeatAnimation").seek(10).nest("tagName",{type:ma}),uT=new pe().endianness("little").uint16("numberOfTags").seek(8).array("tags",{type:cT,length:"numberOfTags"}),dT=new pe().endianness("little").uint32("tilesetId").uint32("tilesetFlags").uint32("numberOfTiles").uint16("tileWidth").uint16("tileHeight").int16("baseIndex").seek(14).nest("name",{type:ma}).array("external",{type:"uint32le",length:function(){return this.tilesetFlags&1?2:0}}).array("internalLength",{type:"uint32le",length:function(){return this.tilesetFlags&2?1:0}}).array("rawCompressed",{type:"uint8",length:function(){return this.tilesetFlags&2?this.internalLength[0]:0}}),fT=new pe().endianness("little").uint32("fileSize").uint16("magicNumber").uint16("frames").uint16("width").uint16("height").uint16("colorDepth").uint32("flags").uint16("DEPRECATED_speed").seek(8).uint8("transparentIndex").seek(3).uint16("numberOfColors").uint8("pixelWidth").uint8("pixelHeight").int16("gridX").int16("gridY").uint16("gridWidth").uint16("gridHeight").seek(84),pT=new pe().endianness("little").uint32("bytesInFrame").uint16("magicNumber").uint16("oldChunks").uint16("frameDuration").seek(2).uint32("chunks"),Jr=8196,Eu=8197,ya=8216,hT=4,gT=17,Cu=8217,Tu=8227,mT=new pe().endianness("little").uint32("size").uint16("chunkType").choice("data",{tag:"chunkType",choices:{[hT]:vg,[gT]:vg,[Jr]:rT,[Eu]:lT,[ya]:uT,[Cu]:nT,[Tu]:dT},defaultChoice:JC}),yT=new pe().endianness("little").nest("header",{type:pT}).array("chunks",{type:mT,length:function(){return this.header.chunks||this.header.oldChunks}}),Ig=new pe().useContextVars().endianness("little").nest("header",{type:fT}).array("frames",{type:yT,length:"header.frames"});function oi(t){let e=t.length;for(;--e>=0;)t[e]=0}var vT=0,im=1,IT=2,wT=3,bT=258,Zu=29,Ro=256,_o=Ro+1+Zu,ni=30,Yu=19,om=2*_o+1,tr=15,xu=16,ET=7,Qu=256,sm=16,am=17,lm=18,Hu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ca=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),CT=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),cm=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TT=512,Yt=new Array((_o+2)*2);oi(Yt);var Co=new Array(ni*2);oi(Co);var So=new Array(TT);oi(So);var Do=new Array(bT-wT+1);oi(Do);var Ku=new Array(Zu);oi(Ku);var Ta=new Array(ni);oi(Ta);function _u(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var um,dm,fm;function Su(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var pm=t=>t<256?So[t]:So[256+(t>>>7)],Mo=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Ue=(t,e,n)=>{t.bi_valid>xu-n?(t.bi_buf|=e<<t.bi_valid&65535,Mo(t,t.bi_buf),t.bi_buf=e>>xu-t.bi_valid,t.bi_valid+=n-xu):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ot=(t,e,n)=>{Ue(t,n[e*2],n[e*2+1])},hm=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},xT=t=>{t.bi_valid===16?(Mo(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},_T=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,l,u,f,d,p,h,C=0;for(d=0;d<=tr;d++)t.bl_count[d]=0;for(n[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<om;l++)u=t.heap[l],d=n[n[u*2+1]*2+1]+1,d>c&&(d=c,C++),n[u*2+1]=d,!(u>r)&&(t.bl_count[d]++,p=0,u>=a&&(p=s[u-a]),h=n[u*2],t.opt_len+=h*(d+p),o&&(t.static_len+=h*(i[u*2+1]+p)));if(C!==0){do{for(d=c-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,C-=2}while(C>0);for(d=c;d!==0;d--)for(u=t.bl_count[d];u!==0;)f=t.heap[--l],!(f>r)&&(n[f*2+1]!==d&&(t.opt_len+=(d-n[f*2+1])*n[f*2],n[f*2+1]=d),u--)}},gm=(t,e,n)=>{let r=new Array(tr+1),i=0,o,s;for(o=1;o<=tr;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=hm(r[a]++,a))}},ST=()=>{let t,e,n,r,i,o=new Array(tr+1);for(n=0,r=0;r<Zu-1;r++)for(Ku[r]=n,t=0;t<1<<Hu[r];t++)Do[n++]=r;for(Do[n-1]=r,i=0,r=0;r<16;r++)for(Ta[r]=i,t=0;t<1<<Ca[r];t++)So[i++]=r;for(i>>=7;r<ni;r++)for(Ta[r]=i<<7,t=0;t<1<<Ca[r]-7;t++)So[256+i++]=r;for(e=0;e<=tr;e++)o[e]=0;for(t=0;t<=143;)Yt[t*2+1]=8,t++,o[8]++;for(;t<=255;)Yt[t*2+1]=9,t++,o[9]++;for(;t<=279;)Yt[t*2+1]=7,t++,o[7]++;for(;t<=287;)Yt[t*2+1]=8,t++,o[8]++;for(gm(Yt,_o+1,o),t=0;t<ni;t++)Co[t*2+1]=5,Co[t*2]=hm(t,5);um=new _u(Yt,Hu,Ro+1,_o,tr),dm=new _u(Co,Ca,0,ni,tr),fm=new _u(new Array(0),CT,0,Yu,ET)},mm=t=>{let e;for(e=0;e<_o;e++)t.dyn_ltree[e*2]=0;for(e=0;e<ni;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Yu;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Qu*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ym=t=>{t.bi_valid>8?Mo(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},wg=(t,e,n,r)=>{let i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},Du=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&wg(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!wg(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},bg=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?Ot(t,i,e):(s=Do[i],Ot(t,s+Ro+1,e),a=Hu[s],a!==0&&(i-=Ku[s],Ue(t,i,a)),r--,s=pm(r),Ot(t,s,n),a=Ca[s],a!==0&&(r-=Ta[s],Ue(t,r,a)));while(o<t.sym_next);Ot(t,Qu,e)},Vu=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c=-1,l;for(t.heap_len=0,t.heap_max=om,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[l*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)Du(t,n,s);l=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Du(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[l*2]=n[s*2]+n[a*2],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=l,t.heap[1]=l++,Du(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_T(t,e),gm(n,c,t.bl_count)},Eg=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)&&(a<l?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[sm*2]++):a<=10?t.bl_tree[am*2]++:t.bl_tree[lm*2]++,a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4))},Cg=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,l=4;for(s===0&&(c=138,l=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)){if(a<l)do Ot(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Ot(t,o,t.bl_tree),a--),Ot(t,sm,t.bl_tree),Ue(t,a-3,2)):a<=10?(Ot(t,am,t.bl_tree),Ue(t,a-3,3)):(Ot(t,lm,t.bl_tree),Ue(t,a-11,7));a=0,i=o,s===0?(c=138,l=3):o===s?(c=6,l=3):(c=7,l=4)}},DT=t=>{let e;for(Eg(t,t.dyn_ltree,t.l_desc.max_code),Eg(t,t.dyn_dtree,t.d_desc.max_code),Vu(t,t.bl_desc),e=Yu-1;e>=3&&t.bl_tree[cm[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},MT=(t,e,n,r)=>{let i;for(Ue(t,e-257,5),Ue(t,n-1,5),Ue(t,r-4,4),i=0;i<r;i++)Ue(t,t.bl_tree[cm[i]*2+1],3);Cg(t,t.dyn_ltree,e-1),Cg(t,t.dyn_dtree,n-1)},NT=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<Ro;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},Tg=!1,AT=t=>{Tg||(ST(),Tg=!0),t.l_desc=new Su(t.dyn_ltree,um),t.d_desc=new Su(t.dyn_dtree,dm),t.bl_desc=new Su(t.bl_tree,fm),t.bi_buf=0,t.bi_valid=0,mm(t)},vm=(t,e,n,r)=>{Ue(t,(vT<<1)+(r?1:0),3),ym(t),Mo(t,n),Mo(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},kT=t=>{Ue(t,im<<1,3),Ot(t,Qu,Yt),xT(t)},PT=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=NT(t)),Vu(t,t.l_desc),Vu(t,t.d_desc),s=DT(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?vm(t,e,n,r):t.strategy===4||o===i?(Ue(t,(im<<1)+(r?1:0),3),bg(t,Yt,Co)):(Ue(t,(IT<<1)+(r?1:0),3),MT(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),bg(t,t.dyn_ltree,t.dyn_dtree)),mm(t),r&&ym(t)},RT=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Do[n]+Ro+1)*2]++,t.dyn_dtree[pm(e)*2]++),t.sym_next===t.sym_end),OT=AT,LT=vm,FT=PT,$T=RT,HT=kT,VT={_tr_init:OT,_tr_stored_block:LT,_tr_flush_block:FT,_tr_tally:$T,_tr_align:HT},jT=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},No=jT,BT=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},UT=new Uint32Array(BT()),WT=(t,e,n,r)=>{let i=UT,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},_e=WT,ir={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},si={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:zT,_tr_stored_block:ju,_tr_flush_block:GT,_tr_tally:In,_tr_align:qT}=VT,{Z_NO_FLUSH:wn,Z_PARTIAL_FLUSH:ZT,Z_FULL_FLUSH:YT,Z_FINISH:ot,Z_BLOCK:xg,Z_OK:Ae,Z_STREAM_END:_g,Z_STREAM_ERROR:Lt,Z_DATA_ERROR:QT,Z_BUF_ERROR:Mu,Z_DEFAULT_COMPRESSION:KT,Z_FILTERED:XT,Z_HUFFMAN_ONLY:va,Z_RLE:JT,Z_FIXED:ex,Z_DEFAULT_STRATEGY:tx,Z_UNKNOWN:nx,Z_DEFLATED:Sa}=si,rx=9,ix=15,ox=8,sx=29,ax=256,Bu=ax+1+sx,lx=30,cx=19,ux=2*Bu+1,dx=15,Q=3,vn=258,Ft=vn+Q+1,fx=32,ri=42,Xu=57,Uu=69,Wu=73,zu=91,Gu=103,nr=113,bo=666,He=1,ai=2,or=3,li=4,px=3,rr=(t,e)=>(t.msg=ir[e],e),Sg=t=>t*2-(t>4?9:0),yn=t=>{let e=t.length;for(;--e>=0;)t[e]=0},hx=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},gx=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,bn=gx,Ye=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Qe=(t,e)=>{GT(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ye(t.strm)},re=(t,e)=>{t.pending_buf[t.pending++]=e},wo=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},qu=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=No(t.adler,e,i,n):t.state.wrap===2&&(t.adler=_e(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Im=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-Ft?t.strstart-(t.w_size-Ft):0,l=t.window,u=t.w_mask,f=t.prev,d=t.strstart+vn,p=l[r+s-1],h=l[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(l[i+s]!==h||l[i+s-1]!==p||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<d);if(o=vn-(d-r),r=d-vn,o>s){if(t.match_start=e,s=o,o>=a)break;p=l[r+s-1],h=l[r+s]}}while((e=f[e&u])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},ii=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ft)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),hx(t),r+=e),t.strm.avail_in===0)break;if(n=qu(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Q)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=bn(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=bn(t,t.ins_h,t.window[i+Q-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Q)););}while(t.lookahead<Ft&&t.strm.avail_in!==0)},wm=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==ot||e===wn||r!==i+t.strm.avail_in)))break;s=e===ot&&r===i+t.strm.avail_in?1:0,ju(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ye(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(qu(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?li:e!==wn&&e!==ot&&t.strm.avail_in===0&&t.strstart===t.block_start?ai:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(qu(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===ot)&&e!==wn&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===ot&&t.strm.avail_in===0&&r===i?1:0,ju(t,t.block_start,r,s),t.block_start+=r,Ye(t.strm)),s?or:He)},Nu=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ft){if(ii(t),t.lookahead<Ft&&e===wn)return He;if(t.lookahead===0)break}if(n=0,t.lookahead>=Q&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ft&&(t.match_length=Im(t,n)),t.match_length>=Q)if(r=In(t,t.strstart-t.match_start,t.match_length-Q),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Q){t.match_length--;do t.strstart++,t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=bn(t,t.ins_h,t.window[t.strstart+1]);else r=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Qe(t,!1),t.strm.avail_out===0))return He}return t.insert=t.strstart<Q-1?t.strstart:Q-1,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:li):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:ai},ei=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ft){if(ii(t),t.lookahead<Ft&&e===wn)return He;if(t.lookahead===0)break}if(n=0,t.lookahead>=Q&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Q-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ft&&(t.match_length=Im(t,n),t.match_length<=5&&(t.strategy===XT||t.match_length===Q&&t.strstart-t.match_start>4096)&&(t.match_length=Q-1)),t.prev_length>=Q&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Q,r=In(t,t.strstart-1-t.prev_match,t.prev_length-Q),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=bn(t,t.ins_h,t.window[t.strstart+Q-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Q-1,t.strstart++,r&&(Qe(t,!1),t.strm.avail_out===0))return He}else if(t.match_available){if(r=In(t,0,t.window[t.strstart-1]),r&&Qe(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return He}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=In(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Q-1?t.strstart:Q-1,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:li):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:ai},mx=(t,e)=>{let n,r,i,o,s=t.window;for(;;){if(t.lookahead<=vn){if(ii(t),t.lookahead<=vn&&e===wn)return He;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Q&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+vn;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=vn-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Q?(n=In(t,1,t.match_length-Q),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Qe(t,!1),t.strm.avail_out===0))return He}return t.insert=0,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:li):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:ai},yx=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(ii(t),t.lookahead===0)){if(e===wn)return He;break}if(t.match_length=0,n=In(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Qe(t,!1),t.strm.avail_out===0))return He}return t.insert=0,e===ot?(Qe(t,!0),t.strm.avail_out===0?or:li):t.sym_next&&(Qe(t,!1),t.strm.avail_out===0)?He:ai};function Rt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var Eo=[new Rt(0,0,0,0,wm),new Rt(4,4,8,4,Nu),new Rt(4,5,16,8,Nu),new Rt(4,6,32,32,Nu),new Rt(4,4,16,16,ei),new Rt(8,16,32,32,ei),new Rt(8,16,128,128,ei),new Rt(8,32,128,256,ei),new Rt(32,128,258,1024,ei),new Rt(32,258,258,4096,ei)],vx=t=>{t.window_size=2*t.w_size,yn(t.head),t.max_lazy_match=Eo[t.level].max_lazy,t.good_match=Eo[t.level].good_length,t.nice_match=Eo[t.level].nice_length,t.max_chain_length=Eo[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Q-1,t.match_available=0,t.ins_h=0};function Ix(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Sa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ux*2),this.dyn_dtree=new Uint16Array((2*lx+1)*2),this.bl_tree=new Uint16Array((2*cx+1)*2),yn(this.dyn_ltree),yn(this.dyn_dtree),yn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(dx+1),this.heap=new Uint16Array(2*Bu+1),yn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Bu+1),yn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Oo=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==ri&&e.status!==Xu&&e.status!==Uu&&e.status!==Wu&&e.status!==zu&&e.status!==Gu&&e.status!==nr&&e.status!==bo?1:0},bm=t=>{if(Oo(t))return rr(t,Lt);t.total_in=t.total_out=0,t.data_type=nx;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Xu:e.wrap?ri:nr,t.adler=e.wrap===2?0:1,e.last_flush=-2,zT(e),Ae},Em=t=>{let e=bm(t);return e===Ae&&vx(t.state),e},wx=(t,e)=>Oo(t)||t.state.wrap!==2?Lt:(t.state.gzhead=e,Ae),Cm=(t,e,n,r,i,o)=>{if(!t)return Lt;let s=1;if(e===KT&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>rx||n!==Sa||r<8||r>15||e<0||e>9||o<0||o>ex||r===8&&s!==1)return rr(t,Lt);r===8&&(r=9);let a=new Ix;return t.state=a,a.strm=t,a.status=ri,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Q-1)/Q),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,Em(t)},bx=(t,e)=>Cm(t,e,Sa,ix,ox,tx),Ex=(t,e)=>{if(Oo(t)||e>xg||e<0)return t?rr(t,Lt):Lt;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===bo&&e!==ot)return rr(t,t.avail_out===0?Mu:Lt);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Ye(t),t.avail_out===0)return n.last_flush=-1,Ae}else if(t.avail_in===0&&Sg(e)<=Sg(r)&&e!==ot)return rr(t,Mu);if(n.status===bo&&t.avail_in!==0)return rr(t,Mu);if(n.status===ri&&n.wrap===0&&(n.status=nr),n.status===ri){let i=Sa+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=va||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=fx),i+=31-i%31,wo(n,i),n.strstart!==0&&(wo(n,t.adler>>>16),wo(n,t.adler&65535)),t.adler=1,n.status=nr,Ye(t),n.pending!==0)return n.last_flush=-1,Ae}if(n.status===Xu){if(t.adler=0,re(n,31),re(n,139),re(n,8),n.gzhead)re(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),re(n,n.gzhead.time&255),re(n,n.gzhead.time>>8&255),re(n,n.gzhead.time>>16&255),re(n,n.gzhead.time>>24&255),re(n,n.level===9?2:n.strategy>=va||n.level<2?4:0),re(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(re(n,n.gzhead.extra.length&255),re(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=_e(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Uu;else if(re(n,0),re(n,0),re(n,0),re(n,0),re(n,0),re(n,n.level===9?2:n.strategy>=va||n.level<2?4:0),re(n,px),n.status=nr,Ye(t),n.pending!==0)return n.last_flush=-1,Ae}if(n.status===Uu){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Ye(t),n.pending!==0)return n.last_flush=-1,Ae;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Wu}if(n.status===Wu){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),Ye(t),n.pending!==0)return n.last_flush=-1,Ae;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,re(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=zu}if(n.status===zu){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i)),Ye(t),n.pending!==0)return n.last_flush=-1,Ae;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,re(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=_e(t.adler,n.pending_buf,n.pending-i,i))}n.status=Gu}if(n.status===Gu){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ye(t),n.pending!==0))return n.last_flush=-1,Ae;re(n,t.adler&255),re(n,t.adler>>8&255),t.adler=0}if(n.status=nr,Ye(t),n.pending!==0)return n.last_flush=-1,Ae}if(t.avail_in!==0||n.lookahead!==0||e!==wn&&n.status!==bo){let i=n.level===0?wm(n,e):n.strategy===va?yx(n,e):n.strategy===JT?mx(n,e):Eo[n.level].func(n,e);if((i===or||i===li)&&(n.status=bo),i===He||i===or)return t.avail_out===0&&(n.last_flush=-1),Ae;if(i===ai&&(e===ZT?qT(n):e!==xg&&(ju(n,0,0,!1),e===YT&&(yn(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ye(t),t.avail_out===0))return n.last_flush=-1,Ae}return e!==ot?Ae:n.wrap<=0?_g:(n.wrap===2?(re(n,t.adler&255),re(n,t.adler>>8&255),re(n,t.adler>>16&255),re(n,t.adler>>24&255),re(n,t.total_in&255),re(n,t.total_in>>8&255),re(n,t.total_in>>16&255),re(n,t.total_in>>24&255)):(wo(n,t.adler>>>16),wo(n,t.adler&65535)),Ye(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ae:_g)},Cx=t=>{if(Oo(t))return Lt;let e=t.state.status;return t.state=null,e===nr?rr(t,QT):Ae},Tx=(t,e)=>{let n=e.length;if(Oo(t))return Lt;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==ri||r.lookahead)return Lt;if(i===1&&(t.adler=No(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(yn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ii(r);r.lookahead>=Q;){let c=r.strstart,l=r.lookahead-(Q-1);do r.ins_h=bn(r,r.ins_h,r.window[c+Q-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--l);r.strstart=c,r.lookahead=Q-1,ii(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Q-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,Ae},xx=bx,_x=Cm,Sx=Em,Dx=bm,Mx=wx,Nx=Ex,Ax=Cx,kx=Tx,Px="pako deflate (from Nodeca project)",To={deflateInit:xx,deflateInit2:_x,deflateReset:Sx,deflateResetKeep:Dx,deflateSetHeader:Mx,deflate:Nx,deflateEnd:Ax,deflateSetDictionary:kx,deflateInfo:Px},Rx=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Ox=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)Rx(n,r)&&(t[r]=n[r])}}return t},Lx=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Da={assign:Ox,flattenChunks:Lx},Tm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Tm=!1}var Ao=new Uint8Array(256);for(let t=0;t<256;t++)Ao[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ao[254]=Ao[254]=1;var Fx=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},$x=(t,e)=>{if(e<65534&&t.subarray&&Tm)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},Hx=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Ao[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return $x(o,i)},Vx=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Ao[t[n]]>e?n:e},ko={string2buf:Fx,buf2string:Hx,utf8border:Vx};function jx(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xm=jx,_m=Object.prototype.toString,{Z_NO_FLUSH:Bx,Z_SYNC_FLUSH:Ux,Z_FULL_FLUSH:Wx,Z_FINISH:zx,Z_OK:xa,Z_STREAM_END:Gx,Z_DEFAULT_COMPRESSION:qx,Z_DEFAULT_STRATEGY:Zx,Z_DEFLATED:Yx}=si;function Lo(t){this.options=Da.assign({level:qx,method:Yx,chunkSize:16384,windowBits:15,memLevel:8,strategy:Zx},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xm,this.strm.avail_out=0;let n=To.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==xa)throw new Error(ir[n]);if(e.header&&To.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=ko.string2buf(e.dictionary):_m.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=To.deflateSetDictionary(this.strm,r),n!==xa)throw new Error(ir[n]);this._dict_set=!0}}Lo.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?zx:Bx,typeof t=="string"?n.input=ko.string2buf(t):_m.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Ux||o===Wx)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=To.deflate(n,o),i===Gx)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=To.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===xa;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Lo.prototype.onData=function(t){this.chunks.push(t)};Lo.prototype.onEnd=function(t){t===xa&&(this.result=Da.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ju(t,e){let n=new Lo(e);if(n.push(t,!0),n.err)throw n.msg||ir[n.err];return n.result}function Qx(t,e){return e=e||{},e.raw=!0,Ju(t,e)}function Kx(t,e){return e=e||{},e.gzip=!0,Ju(t,e)}var Xx=Lo,Jx=Ju,e_=Qx,t_=Kx,n_=si,r_={Deflate:Xx,deflate:Jx,deflateRaw:e_,gzip:t_,constants:n_},Ia=16209,i_=16191,o_=function(e,n){let r,i,o,s,a,c,l,u,f,d,p,h,C,I,b,m,g,v,M,_,w,S,E,x,N=e.state;r=e.next_in,E=e.input,i=r+(e.avail_in-5),o=e.next_out,x=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),c=N.dmax,l=N.wsize,u=N.whave,f=N.wnext,d=N.window,p=N.hold,h=N.bits,C=N.lencode,I=N.distcode,b=(1<<N.lenbits)-1,m=(1<<N.distbits)-1;e:do{h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),g=C[p&b];t:for(;;){if(v=g>>>24,p>>>=v,h-=v,v=g>>>16&255,v===0)x[o++]=g&65535;else if(v&16){M=g&65535,v&=15,v&&(h<v&&(p+=E[r++]<<h,h+=8),M+=p&(1<<v)-1,p>>>=v,h-=v),h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),g=I[p&m];n:for(;;){if(v=g>>>24,p>>>=v,h-=v,v=g>>>16&255,v&16){if(_=g&65535,v&=15,h<v&&(p+=E[r++]<<h,h+=8,h<v&&(p+=E[r++]<<h,h+=8)),_+=p&(1<<v)-1,_>c){e.msg="invalid distance too far back",N.mode=Ia;break e}if(p>>>=v,h-=v,v=o-s,_>v){if(v=_-v,v>u&&N.sane){e.msg="invalid distance too far back",N.mode=Ia;break e}if(w=0,S=d,f===0){if(w+=l-v,v<M){M-=v;do x[o++]=d[w++];while(--v);w=o-_,S=x}}else if(f<v){if(w+=l+f-v,v-=f,v<M){M-=v;do x[o++]=d[w++];while(--v);if(w=0,f<M){v=f,M-=v;do x[o++]=d[w++];while(--v);w=o-_,S=x}}}else if(w+=f-v,v<M){M-=v;do x[o++]=d[w++];while(--v);w=o-_,S=x}for(;M>2;)x[o++]=S[w++],x[o++]=S[w++],x[o++]=S[w++],M-=3;M&&(x[o++]=S[w++],M>1&&(x[o++]=S[w++]))}else{w=o-_;do x[o++]=x[w++],x[o++]=x[w++],x[o++]=x[w++],M-=3;while(M>2);M&&(x[o++]=x[w++],M>1&&(x[o++]=x[w++]))}}else if((v&64)===0){g=I[(g&65535)+(p&(1<<v)-1)];continue n}else{e.msg="invalid distance code",N.mode=Ia;break e}break}}else if((v&64)===0){g=C[(g&65535)+(p&(1<<v)-1)];continue t}else if(v&32){N.mode=i_;break e}else{e.msg="invalid literal/length code",N.mode=Ia;break e}break}}while(r<i&&o<a);M=h>>3,r-=M,h-=M<<3,p&=(1<<h)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),N.hold=p,N.bits=h},ti=15,Dg=852,Mg=592,Ng=0,Au=1,Ag=2,s_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),a_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),u_=(t,e,n,r,i,o,s,a)=>{let c=a.bits,l=0,u=0,f=0,d=0,p=0,h=0,C=0,I=0,b=0,m=0,g,v,M,_,w,S=null,E,x=new Uint16Array(ti+1),N=new Uint16Array(ti+1),$=null,H,Z,de;for(l=0;l<=ti;l++)x[l]=0;for(u=0;u<r;u++)x[e[n+u]]++;for(p=c,d=ti;d>=1&&x[d]===0;d--);if(p>d&&(p=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&x[f]===0;f++);for(p<f&&(p=f),I=1,l=1;l<=ti;l++)if(I<<=1,I-=x[l],I<0)return-1;if(I>0&&(t===Ng||d!==1))return-1;for(N[1]=0,l=1;l<ti;l++)N[l+1]=N[l]+x[l];for(u=0;u<r;u++)e[n+u]!==0&&(s[N[e[n+u]]++]=u);if(t===Ng?(S=$=s,E=20):t===Au?(S=s_,$=a_,E=257):(S=l_,$=c_,E=0),m=0,u=0,l=f,w=o,h=p,C=0,M=-1,b=1<<p,_=b-1,t===Au&&b>Dg||t===Ag&&b>Mg)return 1;for(;;){H=l-C,s[u]+1<E?(Z=0,de=s[u]):s[u]>=E?(Z=$[s[u]-E],de=S[s[u]-E]):(Z=96,de=0),g=1<<l-C,v=1<<h,f=v;do v-=g,i[w+(m>>C)+v]=H<<24|Z<<16|de|0;while(v!==0);for(g=1<<l-1;m&g;)g>>=1;if(g!==0?(m&=g-1,m+=g):m=0,u++,--x[l]===0){if(l===d)break;l=e[n+s[u]]}if(l>p&&(m&_)!==M){for(C===0&&(C=p),w+=f,h=l-C,I=1<<h;h+C<d&&(I-=x[h+C],!(I<=0));)h++,I<<=1;if(b+=1<<h,t===Au&&b>Dg||t===Ag&&b>Mg)return 1;M=m&_,i[M]=p<<24|h<<16|w-o|0}}return m!==0&&(i[w+m]=l-C<<24|64<<16|0),a.bits=p,0},xo=u_,d_=0,Sm=1,Dm=2,{Z_FINISH:kg,Z_BLOCK:f_,Z_TREES:wa,Z_OK:sr,Z_STREAM_END:p_,Z_NEED_DICT:h_,Z_STREAM_ERROR:st,Z_DATA_ERROR:Mm,Z_MEM_ERROR:Nm,Z_BUF_ERROR:g_,Z_DEFLATED:Pg}=si,Ma=16180,Rg=16181,Og=16182,Lg=16183,Fg=16184,$g=16185,Hg=16186,Vg=16187,jg=16188,Bg=16189,_a=16190,Zt=16191,ku=16192,Ug=16193,Pu=16194,Wg=16195,zg=16196,Gg=16197,qg=16198,ba=16199,Ea=16200,Zg=16201,Yg=16202,Qg=16203,Kg=16204,Xg=16205,Ru=16206,Jg=16207,em=16208,he=16209,Am=16210,km=16211,m_=852,y_=592,v_=15,I_=v_,tm=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function w_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ar=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<Ma||e.mode>km?1:0},Pm=t=>{if(ar(t))return st;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ma,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(m_),e.distcode=e.distdyn=new Int32Array(y_),e.sane=1,e.back=-1,sr},Rm=t=>{if(ar(t))return st;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Pm(t)},Om=(t,e)=>{let n;if(ar(t))return st;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?st:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Rm(t))},Lm=(t,e)=>{if(!t)return st;let n=new w_;t.state=n,n.strm=t,n.window=null,n.mode=Ma;let r=Om(t,e);return r!==sr&&(t.state=null),r},b_=t=>Lm(t,I_),nm=!0,Ou,Lu,E_=t=>{if(nm){Ou=new Int32Array(512),Lu=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xo(Sm,t.lens,0,288,Ou,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xo(Dm,t.lens,0,32,Lu,0,t.work,{bits:5}),nm=!1}t.lencode=Ou,t.lenbits=9,t.distcode=Lu,t.distbits=5},Fm=(t,e,n,r)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},C_=(t,e)=>{let n,r,i,o,s,a,c,l,u,f,d,p,h,C,I=0,b,m,g,v,M,_,w,S,E=new Uint8Array(4),x,N,$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ar(t)||!t.output||!t.input&&t.avail_in!==0)return st;n=t.state,n.mode===Zt&&(n.mode=ku),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,u=n.bits,f=a,d=c,S=sr;e:for(;;)switch(n.mode){case Ma:if(n.wrap===0){n.mode=ku;break}for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0),l=0,u=0,n.mode=Rg;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=he;break}if((l&15)!==Pg){t.msg="unknown compression method",n.mode=he;break}if(l>>>=4,u-=4,w=(l&15)+8,n.wbits===0&&(n.wbits=w),w>15||w>n.wbits){t.msg="invalid window size",n.mode=he;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=l&512?Bg:Zt,l=0,u=0;break;case Rg:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==Pg){t.msg="unknown compression method",n.mode=he;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0)),l=0,u=0,n.mode=Og;case Og:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,E[2]=l>>>16&255,E[3]=l>>>24&255,n.check=_e(n.check,E,4,0)),l=0,u=0,n.mode=Lg;case Lg:for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0)),l=0,u=0,n.mode=Fg;case Fg:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(E[0]=l&255,E[1]=l>>>8&255,n.check=_e(n.check,E,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=$g;case $g:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),w)),n.flags&512&&n.wrap&4&&(n.check=_e(n.check,r,p,o)),a-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Hg;case Hg:if(n.flags&2048){if(a===0)break e;p=0;do w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w));while(w&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=_e(n.check,r,p,o)),a-=p,o+=p,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Vg;case Vg:if(n.flags&4096){if(a===0)break e;p=0;do w=r[o+p++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w));while(w&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=_e(n.check,r,p,o)),a-=p,o+=p,w)break e}else n.head&&(n.head.comment=null);n.mode=jg;case jg:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){t.msg="header crc mismatch",n.mode=he;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Zt;break;case Bg:for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}t.adler=n.check=tm(l),l=0,u=0,n.mode=_a;case _a:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,h_;t.adler=n.check=1,n.mode=Zt;case Zt:if(e===f_||e===wa)break e;case ku:if(n.last){l>>>=u&7,u-=u&7,n.mode=Ru;break}for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=Ug;break;case 1:if(E_(n),n.mode=ba,e===wa){l>>>=2,u-=2;break e}break;case 2:n.mode=zg;break;case 3:t.msg="invalid block type",n.mode=he}l>>>=2,u-=2;break;case Ug:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=he;break}if(n.length=l&65535,l=0,u=0,n.mode=Pu,e===wa)break e;case Pu:n.mode=Wg;case Wg:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break e;i.set(r.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=Zt;break;case zg:for(;u<14;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=Gg;case Gg:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.lens[$[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},S=xo(d_,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,S){t.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=qg;case qg:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[l&(1<<n.lenbits)-1],b=I>>>24,m=I>>>16&255,g=I&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(g<16)l>>>=b,u-=b,n.lens[n.have++]=g;else{if(g===16){for(N=b+2;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(l>>>=b,u-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=he;break}w=n.lens[n.have-1],p=3+(l&3),l>>>=2,u-=2}else if(g===17){for(N=b+3;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,w=0,p=3+(l&7),l>>>=3,u-=3}else{for(N=b+7;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,w=0,p=11+(l&127),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=he;break}for(;p--;)n.lens[n.have++]=w}}if(n.mode===he)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,x={bits:n.lenbits},S=xo(Sm,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,S){t.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},S=xo(Dm,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,S){t.msg="invalid distances set",n.mode=he;break}if(n.mode=ba,e===wa)break e;case ba:n.mode=Ea;case Ea:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,o_(t,d),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,l=n.hold,u=n.bits,n.mode===Zt&&(n.back=-1);break}for(n.back=0;I=n.lencode[l&(1<<n.lenbits)-1],b=I>>>24,m=I>>>16&255,g=I&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(m&&(m&240)===0){for(v=b,M=m,_=g;I=n.lencode[_+((l&(1<<v+M)-1)>>v)],b=I>>>24,m=I>>>16&255,g=I&65535,!(v+b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=v,u-=v,n.back+=v}if(l>>>=b,u-=b,n.back+=b,n.length=g,m===0){n.mode=Xg;break}if(m&32){n.back=-1,n.mode=Zt;break}if(m&64){t.msg="invalid literal/length code",n.mode=he;break}n.extra=m&15,n.mode=Zg;case Zg:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Yg;case Yg:for(;I=n.distcode[l&(1<<n.distbits)-1],b=I>>>24,m=I>>>16&255,g=I&65535,!(b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if((m&240)===0){for(v=b,M=m,_=g;I=n.distcode[_+((l&(1<<v+M)-1)>>v)],b=I>>>24,m=I>>>16&255,g=I&65535,!(v+b<=u);){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}l>>>=v,u-=v,n.back+=v}if(l>>>=b,u-=b,n.back+=b,m&64){t.msg="invalid distance code",n.mode=he;break}n.offset=g,n.extra=m&15,n.mode=Qg;case Qg:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=he;break}n.mode=Kg;case Kg:if(c===0)break e;if(p=d-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=he;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),C=n.window}else C=i,h=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[s++]=C[h++];while(--p);n.length===0&&(n.mode=Ea);break;case Xg:if(c===0)break e;i[s++]=n.length,c--,n.mode=Ea;break;case Ru:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=r[o++]<<u,u+=8}if(d-=c,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?_e(n.check,i,d,s-d):No(n.check,i,d,s-d)),d=c,n.wrap&4&&(n.flags?l:tm(l))!==n.check){t.msg="incorrect data check",n.mode=he;break}l=0,u=0}n.mode=Jg;case Jg:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=r[o++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=he;break}l=0,u=0}n.mode=em;case em:S=p_;break e;case he:S=Mm;break e;case Am:return Nm;case km:default:return st}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<he&&(n.mode<Ru||e!==kg))&&Fm(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?_e(n.check,i,d,t.next_out-d):No(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Zt?128:0)+(n.mode===ba||n.mode===Pu?256:0),(f===0&&d===0||e===kg)&&S===sr&&(S=g_),S},T_=t=>{if(ar(t))return st;let e=t.state;return e.window&&(e.window=null),t.state=null,sr},x_=(t,e)=>{if(ar(t))return st;let n=t.state;return(n.wrap&2)===0?st:(n.head=e,e.done=!1,sr)},__=(t,e)=>{let n=e.length,r,i,o;return ar(t)||(r=t.state,r.wrap!==0&&r.mode!==_a)?st:r.mode===_a&&(i=1,i=No(i,e,n,0),i!==r.check)?Mm:(o=Fm(t,e,n,n),o?(r.mode=Am,Nm):(r.havedict=1,sr))},S_=Rm,D_=Om,M_=Pm,N_=b_,A_=Lm,k_=C_,P_=T_,R_=x_,O_=__,L_="pako inflate (from Nodeca project)",Qt={inflateReset:S_,inflateReset2:D_,inflateResetKeep:M_,inflateInit:N_,inflateInit2:A_,inflate:k_,inflateEnd:P_,inflateGetHeader:R_,inflateSetDictionary:O_,inflateInfo:L_};function F_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $_=F_,$m=Object.prototype.toString,{Z_NO_FLUSH:H_,Z_FINISH:V_,Z_OK:Po,Z_STREAM_END:Fu,Z_NEED_DICT:$u,Z_STREAM_ERROR:j_,Z_DATA_ERROR:rm,Z_MEM_ERROR:B_}=si;function Fo(t){this.options=Da.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xm,this.strm.avail_out=0;let n=Qt.inflateInit2(this.strm,e.windowBits);if(n!==Po)throw new Error(ir[n]);if(this.header=new $_,Qt.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ko.string2buf(e.dictionary):$m.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Qt.inflateSetDictionary(this.strm,e.dictionary),n!==Po)))throw new Error(ir[n])}Fo.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?V_:H_,$m.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Qt.inflate(n,s),o===$u&&i&&(o=Qt.inflateSetDictionary(n,i),o===Po?o=Qt.inflate(n,s):o===rm&&(o=$u));n.avail_in>0&&o===Fu&&n.state.wrap>0&&t[n.next_in]!==0;)Qt.inflateReset(n),o=Qt.inflate(n,s);switch(o){case j_:case rm:case $u:case B_:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Fu))if(this.options.to==="string"){let c=ko.utf8border(n.output,n.next_out),l=n.next_out-c,u=ko.buf2string(n.output,c);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Po&&a===0)){if(o===Fu)return o=Qt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Fo.prototype.onData=function(t){this.chunks.push(t)};Fo.prototype.onEnd=function(t){t===Po&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Da.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function ed(t,e){let n=new Fo(e);if(n.push(t),n.err)throw n.msg||ir[n.err];return n.result}function U_(t,e){return e=e||{},e.raw=!0,ed(t,e)}var W_=Fo,z_=ed,G_=U_,q_=ed,Z_=si,Y_={Inflate:W_,inflate:z_,inflateRaw:G_,ungzip:q_,constants:Z_},{Deflate:cj,deflate:uj,deflateRaw:dj,gzip:fj}=r_,{Inflate:pj,inflate:Q_,inflateRaw:hj,ungzip:gj}=Y_;var Na=Q_;var td=class{data=new Map;get(e){return this.data.get(e)}set(e,n){this.data.set(e,n)}rawDataToRGBA(e,n,r){if(n===16){let i=e.byteLength/2*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4)*2;o[s+0]=e[a+0],o[s+1]=e[a+0],o[s+2]=e[a+0],o[s+3]=e[a+1]}return o}else if(n===8){let i=e.byteLength*4,o=new Uint8Array(i);for(let s=0;s<i;s+=4){let a=Math.floor(s/4),c=[255,255,255,0];e[a]!==r&&(c=this.get(e[a])??[255,255,255,0]),o[s+0]=c[0],o[s+1]=c[1],o[s+2]=c[2],o[s+3]=Math.ceil(c[3]*255)}return o}return e}},lr=class{constructor(e){this.loader=e}getColorPallette(e){let n=new td,r=this.loader.findFrameChunk(e,Cu);if(r){let i=r.firstIndex;for(let o of r.colors)n.set(i,[o.color.red,o.color.green,o.color.blue,o.color.alpha]),i++}return n}};var cr=class{constructor(e){this.loader=e;this.collorPalletteLoader=new lr(e)}frameCache=new wt;collorPalletteLoader;getFrame(e){return Y(this,null,function*(){return this.frameCache.get(e.toString(10),()=>Y(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.data.frames[e],r=this.getDrawContext(),i=this.collorPalletteLoader.getColorPallette(0),o=this.loader.findFrameChunks(0,Jr),s=this.loader.findFrameChunks(e,Eu);for(let l of s)if(l.cellType===wu){let u=yield this.getFrame(l.data.linkedFrame),f=o[l.layerIndex];(f.flags&1)===1&&!this.loader.ignoredLayerNames.includes(f.name.value)&&(r.save(),r.drawImage(u.texture.data,0,0),r.restore())}else if(l.cellType===bu){let u=o[l.layerIndex];if((u.flags&1)===1&&!this.loader.ignoredLayerNames.includes(u.name.value)){let f=l.data,d=f.rawCompressed,p=Na(new Uint8Array(d)),h=i.rawDataToRGBA(p,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),C=new ImageData(new Uint8ClampedArray(h),f.w,f.h),I=yield createImageBitmap(C);r.save(),r.globalAlpha=l.opacity/255*(u?.opacity??255)/255,r.drawImage(I,l.x,l.y),r.restore()}}let a=r.getImageData(0,0,this.loader.data.header.width,this.loader.data.header.height),c=yield createImageBitmap(a);return{texture:Ze.fromImageBitmap(c),duration:n.header.frameDuration}}))})}getFrames(e,n){return Y(this,null,function*(){let r=[];for(let i=e;i<=n;i++)r.push(yield this.getFrame(i));return r})}getDrawContext(){let n=new OffscreenCanvas(this.loader.data?.header.width||0,this.loader.data?.header.height||0).getContext("2d");if(!n)throw new Error("Could not obtain OffscreenCanvas 2D Context for processing Aseprite!");return n.imageSmoothingEnabled=!1,n}};var $o=class{constructor(e){this.loader=e;this.frameLoader=new cr(e)}animationCache=new wt;frameLoader;getAnimationNames(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let e=this.loader.findFrameChunk(0,ya);return e?e.tags.map(n=>n.tagName.value):[]}getAnimation(e){return Y(this,null,function*(){return this.animationCache.get(e,()=>Y(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let n=this.loader.findFrameChunk(0,ya);if(!n)throw Error("Aseprite file has no tags!");let r=n.tags.find(o=>o.tagName.value===e);if(!r)throw Error(`Animation with name ${e} not found !`);let i=yield this.frameLoader.getFrames(r.fromFrame,r.toFrame);return{duration:i.map(o=>o.duration).reduce((o,s)=>o+s,0),frames:i,direction:r.loopAnimationDirection,repeat:r.repeatAnimation<=2?r.repeatAnimation:3,repeatTimes:r.repeatAnimation<=2?0:r.repeatAnimation}}))})}};var Ho=class t{static asepriteCache=new wt;data;ignoredLayerNames=[];static load(e){return Y(this,null,function*(){return t.asepriteCache.get(e,()=>Y(null,null,function*(){let n=new t,i=yield(yield fetch(e)).arrayBuffer();if(n.data=Ig.parse(new Uint8Array(i)),n.data.header.magicNumber!==42464)throw Error("Invalid Aseprite file header magic number!");return n}))})}findFrameChunks(e,n){if(!this.data)throw new Error("Aseprite file not loaded!");return this.data.frames[e].chunks.filter(o=>o.chunkType===n).map(o=>o.data)}findFrameChunk(e,n){let r=this.findFrameChunks(e,n);if(r.length===1)return r[0];if(r.length===0)return;throw new Error(`Multiple Chunks of type ${n} found!`)}};var Vo=class{constructor(e){this.loader=e;this.collorPalletteLoader=new lr(e)}tilemapCache=new wt;collorPalletteLoader;getTilemapNames(e=0){if(!this.loader.data)throw new Error("Aseprite file not loaded!");return this.loader.findFrameChunks(e,Jr).filter(r=>!(!r.tilesetIndex||r.tilesetIndex.length!==1)).map(r=>r.name.value)}getTilemap(e,n=0){return Y(this,null,function*(){return this.tilemapCache.get(`${e}-${n}`,()=>Y(this,null,function*(){if(!this.loader.data)throw new Error("Aseprite file not loaded!");let r=this.loader.findFrameChunks(n,Tu),o=this.loader.findFrameChunks(n,Jr).find(d=>d.name.value===e);if(!o)throw new Error(`Tilemap Layer with name ${e} not found!`);if(!o.tilesetIndex||o.tilesetIndex.length!==1)throw new Error(`Layer with name ${e} is not a Tilemap!`);let s=r[o.tilesetIndex[0]],a=this.collorPalletteLoader.getColorPallette(n),c=Na(new Uint8Array(s.rawCompressed)),l=a.rawDataToRGBA(c,this.loader.data.header.colorDepth,this.loader.data.header.transparentIndex),u=s.tileWidth*s.tileHeight*4,f=new Map;for(let d=0;d<s.numberOfTiles;d+=1){let p=s.baseIndex+d-1,h=l.slice(d*u,(d+1)*u),C=new ImageData(new Uint8ClampedArray(h),s.tileWidth,s.tileHeight),I=yield createImageBitmap(C);f.set(p,Ze.fromImageBitmap(I))}return f}))})}};var ur=class t{constructor(e){this.loader=e;this.frameLoader=new cr(e),this.animationLoader=new $o(e),this.tilemapLoader=new Vo(e)}frameLoader;animationLoader;tilemapLoader;static load(e){return Y(this,null,function*(){return new t(yield Ho.load(e))})}ignoreLayers(e){this.loader.ignoredLayerNames=e}getFrame(e){return Y(this,null,function*(){return this.frameLoader.getFrame(e)})}getFrames(e,n){return Y(this,null,function*(){return this.frameLoader.getFrames(e,n)})}getAnimationNames(){return this.animationLoader.getAnimationNames()}getAnimation(e){return Y(this,null,function*(){return this.animationLoader.getAnimation(e)})}getTilemapNames(e=0){return this.tilemapLoader.getTilemapNames(e)}getTilemap(e,n=0){return Y(this,null,function*(){return this.tilemapLoader.getTilemap(e,n)})}};var dr=class{constructor(e,n,r){this.asset=e;this.tileset=n;this.tileId=r}toObject(){return{asset:this.asset,tileset:this.tileset,tileId:this.tileId}}};var fr=class{constructor(e,n){this.asset=e;this.animationName=n}toObject(){return{asset:this.asset,animationName:this.animationName}}};var pr=class{assets={};chars={};init(e,n,r){return Y(this,null,function*(){let i=Object.keys(e).length,o=n?Object.keys(n).length:0,s=i+o,a=0;for(let c in e){let l=e[c];a++,r?.({current:a,total:s,percentage:a/s*100,currentFile:c});let u=yield ur.load(l.path);u.ignoreLayers(["Grid"]),this.assets[c]={tilemaps:{},animations:{}};for(let f of u.getTilemapNames())this.assets[c].tilemaps[f]=yield u.getTilemap(f);for(let f of u.getAnimationNames())this.assets[c].animations[f]=yield u.getAnimation(f)}if(n)for(let c in n){let l=n[c].path;a++,r?.({current:a,total:s,percentage:a/s*100,currentFile:c});let u=yield ur.load(l);u.ignoreLayers(["Grid"]);let f=yield u.getTilemap(c);this.chars[c]={};for(let d in n[c].map)this.chars[c][d]=f.get(n[c].map[d]);this.chars[c].__unknown__=f.get(n[c].map.__unknown__)}})}};var ae=class extends V{_meta;_texture=Ze.empty();constructor(e,n,r){super(n,r),e&&(this.texture=e)}get texture(){return this._texture}set texture(e){this._texture=e}get width(){return this._texture.width}get height(){return this._texture.height}withMeta(e){this._meta=e}getMeta(){return this._meta}};var We=class t extends V{constructor(n,r,i=[]){super(r,i);this._animation=n;this.frameIndex=0,this.previousTime=0,this._frames=n.frames,n.direction===1&&(this._frames=this._frames.reverse()),this.animationRepeatIndex=n.repeatTimes,this.on(at,this.onTick.bind(this))}_meta;flipH=!1;flipV=!1;_frames=[];frameIndex;animationRepeatIndex;stopped=!1;previousTime;animationSpeed=1;get animation(){return this._animation}get currentFrame(){return this._frames[this.frameIndex]}static empty(){return new t({duration:0,frames:[],direction:0,repeat:0,repeatTimes:0})}onTick(n){if(this.stopped)return;this.previousTime===0&&(this.previousTime=n.currentTime);let r=(n.currentTime-this.previousTime)*this.animationSpeed,i=this._frames[this.frameIndex];if(!i)return;let o=0;for(;r>=i.duration;)r-=i.duration,this.advanceFrame(),i=this._frames[this.frameIndex],o+=1,o>10&&(r=0);o>0&&(this.previousTime=n.currentTime)}play(){this.stopped=!1,this._animation.repeat===0?this.frameIndex=0:this._animation.repeat===3&&(this.frameIndex=0,this.animationRepeatIndex=this._animation.repeatTimes)}stop(){this.stopped=!0,this.previousTime=0}advanceFrame(){if(this.frameIndex+=1,this.frameIndex>=this._frames.length)if(this._animation.repeat===0)this.frameIndex=0;else if(this._animation.repeat===3){if(this.frameIndex=0,this.animationRepeatIndex-=1,this.animationRepeatIndex===0){this.stop();return}}else{this.stop();return}}get width(){return this._frames[0].texture.width}get height(){return this._frames[0].texture.height}get animationDuration(){return this._animation.duration}withMeta(n){this._meta=n}getMeta(){return this._meta}};var ci=class t extends V{constructor(n){super();this._numLayers=n;for(let r=0;r<n;r+=1)this.addChild(new V)}getLayer(n){return this.children.at(n)}get numLayers(){return this._numLayers}get width(){let n=0,r=this.position;for(let i=0;i<this._numLayers;i+=1){let o=this.children[i];if(o){for(let s of o.children)if(s instanceof V){let l=s.position.x-r.x+s.width;l>n&&(n=l)}}}return n}get height(){let n=0,r=this.position;for(let i=0;i<this._numLayers;i+=1){let o=this.children[i];if(o){for(let s of o.children)if(s instanceof V){let l=s.position.y-r.y+s.height;l>n&&(n=l)}}}return n}toObject(){let n={numLayers:this._numLayers,layers:[]};for(let r=0;r<this._numLayers;r+=1){let i=[];for(let o of this.children[r].children)if(o instanceof We){let s=o.getMeta();s instanceof fr&&i.push({type:"animated",position:{x:o.position.x,y:o.position.y},animation:s.toObject(),animationSpeed:o.animationSpeed})}else if(o instanceof ae){let s=o.getMeta();s instanceof dr&&i.push({type:"static",position:{x:o.position.x,y:o.position.y},texture:s.toObject()})}n.layers.push(i)}return n}clear(n){this.removeAllChildren(),this._numLayers=n;for(let r=0;r<this._numLayers;r+=1)this.addChild(new V)}static fromData(n){let r=new t(n.numLayers),i=ie.get("assets");for(let o=0;o<n.layers.length;o+=1){let s=n.layers[o];for(let a of s)if(a.type==="animated"){let c=i[a.animation.asset].animations[a.animation.animationName],l=new We(c,new y(a.position.x,a.position.y));l.animationSpeed=a.animationSpeed??1,l.withMeta(new fr(a.animation.asset,a.animation.animationName)),r.getLayer(o)?.addChild(l)}else if(a.type==="static"){let c=i[a.texture.asset].tilemaps[a.texture.tileset].get(a.texture.tileId),l=new ae(c,new y(a.position.x,a.position.y));l.withMeta(new dr(a.texture.asset,a.texture.tileset,a.texture.tileId)),r.getLayer(o)?.addChild(l)}}return r}};var at=class extends ye{constructor(n){super();this.currentTime=n;super.target=null}};var nd=class{pool=new Map;maxCanvasesPerSize=10;getCanvas(e,n,r="default"){let i=`${e}x${n}:${r}`,o=this.pool.get(i);o||(o=[],this.pool.set(i,o));for(let l of o)if(!l.inUse){l.inUse=!0,l.lastPurpose=r;let u=l.context;switch(r){case"fill-color":case"result":u.clearRect(0,0,e,n);break;case"mask":u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.clearRect(0,0,e,n);break;case"clip":u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,e,n);break;case"default":default:u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.clearRect(0,0,e,n);break}return{canvas:l.canvas,context:l.context}}let s=new OffscreenCanvas(e,n),a=s.getContext("2d");if(!a)throw new Error("Failed to get 2D context for temporary canvas");a.imageSmoothingEnabled=!1;let c={canvas:s,context:a,inUse:!0,lastPurpose:r};return o.length<this.maxCanvasesPerSize&&o.push(c),{canvas:s,context:a}}releaseCanvas(e){for(let n of this.pool.values())for(let r of n)if(r.canvas===e){r.inUse=!1;return}}releaseAll(){for(let e of this.pool.values())for(let n of e)n.inUse=!1}resetCanvas(e,n,r){e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n,r),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.imageSmoothingEnabled=!1,e.fillStyle="#000000",e.strokeStyle="#000000",e.lineWidth=1}getStats(){let e=0,n=0;for(let r of this.pool.values())e+=r.length,n+=r.filter(i=>i.inUse).length;return{totalCanvases:e,inUse:n,available:e-n}}},rd=new nd;var id=class{cache=new Map;maxCacheSize=100;maxAge=5e3;get(e){let n=this.cache.get(e);return n?(n.hitCount++,n.timestamp=performance.now(),n.canvas):null}set(e,n,r,i){this.cache.size>=this.maxCacheSize&&this.evictLRU();let o=new OffscreenCanvas(r,i),s=o.getContext("2d");if(!s)throw new Error("Failed to create cache canvas context");s.imageSmoothingEnabled=!1,s.drawImage(n,0,0),this.cache.set(e,{canvas:o,context:s,timestamp:performance.now(),hitCount:0})}invalidate(e){this.cache.delete(e)}clear(){this.cache.clear()}evictLRU(){let e=null,n=1/0,r=1/0;for(let[i,o]of this.cache){let s=performance.now()-o.timestamp;if(s>this.maxAge){this.cache.delete(i);return}s/(o.hitCount+1)>n/(r+1)&&(e=i,n=s,r=o.hitCount)}e&&this.cache.delete(e)}static generateKey(e,n,r,...i){return`${e}:${n}x${r}:${i.join(":")}`}renderAndCache(e,n,r,i){let o=this.get(e);if(o)return o;this.set(e,i,n,r);let s=this.cache.get(e);if(!s)throw new Error("Failed to retrieve newly cached canvas");return s.canvas}getStats(){let e=0,n=0,r=performance.now();for(let i of this.cache.values())e+=i.hitCount,n+=r-i.timestamp;return{size:this.cache.size,totalHits:e,averageAge:this.cache.size>0?n/this.cache.size:0}}},Aa=new id;var ui=class{constructor(e,n){this.zoom=n;this.workLoop=new fn(this.render.bind(this)),this.canvas=e,this.canvas.style.display="block",this.canvas.style.imageRendering="pixelated";let r=this.canvas.getContext("2d");if(!r)throw new Error("CanvasRenderingContext2D could not be obtained!");this.context=r,this.context.imageSmoothingEnabled=!1}canvas;context;rootElement;workLoop;renderCount=0;cacheHitCount=0;prevRenderCount=0;prevCacheHitCount=0;setViewport(e){this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.style.width=e.width*this.zoom+"px",this.canvas.style.height=e.height*this.zoom+"px"}setZoom(e){this.zoom=e}getElement(){return this.canvas}globalToLocalPoint(e){let n=e.x,r=e.y,i=this.canvas.getBoundingClientRect();return n-=i.left,r-=i.top,new y(Math.round(n/this.zoom),Math.round(r/this.zoom))}localToGlobalPoint(e){return new y(e.x*this.zoom,e.y*this.zoom)}setRootElement(e){this.rootElement=e}start(e){this.workLoop.start(e)}getRenderStats(){return{renderCount:this.prevRenderCount,cacheHitCount:this.prevCacheHitCount}}hasCanvasItemClipMask(e){return e?(Array.isArray(e)?e:[e]).some(r=>mn(r)):!1}createTempCanvas(e,n,r){return rd.getCanvas(e,n,r)}applyRectangleClips(e,n){if(!n)return;let i=(Array.isArray(n)?n:[n]).filter(o=>!mn(o));if(i.length>0){e.beginPath();for(let o of i)e.rect(o.x,o.y,o.width,o.height);e.clip()}}applyRectangleClipsToCanvas(e,n,r,i){if(!n)return e;let s=(Array.isArray(n)?n:[n]).filter(l=>!mn(l));if(s.length===0)return e;let a=new OffscreenCanvas(r,i),c=a.getContext("2d");if(!c)throw new Error("Failed to get 2D context for rectangle clip canvas");c.imageSmoothingEnabled=!1,c.save(),c.beginPath();for(let l of s)c.rect(l.x,l.y,l.width,l.height);return c.clip(),c.drawImage(e,0,0),c.restore(),a}applyCanvasItemClipMasks(e,n,r){if(!n||!this.hasCanvasItemClipMask(n))return e;let o=(Array.isArray(n)?n:[n]).filter(u=>mn(u));if(o.length===0)return e;let{canvas:s,context:a}=this.createTempCanvas(r.width,r.height,"mask");a.save(),a.translate(-r.x,-r.y);for(let u of o)mn(u)&&this.renderCanvasItem(a,u.item,!0);a.restore();let c=new OffscreenCanvas(r.width,r.height),l=c.getContext("2d");if(!l)throw new Error("Failed to get 2D context for clip mask result canvas");return l.imageSmoothingEnabled=!1,l.drawImage(e,0,0),l.globalCompositeOperation="destination-in",l.drawImage(s,0,0),c}renderCanvasItem(e,n,r=!1){if(n.isVisible&&(this.renderCount++,n instanceof We?this.drawAnimatedSprite(e,n):n instanceof ae?this.drawSprite(e,n):n.draw(e),r)){let i=ee.childrenByType(it,n,!1);for(let o of i)this.renderCanvasItem(e,o,r)}}renderCachedItem(e,n,r){let i=Aa.get(r);if(i){this.cacheHitCount++,e.save(),n.opacity<1&&(e.globalAlpha=n.opacity),e.drawImage(i,Math.floor(n.position.x),Math.floor(n.position.y)),e.restore();return}let o=n.width,s=n.height,{canvas:a,context:c}=this.createTempCanvas(o,s,"cache"),l=n.ownPosition.clone(),u=ee.parentByType(V,n),f=u?u.position:new y(0,0);n.position=new y(0,0).sub(f),this.renderCanvasItem(c,n,!0),n.position=l,Aa.set(r,a,o,s),e.save(),n.opacity<1&&(e.globalAlpha=n.opacity),e.drawImage(a,Math.floor(n.position.x),Math.floor(n.position.y)),e.restore(),this.renderCount++}applyFillColorToTexture(e,n,r,i){if(!i)return null;let o=new OffscreenCanvas(n,r),s=o.getContext("2d");if(!s)throw new Error("Failed to get 2D context for fill color canvas");return s.imageSmoothingEnabled=!1,s.drawImage(e,0,0),s.globalCompositeOperation="source-in",s.fillStyle=i,s.fillRect(0,0,n,r),o}drawTextureWithTransforms(e,n,r,i,o,s,a,c,l=!1,u=!1,f=new y(1,1)){if(this.hasCanvasItemClipMask(c)){let{canvas:p,context:h}=this.createTempCanvas(i,o),I=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let v=l?-1:1,M=u?-1:1;h.scale(v,M),h.drawImage(I,v*0,0,v*i,o)}else h.drawImage(I,0,0);let b=this.applyCanvasItemClipMasks(p,c,{x:Math.floor(r.x),y:Math.floor(r.y),width:i,height:o}),m=i*f.x,g=o*f.y;e.save(),this.applyRectangleClips(e,c),s<1&&(e.globalAlpha=s),e.drawImage(b,Math.floor(r.x),Math.floor(r.y),m,g),e.restore()}else if((c?Array.isArray(c)?c:[c]:[]).filter(I=>!mn(I)).length>0){let{canvas:I,context:b}=this.createTempCanvas(i,o),g=this.applyFillColorToTexture(n,i,o,a)||n;if(l||u){let w=l?-1:1,S=u?-1:1;b.scale(w,S),b.drawImage(g,w*0,0,w*i,o)}else b.drawImage(g,0,0);let v=this.applyRectangleClipsToCanvas(I,c,i,o),M=i*f.x,_=o*f.y;e.save(),s<1&&(e.globalAlpha=s),e.drawImage(v,Math.floor(r.x),Math.floor(r.y),M,_),e.restore()}else{e.save(),s<1&&(e.globalAlpha=s);let b=this.applyFillColorToTexture(n,i,o,a)||n,m=i*f.x,g=o*f.y;if(l||u){let v=l?-1:1,M=u?-1:1;e.translate(Math.floor(r.x),Math.floor(r.y)),e.scale(v,M),e.drawImage(b,0,0,v*m,M*g)}else e.drawImage(b,Math.floor(r.x),Math.floor(r.y),m,g);e.restore()}}drawSprite(e,n){let r=n.texture;this.drawTextureWithTransforms(e,r.data,n.position,r.width,r.height,n.opacity,n.fillColor,n.clipRegion,!1,!1,n.scale)}drawAnimatedSprite(e,n){let r=n.currentFrame;if(!r)return;let i=r.texture;this.drawTextureWithTransforms(e,i.data,n.position,i.width,i.height,n.opacity,n.fillColor,n.clipRegion,n.flipH,n.flipV,n.scale)}render(e){if(this.prevRenderCount=this.renderCount,this.prevCacheHitCount=this.cacheHitCount,this.renderCount=0,this.cacheHitCount=0,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),!!this.rootElement){this.rootElement.dispatchEvent(new at(e));for(let n of ee.childrenByType(it,this.rootElement,!0,!0))if(n.isVisible){if(n instanceof V){if(this.itemHasCachedParent(n))continue;let r=n.cacheable?n.cacheKey:void 0;if(r){this.renderCachedItem(this.context,n,r);continue}}this.renderCanvasItem(this.context,n,!1)}rd.releaseAll()}}itemHasCachedParent(e){let n=ee.parentByType(V,e);return n?n.cacheable&&n.cacheKey&&Aa.get(n.cacheKey)?!0:this.itemHasCachedParent(n):!1}};var lt=class extends ye{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var Oe=class extends V{sim;_colliderDimensions;_colliderOffset;_filterCollision;constructor(e){super(e)}get dimensions(){let e=this.width,n=this.height;for(let r of ee.childrenByType(V,this))e=Math.max(e,r.width),n=Math.max(n,r.height);return new y(e,n)}get collider(){let e=this._colliderOffset||new y(0,0),n=this._colliderDimensions||this.dimensions;return{position:this.position.add(e),dimensions:n}}set filterCollisionFn(e){this._filterCollision=e}setColliderOffset(e){this._colliderOffset=e}setColliderDimensions(e){this._colliderDimensions=e}attachToSimulation(e){this.sim=e}filterCollision(e){return this._filterCollision?this._filterCollision(e):!0}};var Kt=class extends ye{constructor(n,r,i){super();this.currentTime=n;this.deltaTime=r;this.simulation=i;super.target=null}};var Hm=1e3,Ct=class extends Oe{_impulse=new y(0,0);_sleeping=!1;_canSleep=!0;_sleepDelay=Hm;avgVelAcc=[new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0),new y(0,0)];constructor(e){super(e),this.on(lt,n=>{this.sim&&!this._sleeping&&(this.applyDrag(),this.applyImpulse(this.velocityDelta(this.sim.gravity,n.deltaTime),n.deltaTime,!1))}),this.on(Kt,n=>{if(this._sleeping)return;Math.abs(this._impulse.x)<1&&(this._impulse=new y(0,this._impulse.y)),Math.abs(this._impulse.y)<1&&(this._impulse=new y(this._impulse.x,0));let r=new y(0,0);if(this._impulse.x!==0||this._impulse.y!==0){let i=this.velocityDelta(this._impulse,n.deltaTime),o=this.checkHit(this._impulse,n.deltaTime);this._impulse.normal.x!==0&&(o.x?(this.position=this.position.add(new y(o.x.distance,0)),this._impulse.x=0,r.x+=o.x.distance):(this.position=this.position.add(new y(i.x,0)),this._impulse.x-=i.x,r.x+=i.x)),this._impulse.normal.y!==0&&(o.y?(this.position=this.position.add(new y(0,o.y.distance)),this._impulse.y=0,r.y+=o.y.distance):(this.position=this.position.add(new y(0,i.y)),this._impulse.y-=i.y,r.y+=i.y))}if(this.avgVelAcc.pop(),this.avgVelAcc.unshift(r),this.canSleep){let i=this.avgVelocity(9);i.x===0&&i.y===0&&(this._sleepDelay<=0?this._sleeping=!0:this._sleepDelay-=n.deltaTime)}})}applyDrag(e=.85){this._impulse.x*=e}applyImpulse(e,n,r=!0){r&&this.wakeUp();let i=this._impulse.add(e),o=this.checkHit(i,n);e.normal.x!==0&&!o.x&&(this._impulse.x=i.x),e.normal.y!==0&&!o.y&&(this._impulse.y=i.y)}velocityDelta(e,n){let r=e.mul(n/1e3);return new y(Math.abs(r.x)*r.normal.x,Math.abs(r.y)*r.normal.y)}checkHit(e,n,r,i){return{x:this.sim?.checkFutureCollisionX(this,this.velocityDelta(e,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i),y:this.sim?.checkFutureCollisionY(this,this.velocityDelta(e,n),o=>this.colliderCheck(o)&&(r?r(o):!0),i)}}checkFutureIntersection(e,n){let r=ee.childrenByType(Oe,this.rootElement);for(let i of r){if(n&&!n(i))continue;let o=this.sim?.checkFutureIntersection(this.collider.position,e,this.collider.dimensions,i);if(o)return o}}checkAllFutureIntersections(e,n){let r=ee.childrenByType(Oe,this.rootElement),i=[];for(let o of r){if(n&&!n(o))continue;let s=this.sim?.checkFutureIntersection(this.collider.position,e,this.collider.dimensions,o);s&&i.push(s)}return i}checkCurrentIntersection(e){return this.checkFutureIntersection(new y(0,0),e)}checkAllCurrentIntersections(e){return this.checkAllFutureIntersections(new y(0,0),e)}isGrounded(){return!!this.checkHit(new y(0,1),1e3).y}avgVelocity(e=3){let n=new y(0,0);e=Math.min(e,9);let r=this.avgVelAcc.slice(0,e);for(let i of r)n.x+=i.x,n.y+=i.y;return n.div(e)}colliderCheck(e){return e!==this}get sleeping(){return this._sleeping}wakeUp(){this._sleeping=!1,this._sleepDelay=Hm}get canSleep(){return this._canSleep}set canSleep(e){this._canSleep=e}};var di=class{constructor(e=new y(0,1024)){this.gravity=e;this.workLoop=new fn(this.step.bind(this))}viewport;rootElement;workLoop;lastCollisionObjects={x:[],y:[]};wakeUpInterval=250;timeSinceLastWakeUp=0;setViewport(e){this.viewport=e}setRootElement(e){this.rootElement=e;for(let n of ee.childrenByType(Oe,this.rootElement))n.attachToSimulation(this);this.rootElement.on(un,n=>{let r=n.target;r instanceof Oe&&r.attachToSimulation(this)})}start(e){this.workLoop.start(e)}getDebugInformation(){let e=[];function n(r,i,o){let s=r,a=r.add(i);s.x=Math.floor(s.x),s.y=Math.floor(s.y),a.x=Math.floor(a.x),a.y=Math.floor(a.y),e.push({from:s,to:new y(a.x,s.y),color:o}),e.push({from:new y(a.x,s.y),to:a,color:o}),e.push({from:a,to:new y(s.x,a.y),color:o}),e.push({from:new y(s.x,a.y),to:s,color:o})}if(this.rootElement){for(let r of ee.childrenByType(Oe,this.rootElement))n(r.collider.position,r.collider.dimensions,r instanceof Ct&&r.sleeping?"rgba(199, 194, 198, 0.5)":"rgba(205, 93, 215, 0.5)");this.lastCollisionObjects.x.length===2&&(n(this.lastCollisionObjects.x[0].position,this.lastCollisionObjects.x[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.x[1].position,this.lastCollisionObjects.x[1].dimensions,"rgba(49, 252, 3, 0.5)")),this.lastCollisionObjects.y.length===2&&(n(this.lastCollisionObjects.y[0].position,this.lastCollisionObjects.y[0].dimensions,"rgba(3, 32, 252, 0.5)"),n(this.lastCollisionObjects.y[1].position,this.lastCollisionObjects.y[1].dimensions,"rgba(252, 3, 65, 0.5)"))}return e}checkFutureIntersection(e,n,r,i){if(!this.rootElement)return!1;let o=e.add(n),s=o.x,a=o.y,c=o.x+r.x,l=o.y+r.y,u=i.collider.position.x,f=i.collider.position.y,d=i.collider.position.x+i.collider.dimensions.x,p=i.collider.position.y+i.collider.dimensions.y;if(Math.max(s,u)<Math.min(c,d)&&Math.max(a,f)<Math.min(l,p))return i}checkFutureCollisionX(e,n,r,i){if(!this.rootElement)return;let o=ee.childrenByType(Oe,this.rootElement),s=e.collider.position.add(n),a=s.x,c=s.x+e.collider.dimensions.x;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:e}))continue;let u=this.checkFutureIntersection(e.collider.position,n,e.collider.dimensions,l),f=l.collider.position.x,d=l.collider.position.x+l.collider.dimensions.x;if(u){let p=n.x;if(n.normal.x===1){if(c>f&&(p-=c-f,Math.abs(p)<Math.abs(n.x)))return this.lastCollisionObjects.x=[e.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:p}}else if(n.normal.x===-1&&a<d&&(p+=d-a,Math.abs(p)<Math.abs(n.x)))return this.lastCollisionObjects.x=[e.collider,l.collider],{collisionObject:l,normal:n.normal.x,distance:p}}}this.lastCollisionObjects.x=[]}checkFutureCollisionY(e,n,r,i){if(!this.rootElement)return;let o=ee.childrenByType(Oe,this.rootElement),s=e.collider.position.add(n),a=s.y,c=s.y+e.collider.dimensions.y;for(let l of o){if(!i&&r&&!r(l)||!l.filterCollision({velocity:n,collider:e}))continue;let u=this.checkFutureIntersection(e.collider.position,n,e.collider.dimensions,l),f=l.collider.position.y,d=l.collider.position.y+l.collider.dimensions.y;if(u){let p=n.y;if(n.normal.y===1){if(c>f&&(p-=c-f,Math.abs(p)<Math.abs(n.y)))return this.lastCollisionObjects.y=[e.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:p}}else if(n.normal.y===-1&&a<d&&(p+=d-a,Math.abs(p)<Math.abs(n.y)))return this.lastCollisionObjects.y=[e.collider,l.collider],{collisionObject:l,normal:n.normal.y,distance:p}}}this.lastCollisionObjects.y=[]}step(e,n){if(this.rootElement){if(this.timeSinceLastWakeUp+=n,this.timeSinceLastWakeUp>=this.wakeUpInterval){this.timeSinceLastWakeUp=0;let r=ee.childrenByType(Ct,this.rootElement);for(let i of r)i.sleeping&&i.wakeUp()}this.rootElement.dispatchEvent(new lt(e,n,this)),this.rootElement.dispatchEvent(new Kt(e,n,this))}}};var hr=class extends Oe{};var Ee=class extends V{_size;flexDirection="row";justifyContent="flex-start";alignItems="flex-start";gap=0;padding=new y(0,0);constructor(e,n){super(e),this._size=n}get width(){return this._size.width}get height(){return this._size.height}addChild(e){super.addChild(e),this.layout()}removeChild(e){super.removeChild(e),this.layout()}layout(){let e=this.children.filter(d=>d instanceof V);if(e.length===0)return;let n=this.flexDirection==="row",r=n?this.padding.x:this.padding.y,i=n?this.padding.y:this.padding.x,o=(n?this._size.width:this._size.height)-r*2,s=(n?this._size.height:this._size.width)-i*2,a=0,c=[];for(let d of e){let p=n?d.width:d.height;c.push(p),a+=p}let l=this.gap*(e.length-1);a+=l;let u=this.calculateJustifyStart(o,a,e.length)+r,f=this.calculateSpacing(o,a,e.length);for(let d=0;d<e.length;d++){let p=e[d],h=c[d],C=n?p.height:p.width,I=this.calculateCrossAxisPosition(s,C)+i;n?p.position=new y(u,I):p.position=new y(I,u),u+=h+this.gap+f}}calculateJustifyStart(e,n,r){switch(this.justifyContent){case"flex-start":return 0;case"flex-end":return e-n;case"center":return(e-n)/2;case"space-between":return 0;case"space-around":return(e-n)/(r*2);default:return 0}}calculateSpacing(e,n,r){let i=e-n;switch(this.justifyContent){case"space-between":return r>1?i/(r-1):0;case"space-around":return r>0?i/r:0;default:return 0}}calculateCrossAxisPosition(e,n){switch(this.alignItems){case"flex-start":return 0;case"flex-end":return e-n;case"center":return(e-n)/2;case"stretch":return(e-n)/2;default:return 0}}};var Tt=class extends V{_width=0;_height=0;_left;_center;_right;constructor(e,n,r,i){super(),this._width=e,this._height=(n||r||i)?.height||0,this._left=n,this._center=r,this._right=i,this.cacheable=!0;let o=new ae(n),s=new ae(i);this.addChild(o),this.addChild(s),s.position=new y(e-s.width,0);let c=e-Math.min(e,o.width+s.width),l=o.width;for(;c>0;){let u=new ae(r);u.position=new y(l,0),c<u.width&&(u.clipRegion={x:0,y:0,width:c,height:u.height}),this.addChild(u),c-=u.width,l+=u.width}}get width(){return this._width}get height(){return this._height}get cacheKey(){if(!this.cacheable)return;let e=this._left?.id||"none",n=this._center?.id||"none",r=this._right?.id||"none",i=this.fillColor||"none";return`3slice:${this._width}:${e}:${n}:${r}:${i}`}};var Xt=class extends V{_size=new y(0,0);_topLeft;_topCenter;_topRight;_middleLeft;_middleCenter;_middleRight;_bottomLeft;_bottomCenter;_bottomRight;constructor(e,n,r,i,o,s,a,c,l,u){super(),this._size=e,this._topLeft=n,this._topCenter=r,this._topRight=i,this._middleLeft=o,this._middleCenter=s,this._middleRight=a,this._bottomLeft=c,this._bottomCenter=l,this._bottomRight=u,this.cacheable=!0;let f=new ae(n),d=new ae(i),p=new ae(c),h=new ae(u);this.addChild(f),this.addChild(d),this.addChild(p),this.addChild(h),f.position=new y(0,0),d.position=new y(e.width-d.width,0),p.position=new y(0,e.height-p.height),h.position=new y(e.width-h.width,e.height-h.height);let C=f.width,I=d.width,b=f.height,m=p.height,g=e.width-C-I,v=e.height-b-m;this.tileHorizontal(r,C,0,g),this.tileHorizontal(l,C,e.height-m,g),this.tileVertical(o,0,b,v),this.tileVertical(a,e.width-I,b,v),this.fillCenter(s,C,b,g,v)}tileHorizontal(e,n,r,i){if(!e||i<=0)return;let o=i,s=n;for(;o>0;){let a=new ae(e);a.position=new y(s,r),o<a.width&&(a.clipRegion={x:0,y:0,width:o,height:a.height}),this.addChild(a),o-=a.width,s+=a.width}}tileVertical(e,n,r,i){if(!e||i<=0)return;let o=i,s=r;for(;o>0;){let a=new ae(e);a.position=new y(n,s),o<a.height&&(a.clipRegion={x:0,y:0,width:a.width,height:o}),this.addChild(a),o-=a.height,s+=a.height}}fillCenter(e,n,r,i,o){if(!e||i<=0||o<=0)return;let s=o,a=r;for(;s>0;){let c=i,l=n;for(;c>0;){let u=new ae(e);u.position=new y(l,a);let f=Math.min(c,u.width),d=Math.min(s,u.height);(f<u.width||d<u.height)&&(u.clipRegion={x:0,y:0,width:f,height:d}),this.addChild(u),c-=u.width,l+=u.width}s-=e.height,a+=e.height}}get width(){return this._size.width}get height(){return this._size.height}get cacheKey(){if(!this.cacheable)return;let e=this._topLeft?.id||"none",n=this._topCenter?.id||"none",r=this._topRight?.id||"none",i=this._middleLeft?.id||"none",o=this._middleCenter?.id||"none",s=this._middleRight?.id||"none",a=this._bottomLeft?.id||"none",c=this._bottomCenter?.id||"none",l=this._bottomRight?.id||"none",u=this.fillColor||"none";return`9slice:${this._size.width}:${this._size.height}:${e}:${n}:${r}:${i}:${o}:${s}:${a}:${c}:${l}:${u}`}};var En=class extends ye{constructor(n){super();this.start=n}},gr=class extends ye{},jo=class extends Ct{input;constructor(e){super(e),this.input=new Kr(this),this.input.setOn(0).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowUp"}),this.input.setOff(0).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowUp"}),this.input.setOn(3).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowDown"}),this.input.setOff(3).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowDown"}),this.input.setOn(1).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowLeft"}),this.input.setOff(1).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowLeft"}),this.input.setOn(2).when({type:xe,condition:i=>i.action===0&&i.key==="ArrowRight"}),this.input.setOff(2).when({type:xe,condition:i=>i.action===1&&i.key==="ArrowRight"}),this.input.setOn(4).when({type:xe,condition:i=>i.action===0&&i.key===" "}),this.input.setOff(4).when({type:xe,condition:i=>i.action===1&&i.key===" "});let n=!1,r=!1;this.input.onChange(i=>{i.get(0)&&this.isGrounded()&&(n=!0),i.get(3)&&this.isGrounded()?(r=!0,this.dispatchEvent(new En(!0))):r&&(r=!1,this.dispatchEvent(new En(!1))),i.get(4)&&this.isGrounded()&&this.dispatchEvent(new gr)}),this.on(lt,i=>{this.input.state.get(1)&&this.input.state.get(2)||(this.input.state.get(1)&&this.applyImpulse(new y(-16,0),i.deltaTime),this.input.state.get(2)&&this.applyImpulse(new y(16,0),i.deltaTime)),n&&(n=!1,this.applyImpulse(new y(0,-288),i.deltaTime)),r&&this.applyImpulse(new y(0,3),i.deltaTime)}),this.on(Kt,i=>{this.switchStance(i.currentTime)})}switchStance(e){}};var Ke=class extends jo{constructor(n,r,i=0,o=new y(0,0)){super(n);this.assetName=r;this.spritePointing=i;this.spriteOffset=o;this.gfx=new V,this.addChild(this.gfx),this.ghost=new V,this.ghost.isVisible=!1,this.setColliderOffset(new y(38,4)),this.setColliderDimensions(new y(20,28)),this.switchStance(0),this._pointing=1}gfx;ghost;activeStance;activeStanceStartTime=0;_pointing=1;get pointing(){return this._pointing}get pointingDefault(){return this._pointing===this.spritePointing}get ghostGraphics(){return this.ghost}updateGhostPosition(){this.ghost.position=this.position}switchStance(n){let r=ie.get("assets"),i="Idle",o=this.avgVelocity();o.y>.1?i="Fall":o.y<-.1&&(i="Jump"),o.x>.1?this._pointing=1:o.x<-.1&&(this._pointing=0);let s=n-this.activeStanceStartTime;if((this.activeStance==="Fall"&&i==="Idle"||this.activeStance==="Ground"&&s<=r[this.assetName].animations.Ground.duration)&&(i="Ground"),i!=="Ground"&&Math.abs(o.y)<.1&&Math.abs(o.x)>.1&&(i="Run"),i!==this.activeStance){this.activeStanceStartTime=n,this.activeStance=i,this.gfx.removeAllChildren(),this.gfx.addChild(new We(r[this.assetName].animations[i])),this.ghost.removeAllChildren();let a=new We(r[this.assetName].animations[i]);a.opacity=.5,a.fillColor="rgba(0, 0, 0, 1)",this.ghost.addChild(a)}if(this.gfx.children.length===1){let a=this.gfx?.children[0];a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new y(0,-32).add(this.spriteOffset):a.translation=new y(0,-32).sub(this.spriteOffset)}if(this.ghost.children.length===1){let a=this.ghost?.children[0];a.clipRegion=this.ghostGraphics.clipRegion,a.flipH=this._pointing!==this.spritePointing,a.flipH?a.translation=new y(0,-32).add(this.spriteOffset):a.translation=new y(0,-32).sub(this.spriteOffset)}}};var mr=class extends Ke{constructor(e){super(e,"The Crusty Crew Pink Star")}};var J_={regular:{charsMapKey:"Chars"},hero:{charsMapKey:"CharsHero"}},ke=class extends V{_width=0;_height=0;letterSpacing;style;_text="";constructor(e,n=1,r="regular"){super(),this.letterSpacing=n,this.style=r,e&&this.setText(e),this.cacheable=!0}get cacheKey(){if(!this.cacheable)return;let e=this.fillColor||"none";return`text:${this._text}:${this.style}:${this.letterSpacing}:${e}`}get fillColor(){return super.fillColor}set fillColor(e){super.fillColor=e;for(let n of this.children)n instanceof ae&&(n.fillColor=e)}setTextFromTextures(e){let n=[...this.children];for(let r of n)this.removeChild(r);this._width=0,this._height=0;for(let r=0;r<e.length;r+=1){let i=e[r],o=new ae(i,new y(this._width,0));this.fillColor&&(o.fillColor=this.fillColor),this.addChild(o),this._width+=o.width,r<e.length-1&&(this._width+=this.letterSpacing),this._height=o.height}}setText(e){this._text=e;let n=ie.get("chars"),r=J_[this.style],o=e.toLowerCase().split("").map(s=>n[r.charsMapKey][s]||n[r.charsMapKey].__unknown__).filter(s=>s!==void 0);this.setTextFromTextures(o)}setTextFromCodes(e,n="Chars",r="Chars"){let o=ie.get("assets")[r]?.tilemaps[n];if(!o){console.warn(`Tilemap "${n}" not found in asset "${r}"`);return}let s=[];for(let a of e){let c=o.get(a);if(!c){console.warn(`Texture at index ${a} not found in tilemap`);continue}s.push(c)}this.setTextFromTextures(s)}get width(){return this._width}get height(){return this._height}};var ct=class extends Ct{constructor(n,r){super(n);this.text=r;let i=ie.get("assets"),o=new ke(r);this.addChild(new Tt(o.width+6,i.Paper.tilemaps.Paper.get(1),i.Paper.tilemaps.Paper.get(2),i.Paper.tilemaps.Paper.get(3))),o.position=new y(3,3),this.addChild(o)}};var Vm="rgba(0, 0, 0, 0.3)",eS="rgba(255, 255, 255, 0.3)",tS={primary:{multiChar:{left:2,center:3,right:4},multiCharHover:{left:44,center:45,right:46},singleChar:1,singleCharHover:43},secondary:{multiChar:{left:6,center:7,right:8},multiCharHover:{left:48,center:49,right:50},singleChar:5,singleCharHover:47}},$t=class extends V{outline;background;hoverBackground;textComponent;textDefaultPosition;mouseInteraction;action=void 0;constructor(e,n,r="primary"){super(e),this.textComponent=n;let o=ie.get("assets")["Wood and Paper UI - Buttons"].tilemaps["Wood and Paper"],s=1,a=1,c=tS[r];if(n.children.length>1){let u=n.width+12;this.background=new Tt(u,o.get(c.multiChar.left),o.get(c.multiChar.center),o.get(c.multiChar.right)),this.hoverBackground=new Tt(u,o.get(c.multiCharHover.left),o.get(c.multiCharHover.center),o.get(c.multiCharHover.right)),this.outline=new Tt(u+s*2,o.get(c.multiChar.left),o.get(c.multiChar.center),o.get(c.multiChar.right)),n.position=new y(6,4),this.textDefaultPosition=new y(6,4)}else this.background=new ae(o.get(c.singleChar)),this.hoverBackground=new ae(o.get(c.singleCharHover)),this.outline=new Tt(this.background.width+s*2,o.get(c.multiChar.left),o.get(c.multiChar.center),o.get(c.multiChar.right)),n.position=new y(5,4),this.textDefaultPosition=new y(5,4);this.outline.position=new y(-s,-a),this.outline.fillColor=Vm;let l=(this.background.height+a*2)/this.outline.height;this.outline.scale=new y(1,l),this.addChild(this.outline),this.addChild(this.background),this.addChild(this.hoverBackground),this.hoverBackground.isVisible=!1,this.addChild(n),this.mouseInteraction=new Xr(this),this.mouseInteraction.on(Kn,this.handleMouseEnter.bind(this)),this.mouseInteraction.on(Xn,this.handleMouseLeave.bind(this)),this.mouseInteraction.on(Jn,this.handleMouseClick.bind(this))}handleMouseEnter(){this.outline.fillColor=eS,this.background.isVisible=!1,this.hoverBackground.isVisible=!0,this.textComponent.position=new y(this.textDefaultPosition.x,this.textDefaultPosition.y+1)}handleMouseLeave(){this.outline.fillColor=Vm,this.background.isVisible=!0,this.hoverBackground.isVisible=!1,this.textComponent.position=this.textDefaultPosition}handleMouseClick(){this.action&&this.action()}get width(){return this.background.width}get height(){return this.background.height}};var yr=class extends V{constructor(n,r){super(n);this._size=r}get width(){return this._size?.width||0}get height(){return this._size?.height||0}};var SI=zI(_I());var Ti=class extends V{_size;htmlContent;previewCanvas;context;sprite;constructor(e,n,r){super(),this._size=n,this.position=e,this.htmlContent=r,this.previewCanvas=new OffscreenCanvas(this.width,this.height);let i=this.previewCanvas.getContext("2d");if(!i)throw new Error("Could not obtain off-screen canvas context");this.context=i,this.sprite=new ae(Ze.empty()),this.addChild(this.sprite),this.renderHtml()}renderHtml(){return Y(this,null,function*(){this.context.clearRect(0,0,this.width,this.height);let e=`
      <!DOCTYPE html>
      <html>
        <head>
          <style>
            body {
              margin: 8px;
              font-family: Arial, sans-serif;
              font-size: 12px;
              line-height: 1.4;
            }
            
            a {
              color: blue;
              text-decoration: underline;
            }
          </style>
        </head>
        <body>${this.htmlContent}</body>
      </html>
    `;try{yield(0,SI.drawHTML)(e,this.previewCanvas,{width:this.width,height:this.height,executeJs:!1});let n=yield createImageBitmap(this.previewCanvas),r=Ze.fromImageBitmap(n);this.sprite.texture=r}catch(n){console.error("Error rendering HTML with rasterizehtml:",n)}})}setHtml(e){this.htmlContent!==e&&(this.htmlContent=e,this.renderHtml())}get width(){return this._size.width}get height(){return this._size.height}};var xi=class extends V{board;constructor(e,n){super(e);let i=ie.get("assets")["Wood and Paper UI - Boards"].tilemaps["Wood and Paper"];this.board=new Xt(n,i.get(33),i.get(34),i.get(35),i.get(41),i.get(42),i.get(43),i.get(49),i.get(50),i.get(51)),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var bM={primary:{topLeft:1,topCenter:2,topRight:3,middleLeft:9,middleCenter:10,middleRight:11,bottomLeft:17,bottomCenter:18,bottomRight:19},secondary:{topLeft:5,topCenter:6,topRight:7,middleLeft:13,middleCenter:14,middleRight:15,bottomLeft:21,bottomCenter:22,bottomRight:23}},_n=class extends V{outline;board;paper;constructor(e,n,r="primary",i=!1){super(e);let s=ie.get("assets")["Wood and Paper UI - Boards"].tilemaps["Wood and Paper"],a=bM[r];if(i){let u=new y(n.width+2,n.height+4),f=new y(-1,-2);this.outline=new Xt(u,s.get(a.topLeft),s.get(a.topCenter),s.get(a.topRight),s.get(a.middleLeft),s.get(a.middleCenter),s.get(a.middleRight),s.get(a.bottomLeft),s.get(a.bottomCenter),s.get(a.bottomRight)),this.outline.position=f,this.outline.fillColor="rgba(0, 0, 0, 0.3)",this.addChild(this.outline)}this.board=new Xt(n,s.get(a.topLeft),s.get(a.topCenter),s.get(a.topRight),s.get(a.middleLeft),s.get(a.middleCenter),s.get(a.middleRight),s.get(a.bottomLeft),s.get(a.bottomCenter),s.get(a.bottomRight)),this.paper=new xi(new y(0,0),n),this.addChild(this.board),this.addChild(this.paper)}get width(){return this.board.width}get height(){return this.board.height}};var Sn=class extends V{content;_margin;_padding;constructor(e=new y(0,0),n={},r={}){super(e),this._margin={top:n.top??0,right:n.right??0,bottom:n.bottom??0,left:n.left??0},this._padding={top:r.top??0,right:r.right??0,bottom:r.bottom??0,left:r.left??0}}setContent(e){this.content&&this.removeChild(this.content),this.content=e,this.content.position=new y(this._padding.left,this._padding.top),this.addChild(this.content)}get margin(){return Pe({},this._margin)}get padding(){return Pe({},this._padding)}get width(){return this.content?this._margin.left+this._padding.left+this.content.width+this._padding.right+this._margin.right:0}get height(){return this.content?this._margin.top+this._padding.top+this.content.height+this._padding.bottom+this._margin.bottom:0}get contentSize(){return this.content?new y(this.content.width,this.content.height):new y(0,0)}get innerSize(){return this.content?new y(this._padding.left+this.content.width+this._padding.right,this._padding.top+this.content.height+this._padding.bottom):new y(0,0)}};var _i=class{frameCount;startTime;currentFps;constructor(){this.frameCount=0,this.startTime=0,this.currentFps=0}advance(e){this.startTime===0&&(this.startTime=e);let n=e-this.startTime;this.frameCount+=1,this.currentFps=1e3/(n/this.frameCount),n>=1e4&&(this.startTime=e,this.frameCount=0)}get fps(){return this.currentFps}};var Dn=class{history=[];maxHistoryLength=120;addSample(e){this.history.push(e),this.history.length>this.maxHistoryLength&&this.history.shift()}draw(e,n,r,i,o){if(this.history.length===0)return;let s=Math.max(...this.history,1),a=Math.min(...this.history,0);e.fillStyle="rgba(0, 0, 0, 0.7)",e.fillRect(n,r,i,o),e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=1,e.strokeRect(n,r,i,o),e.strokeStyle="rgba(255, 255, 255, 0.1)",e.beginPath();for(let u=1;u<4;u++){let f=r+o/4*u;e.moveTo(n,f),e.lineTo(n+i,f)}e.stroke(),e.strokeStyle="#00ff00",e.lineWidth=2,e.beginPath();let c=i/this.maxHistoryLength;for(let u=0;u<this.history.length;u++){let d=(this.history[u]-a)/(s-a||1),p=n+u*c,h=r+o-d*o;u===0?e.moveTo(p,h):e.lineTo(p,h)}e.stroke(),e.fillStyle="rgba(255, 255, 255, 0.8)",e.font="10px monospace",e.fillText(`Max: ${s.toFixed(0)}`,n+4,r+12),e.fillText(`Min: ${a.toFixed(0)}`,n+4,r+o-4);let l=this.history[this.history.length-1];e.fillText(`Current: ${l.toFixed(0)}`,n+i-80,r+12)}clear(){this.history=[]}get currentValue(){return this.history[this.history.length-1]||0}get averageValue(){return this.history.length===0?0:this.history.reduce((n,r)=>n+r,0)/this.history.length}};var Si=class extends it{graphCanvas;graphContext;engine;previousScene;renderFpsCounter=new _i;physicsFpsCounter=new _i;renderGraph=new Dn;cacheHitGraph=new Dn;renderFpsGraph=new Dn;physicsFpsGraph=new Dn;debugLines=[];_enablePhysicsDebugLines=!1;_enableGridLines=!1;_enableHoverHighlight=!1;_enableFlexDebugLines=!1;_enableRenderGraph=!1;hoveredObject;gridSize=new y(32,32);constructor(e){super(),this.graphCanvas=document.createElement("canvas"),this.graphCanvas.style.position="absolute",this.graphCanvas.style.top="50px",this.graphCanvas.style.left="20px",this.graphCanvas.style.display="none",this.graphCanvas.width=260,this.graphCanvas.height=480,this.graphCanvas.style.imageRendering="pixelated",e.appendChild(this.graphCanvas);let n=this.graphCanvas.getContext("2d");if(!n)throw new Error("Failed to get 2D context for graph canvas");this.graphContext=n,this.graphContext.imageSmoothingEnabled=!1,this.on(at,this.onTick.bind(this)),this.on(lt,this.onPhysicsTick.bind(this)),this.on(Pt,this.onMouseMove.bind(this))}set enablePhysicsDebugLines(e){this._enablePhysicsDebugLines=e}set enableGridLines(e){this._enableGridLines=e}set enableHoverHighlight(e){this._enableHoverHighlight=e}set enableFlexDebugLines(e){this._enableFlexDebugLines=e}set enableRenderGraph(e){this._enableRenderGraph=e,this.graphCanvas.style.display=e?"block":"none"}attachTo(e){this.engine=e,e.on(pn,n=>{this.attachToScene(n.scene)})}attachToScene(e){this.previousScene&&this.previousScene.removeChild(this),e.addChild(this,99999),this.previousScene=e}onTick(e){if(this._enableRenderGraph&&this.renderFpsCounter.advance(e.currentTime),this._enableRenderGraph&&this.engine){let n=this.engine.renderer.getRenderStats();this.renderGraph.addSample(n.renderCount),this.cacheHitGraph.addSample(n.cacheHitCount),this.renderFpsGraph.addSample(this.renderFpsCounter.fps),this.drawRenderGraphs()}}onPhysicsTick(e){this._enableRenderGraph&&this.physicsFpsCounter.advance(e.currentTime),this._enableRenderGraph&&this.physicsFpsGraph.addSample(this.physicsFpsCounter.fps),this._enablePhysicsDebugLines&&(this.debugLines=e.simulation.getDebugInformation())}onMouseMove(e){if(!this._enableHoverHighlight||!this.previousScene){this.hoveredObject=void 0;return}this.hoveredObject=this.getObjectAt(e.point)}getObjectAt(e){if(!this.previousScene)return;let n=ee.childrenByType(V,this.previousScene);for(let r=n.length-1;r>=0;r--){let i=n[r],o=i.position.left,s=i.position.left+i.width,a=i.position.top,c=i.position.top+i.height;if(o<=e.x&&e.x<=s&&a<=e.y&&e.y<=c)return i}}draw(e){if(this._enableGridLines){let n=this.engine?.viewport.width||0,r=this.engine?.viewport.height||0;for(let i=this.gridSize.width;i<n;i+=this.gridSize.width)e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.2",e.moveTo(i,0),e.lineTo(i,r),e.stroke();for(let i=this.gridSize.height;i<r;i+=this.gridSize.height)e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.2",e.moveTo(0,i),e.lineTo(n,i),e.stroke();e.beginPath(),e.strokeStyle="#ff0000",e.rect(0,0,n,r),e.stroke()}if(this._enablePhysicsDebugLines)for(let n of this.debugLines)e.beginPath(),e.strokeStyle=n.color,e.moveTo(n.from.x,n.from.y),e.lineTo(n.to.x,n.to.y),e.stroke();if(this._enableHoverHighlight&&this.hoveredObject){let n=this.hoveredObject;e.beginPath(),e.strokeStyle="#00ff00",e.lineWidth=2,e.rect(n.position.left,n.position.top,n.width,n.height),e.stroke(),e.lineWidth=1}this._enableFlexDebugLines&&this.previousScene&&this.drawFlexDebugLines(e)}drawRenderGraphs(){this.graphContext.clearRect(0,0,this.graphCanvas.width,this.graphCanvas.height);let e=240,n=80,r=10,i=25,o=r;this.graphContext.fillStyle="rgba(255, 255, 255, 0.9)",this.graphContext.font="12px monospace",this.graphContext.fillText("Render FPS",r,o+2),o+=12,this.renderFpsGraph.draw(this.graphContext,r,o,e,n),o+=n+i,this.graphContext.fillText("Physics FPS",r,o+2),o+=12,this.physicsFpsGraph.draw(this.graphContext,r,o,e,n),o+=n+i,this.graphContext.fillText("Renders/Frame",r,o+2),o+=12,this.renderGraph.draw(this.graphContext,r,o,e,n),o+=n+i,this.graphContext.fillText("Cache Hits/Frame",r,o+2),o+=12,this.cacheHitGraph.draw(this.graphContext,r,o,e,n)}drawFlexDebugLines(e){if(!this.previousScene)return;let n=ee.childrenByType(Ee,this.previousScene);for(let r of n){let i=r.position,o=i.x,s=i.y,a=r.width,c=r.height;e.beginPath(),e.strokeStyle="#0088ff",e.lineWidth=2,e.rect(o,s,a,c),e.stroke(),e.fillStyle="#0088ff",e.font="10px monospace";let l=`${r.flexDirection} | ${r.justifyContent} | ${r.alignItems}`;e.fillText(l,o+4,s+12);let u=r.children.filter(f=>f instanceof V);for(let f of u){let d=f.position,p=d.x,h=d.y;e.beginPath(),e.strokeStyle="#ff8800",e.lineWidth=1,e.rect(p,h,f.width,f.height),e.stroke(),e.beginPath(),e.strokeStyle="#ff0000",e.lineWidth=1,e.moveTo(p-3,h),e.lineTo(p+3,h),e.moveTo(p,h-3),e.lineTo(p,h+3),e.stroke()}if(r.gap>0&&u.length>1){let f=r.flexDirection==="row";e.strokeStyle="#ff00ff",e.lineWidth=1,e.setLineDash([2,2]);for(let d=0;d<u.length-1;d++){let p=u[d],h=u[d+1],C=p.position,I=h.position;if(f){let b=C.x+p.width,m=I.x,g=s+c/2;e.beginPath(),e.moveTo(b,g),e.lineTo(m,g),e.stroke()}else{let b=C.y+p.height,m=I.y,g=o+a/2;e.beginPath(),e.moveTo(g,b),e.lineTo(g,m),e.stroke()}}e.setLineDash([])}e.lineWidth=1}}};var Di=class extends kt{constructor(n,r){super();this.loadingAssetPath=n;this.charsAssetInfo=r}progressText;contentLayout;run(){return Y(this,null,function*(){let n=new pr;yield n.init({Loading:{path:this.loadingAssetPath}},{Chars:this.charsAssetInfo}),ie.set("chars",n.chars);let r=new We(n.assets.Loading.animations["Big Map"]);r.animationSpeed=.5,this.progressText=new ke("",2),this.progressText.fillColor="#ffffff",this.progressText.setText("0%"),this.contentLayout=new Ee(new y(0,0),new y(r.width,r.height+50)),this.contentLayout.flexDirection="column",this.contentLayout.justifyContent="center",this.contentLayout.alignItems="center",this.contentLayout.gap=0,this.contentLayout.addChild(r),this.contentLayout.addChild(this.progressText);let i=new Ee(new y(0,0),ie.get("viewport"));i.justifyContent="center",i.alignItems="center",i.addChild(this.contentLayout),this.addChild(i)})}loadAssets(n,r){return Y(this,null,function*(){let i=new pr;yield i.init(n,r,o=>{this.updateProgress(o.percentage)}),ie.set("assets",i.assets),ie.set("chars",i.chars)})}updateProgress(n){if(this.progressText){let r=Math.floor(n).toString()+"%";this.progressText.setText(r),this.contentLayout&&this.contentLayout.layout()}}};var Mn=class extends V{board;menuLayout;constructor(e,n,r){super(e);let i;if(r){let C=new ke;C.setTextFromCodes([53]),i=new $t(new y(0,0),C,"secondary"),i.action=r}let o=[],s=0,a=0,c=8;for(let C of n){let I;if(C.action){let b=new ke(C.label),m=new $t(new y(0,0),b,C.variant);m.action=C.action,I=m}else I=new ke(C.label,0);o.push(I),s=Math.max(s,I.width),a+=I.height}a+=c*(o.length-1);let l=new ke("Markup Mischief",1,"hero"),u=new Sn(new y(0,0),{top:20},{});u.setContent(l),this.menuLayout=new Ee(new y(0,0),new y(s,a)),this.menuLayout.flexDirection="column",this.menuLayout.justifyContent="center",this.menuLayout.alignItems="center",this.menuLayout.gap=c;for(let C of o)this.menuLayout.addChild(C);let f=new Sn(new y(0,0),{},{top:0,bottom:20});f.setContent(this.menuLayout);let d=new Ee(new y(0,0),new y(Math.max(u.width,f.width),u.height+f.height));d.flexDirection="column",d.alignItems="center",d.addChild(u),d.addChild(f);let p=new Sn(new y(0,0),{},{top:20,right:20,bottom:20,left:20});p.setContent(d);let h=new y(p.width,p.height);this.board=new _n(new y(0,0),h,"primary",!0),i&&this.board.addChild(i),this.board.addChild(p),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var br=class extends kt{constructor(e,n){super();let r=ie.get("viewport"),i=new Mn(new y(0,0),e,n),o=new Ee(new y(0,0),r);o.justifyContent="center",o.alignItems="center",o.addChild(i),this.addChild(o)}};var Nn={levels:[{id:1,name:"Level 1 - Emphasis",playerStart:{x:64,y:64},tags:[{position:{x:50,y:32},text:"<em>"},{position:{x:130,y:32},text:"</em>"},{position:{x:180,y:32},text:"text"}],solution:"<em> text </em>"},{id:2,name:"Level 2 - Strong Tag",playerStart:{x:96,y:64},tags:[{position:{x:280,y:96},text:"text"},{position:{x:50,y:160},text:"</strong>"},{position:{x:200,y:224},text:"bold"},{position:{x:150,y:288},text:"<strong>"}],solution:"<strong> bold text </strong>"},{id:3,name:"Level 3 - Nested Tags",playerStart:{x:128,y:64},tags:[{position:{x:400,y:96},text:"</p>"},{position:{x:160,y:128},text:"nested"},{position:{x:240,y:160},text:"</em>"},{position:{x:80,y:192},text:"<em>"},{position:{x:320,y:224},text:"<p>"}],solution:"<p> <em> nested </em> </p>"},{id:4,name:"Level 4 - Link Tag",playerStart:{x:64,y:96},tags:[{position:{x:260,y:160},text:"here"},{position:{x:340,y:192},text:"</a>"},{position:{x:100,y:224},text:"<a>"},{position:{x:180,y:256},text:"click"}],solution:"<a> click here </a>"}]};function Bd(t){return new y(t.x,t.y)}var DI={numLayers:6,layers:[[{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:96,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:64,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:32,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:128,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:160,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:256,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:288,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:352,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:384,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:416,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:224},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:192},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:160},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:128},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:96},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:64},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:448,y:32},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:1}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:4}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:288,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:256,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:160,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:128,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:96,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:64,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:32,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:3}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:320,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:288,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:256,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:160,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:128,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:96,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:64,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:32,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Sky and Water",tileId:2}}],[{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:56}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:57}},{type:"static",position:{x:288,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:8}},{type:"static",position:{x:320,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:9}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Clouds",tileId:10}},{type:"animated",position:{x:64,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Big"},animationSpeed:1},{type:"animated",position:{x:256,y:320},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Medium"},animationSpeed:1},{type:"animated",position:{x:213,y:329},animation:{asset:"Palm Tree Island Water Reflect",animationName:"Small"},animationSpeed:1}],[{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:10}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:4}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:11}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:8}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Back",tileId:7}},{type:"animated",position:{x:448,y:192},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Left"},animationSpeed:.1},{type:"animated",position:{x:224,y:301},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:128,y:264},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back"},animationSpeed:.1},{type:"animated",position:{x:2,y:201},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Back Right"},animationSpeed:.1}],[{type:"static",position:{x:96,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:128,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:160,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:256,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:288,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:320,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:352,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:480,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:448,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:416,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:384,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:16}},{type:"static",position:{x:0,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:256},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:224},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:192},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:160},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:128},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:96},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:14}},{type:"static",position:{x:0,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:32,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:32,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:64,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:96,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:128,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:160,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:6}},{type:"static",position:{x:160,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:24}},{type:"static",position:{x:192,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:26}},{type:"static",position:{x:192,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:5}},{type:"static",position:{x:224,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:256,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:288,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:320,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:352,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:19}},{type:"static",position:{x:352,y:64},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:27}},{type:"static",position:{x:352,y:32},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:15}},{type:"static",position:{x:384,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:25}},{type:"static",position:{x:0,y:0},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:12}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:1}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:416,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:448,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:2}},{type:"static",position:{x:480,y:288},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:17}},{type:"static",position:{x:384,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:416,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:480,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:448,y:320},texture:{asset:"Palm Tree Island",tileset:"Terrain",tileId:13}},{type:"static",position:{x:352,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:384,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:288,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}},{type:"static",position:{x:320,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:96,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:2}},{type:"static",position:{x:128,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:1}},{type:"static",position:{x:160,y:320},texture:{asset:"Palm Tree Island",tileset:"Grass",tileId:0}}],[{type:"static",position:{x:480,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:448,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:416,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:0,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:6}},{type:"static",position:{x:32,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:7}},{type:"static",position:{x:64,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:8}},{type:"static",position:{x:32,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:64,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:384,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:3}},{type:"static",position:{x:352,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:2}},{type:"static",position:{x:320,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:1}},{type:"static",position:{x:192,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:12}},{type:"static",position:{x:224,y:352},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:13}},{type:"static",position:{x:192,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:192,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:9}},{type:"static",position:{x:224,y:320},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:288},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:256},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:224},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:192},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"static",position:{x:224,y:160},texture:{asset:"Palm Tree Island",tileset:"Palm Trees Front",tileId:10}},{type:"animated",position:{x:192,y:111},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.5},{type:"animated",position:{x:416,y:207},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3},{type:"animated",position:{x:320,y:239},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.4},{type:"animated",position:{x:32,y:272},animation:{asset:"Palm Tree Island Palm Tree",animationName:"P Front"},animationSpeed:.3}],[{type:"static",position:{x:96,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:96,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:128,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:160,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:192,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:224,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:256,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:288,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:288,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:50}},{type:"static",position:{x:0,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:0,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:51}},{type:"static",position:{x:32,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:320},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:288},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:256},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:224},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:32,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}},{type:"static",position:{x:64,y:192},texture:{asset:"Pirate Ship",tileset:"Platforms",tileId:52}}]]};function is(t,e){let n=new hr(t);return n.addChild(new yr(t,e)),n}function Ja(t,e,n){let r=new hr(t);return r.addChild(new yr(t,e)),r.filterCollisionFn=({collider:i,velocity:o})=>!(i instanceof Ke&&n()||i instanceof Ke&&o.y<=0),r}function SM(t,e,n){let r=new ct(t,e);return r.filterCollisionFn=({collider:i,velocity:o})=>!(i instanceof Ke&&n()||i instanceof Ke&&o.y<=0),r}var el=class{scene;levelData;dropping;constructor(e,n,r){this.scene=e,this.levelData=n,this.dropping=r}build(){return this.buildBackground(),this.buildWalls(),this.buildPlatforms(),this.buildTags(),this.buildPlayer()}buildBackground(){let e=ci.fromData(DI);this.scene.addChild(e)}buildWalls(){this.scene.addChild(is(new y(0,0),new y(32,384))),this.scene.addChild(is(new y(480,0),new y(32,384))),this.scene.addChild(is(new y(32,0),new y(448,32))),this.scene.addChild(is(new y(32,352),new y(448,32))),this.scene.addChild(is(new y(352,288),new y(128,64)))}buildPlatforms(){for(let e=6;e<=10;e+=1)this.scene.addChild(Ja(new y(32,2+32*e),new y(288,1),this.dropping));this.scene.addChild(Ja(new y(344,258),new y(22,1),this.dropping)),this.scene.addChild(Ja(new y(440,226),new y(22,1),this.dropping)),this.scene.addChild(Ja(new y(216,130),new y(22,1),this.dropping))}buildPlayer(){let e=new mr(Bd(this.levelData.playerStart));return this.scene.addChild(e,700),this.scene.addChild(e.ghost,900),e}buildTags(){this.levelData.tags.forEach(e=>{this.scene.addChild(SM(Bd(e.position),e.text,this.dropping),800)})}};var tl=class{scene;levelData;rowTolerance=16;constructor(e,n){this.scene=e,this.levelData=n}getCurrentHtml(){let e=ee.childrenByType(ct,this.scene);return this.sortTags(e).map(r=>r.text).join(" ")}isCorrect(){return this.getCurrentHtml()===this.levelData.solution}sortTags(e){return[...e].sort((n,r)=>Math.abs(n.position.y-r.position.y)<this.rowTolerance?n.position.x-r.position.x:n.position.y-r.position.y)}getSolution(){return this.levelData.solution}};var nl=class{scene;player;grabbedTag;constructor(e,n){this.scene=e,this.player=n}handleGrab(){if(this.grabbedTag)this.releaseTag();else{let e=this.player.checkFutureIntersection(new y(0,1),n=>n instanceof ct);e&&(this.grabbedTag=e)}ee.childrenByType(ct,this.scene).forEach(e=>e.wakeUp())}update(e){this.grabbedTag&&!e&&(this.grabbedTag.position=this.player.position.add(new y(this.player.pointing===0?24:38,8))),this.player.updateGhostPosition(),this.updateGhostVisibility()}updateGhostVisibility(){let e=this.player.checkAllCurrentIntersections(n=>n instanceof ct);e.length>0?(this.player.ghostGraphics.clipRegion=e.map(n=>{let r=n.collider;return{item:n,position:new y(r.position.x,r.position.y)}}),this.player.ghostGraphics.isVisible=!0):(this.player.ghostGraphics.clipRegion=void 0,this.player.ghostGraphics.isVisible=!1)}getGrabbedTag(){return this.grabbedTag}releaseTag(){this.grabbedTag=void 0}};var os=class extends V{board;constructor(e,n){super(e);let r=new y(10,10);this.board=new _n(new y(0,0),n.size.add(r.mul(2)),"secondary",!1),n.position=r,this.board.addChild(n),this.addChild(this.board)}get width(){return this.board.width}get height(){return this.board.height}};var rl=class{scene;levelData;viewport;uiLayout;menuButton;levelNameText;htmlPreview;targetLayout;solutionToggleButton;solutionToggleButtonText;pauseMenu;winMenu;isPaused=!1;showSolutionToggle=!1;isCtrlPressed=!1;onExit;onWin;hasNextLevel;constructor(e,n,r,i,o=!1){this.scene=e,this.levelData=n,this.onExit=r,this.onWin=i,this.hasNextLevel=o,this.viewport=ie.get("viewport")}initialize(){this.createBottomRightUI(),this.createTopRightUI()}createBottomRightUI(){this.levelNameText=new ke(this.levelData.name,0,"hero");let e=new ke("Menu");this.menuButton=new $t(new y(0,0),e),this.menuButton.action=()=>{this.showPauseMenu()},this.uiLayout=new Ee(new y(0,this.viewport.height-60),new y(this.viewport.width,60)),this.uiLayout.flexDirection="column",this.uiLayout.justifyContent="flex-end",this.uiLayout.alignItems="flex-end",this.uiLayout.padding=new y(8,8),this.uiLayout.gap=6,this.uiLayout.addChild(this.menuButton),this.uiLayout.addChild(this.levelNameText),this.scene.addChild(this.uiLayout)}createTopRightUI(){this.htmlPreview=new Ti(new y(0,0),new y(100,100),"");let e=new os(new y(0,0),this.htmlPreview);this.solutionToggleButtonText=new ke("Show Solution"),this.solutionToggleButton=new $t(new y(0,0),this.solutionToggleButtonText,"secondary"),this.solutionToggleButton.action=()=>{this.showSolutionToggle=!this.showSolutionToggle,this.solutionToggleButtonText&&this.solutionToggleButtonText.setText(this.showSolutionToggle?"Hide Solution":"Show Solution")},this.targetLayout=new Ee(new y(0,0),this.viewport),this.targetLayout.flexDirection="column",this.targetLayout.justifyContent="flex-start",this.targetLayout.alignItems="flex-end",this.targetLayout.padding=new y(8,8),this.targetLayout.gap=4,this.targetLayout.addChild(e),this.targetLayout.addChild(this.solutionToggleButton),this.scene.addChild(this.targetLayout)}updateHtmlPreview(e,n){this.htmlPreview&&(this.isCtrlPressed||this.showSolutionToggle?this.htmlPreview.setHtml(n):this.htmlPreview.setHtml(e))}setCtrlPressed(e){this.isCtrlPressed=e,this.solutionToggleButtonText&&(this.isCtrlPressed?this.solutionToggleButtonText.setText("Hide Solution"):this.solutionToggleButtonText.setText(this.showSolutionToggle?"Hide Solution":"Show Solution"))}showPauseMenu(){if(this.isPaused)return;this.isPaused=!0,this.menuButton&&(this.menuButton.isVisible=!1);let e=new Mn(new y(0,0),[{label:"Continue",action:()=>{this.hidePauseMenu()}},{label:"Exit",action:()=>{this.hidePauseMenu(),this.onExit&&this.onExit()}}]),n=new Ee(new y(0,0),this.viewport);n.justifyContent="center",n.alignItems="center",n.addChild(e),this.pauseMenu=n,this.scene.addChild(this.pauseMenu,1e3)}hidePauseMenu(){!this.isPaused||!this.pauseMenu||(this.isPaused=!1,this.scene.removeChild(this.pauseMenu),this.pauseMenu=void 0,this.menuButton&&(this.menuButton.isVisible=!0))}showWinMenu(){if(this.winMenu)return;this.menuButton&&(this.menuButton.isVisible=!1);let e=[];this.hasNextLevel&&this.onWin?e.push({label:"Next level",action:()=>{this.onWin&&this.onWin()}}):this.hasNextLevel||e.push({label:"All Levels Complete!"}),e.push({label:"Exit",action:()=>{this.onExit&&this.onExit()},variant:this.hasNextLevel?"secondary":"primary"});let n=new Mn(new y(0,0),e),r=new Ee(new y(0,0),this.viewport);r.justifyContent="center",r.alignItems="center",r.addChild(n),this.winMenu=r,this.scene.addChild(this.winMenu,1e3)}isPauseMenuShown(){return this.isPaused}togglePauseMenu(){this.isPaused?this.hidePauseMenu():this.showPauseMenu()}};var Ud="markup-mischief-progress",Er=class t{static instance;data;constructor(){this.data=this.loadFromStorage()}static getInstance(){return t.instance||(t.instance=new t),t.instance}getCurrentLevel(){return this.data.currentLevel}hasSavedProgress(){return this.data.currentLevel>1}advanceToNextLevel(){this.data.currentLevel++,this.data.lastPlayed=new Date().toISOString(),this.saveToStorage()}resetProgress(){this.data={currentLevel:1,lastPlayed:new Date().toISOString()},this.saveToStorage()}setCurrentLevel(e){if(e<1)throw new Error("Level must be at least 1");this.data.currentLevel=e,this.data.lastPlayed=new Date().toISOString(),this.saveToStorage()}getLastPlayed(){return this.data.lastPlayed}loadFromStorage(){try{let e=localStorage.getItem(Ud);if(e){let n=JSON.parse(e);if(typeof n.currentLevel=="number"&&n.currentLevel>=1)return n}}catch(e){console.warn("Failed to load progression data:",e)}return{currentLevel:1}}saveToStorage(){try{localStorage.setItem(Ud,JSON.stringify(this.data))}catch(e){console.error("Failed to save progression data:",e)}}clearStorage(){try{localStorage.removeItem(Ud),this.data={currentLevel:1}}catch(e){console.error("Failed to clear progression data:",e)}}};var Mi=class extends kt{currentLevel;onExit;onWin;hasNextLevel;dropping=!1;hasWon=!1;player;uiManager;winChecker;tagInteraction;constructor(e=1,n,r,i=!1){super();let s=Nn.levels.find(a=>a.id===e);if(!s)throw new Error(`Level with id ${e} not found`);this.currentLevel=s,this.onExit=n,this.onWin=r,this.hasNextLevel=i,this.run()}run(){return Y(this,null,function*(){let e=new el(this,this.currentLevel,()=>this.dropping);this.player=e.build(),this.uiManager=new rl(this,this.currentLevel,this.onExit,this.onWin,this.hasNextLevel),this.uiManager.initialize(),this.tagInteraction=new nl(this,this.player),this.winChecker=new tl(this,this.currentLevel),this.setupEventHandlers()})}setupEventHandlers(){this.on(xe,this.handleKeyboardInput.bind(this)),this.on(En,e=>{this.dropping=e.start}),this.on(gr,()=>{this.tagInteraction?.handleGrab()}),this.on(at,()=>{if(this.winChecker&&(this.tagInteraction?.update(this.hasWon),!this.hasWon)){let e=this.winChecker.getCurrentHtml();this.uiManager?.updateHtmlPreview(e,this.winChecker.getSolution()),!(this.tagInteraction?.getGrabbedTag()!==void 0)&&this.winChecker.isCorrect()&&(this.hasWon=!0,Er.getInstance().advanceToNextLevel(),this.uiManager?.showWinMenu())}})}handleKeyboardInput(e){e instanceof xe&&(e.key==="Control"&&this.uiManager?.setCtrlPressed(e.action===0),e.action===0&&e.key==="Escape"&&this.uiManager?.togglePauseMenu())}};var ss={dynamic:{"Captain Clown Nose":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Captain Clown Nose.aseprite"},"Captain Clown Nose Dialogue":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dialogue.aseprite"},"Captain Clown Nose Dust Particles":{path:"./sprites/Treasure Hunters/Captain Clown Nose/Aseprite/Dust Particles.aseprite"},"Merchant Ship":{path:"./sprites/Treasure Hunters/Merchant Ship/Aseprite/Merchant Ship.aseprite"},"Palm Tree Island":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree Island (ArtBoard).aseprite"},"Palm Tree Island Chest":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Chest.aseprite"},"Palm Tree Island Flag":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Flag.aseprite"},"Palm Tree Island Palm Tree":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Palm Tree.aseprite"},"Palm Tree Island Ship Helm":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Ship Helm.aseprite"},"Palm Tree Island Water Reflect":{path:"./sprites/Treasure Hunters/Palm Tree Island/Aseprite/Water Reflect.aseprite"},"Pirate Ship":{path:"./sprites/Treasure Hunters/Pirate Ship/Aseprite/TileSets.aseprite"},"Pirate Ship Decorations":{path:"./sprites/Treasure Hunters/Pirate Ship/Aseprite/Decorations.aseprite"},"Pirate Treasure":{path:"./sprites/Treasure Hunters/Pirate Treasure/Aseprite/Pirate Treasure.aseprite"},"Shooter Traps":{path:"./sprites/Treasure Hunters/Shooter Traps/Aseprite/Shooter Traps.aseprite"},"The Crusty Crew Crabby":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Crabby.aseprite"},"The Crusty Crew Dialogue":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dialogue.aseprite"},"The Crusty Crew Dust Particles":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Dust Particles.aseprite"},"The Crusty Crew Fierce Tooth":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Fierce Tooth.aseprite"},"The Crusty Crew Pink Star":{path:"./sprites/Treasure Hunters/The Crusty Crew/Aseprite/Pink Star.aseprite"},"Wood and Paper UI":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper.aseprite"},"Wood and Paper UI - Boards":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Boards.aseprite"},"Wood and Paper UI - Buttons Large":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Buttons Large.aseprite"},"Wood and Paper UI - Buttons":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Wood and Paper Buttons.aseprite"},"Wood and Paper UI Button Cooldown":{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Button Cooldown.aseprite"},Paper:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Paper.aseprite"},Chars:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite"},CharsHero:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/CharsHero.aseprite"}},chars:{Chars:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/Chars.aseprite",map:{__unknown__:81," ":0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26,"1":27,"2":28,"3":29,"4":30,"5":31,"6":32,"7":33,"8":34,"9":35,"0":36,"-":37,"!":46,"%":78,"/":40,"<":85,">":86}},CharsHero:{path:"./sprites/Treasure Hunters/Wood and Paper UI/Aseprite/CharsHero.aseprite",map:{__unknown__:0," ":0,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9,j:10,k:11,l:12,m:13,n:14,o:15,p:16,q:17,r:18,s:19,t:20,u:21,v:22,w:23,x:24,y:25,z:26,"1":27,"2":28,"3":29,"4":30,"5":31,"6":32,"7":33,"8":34,"9":35,"0":36,"-":37}}},loading:"./sprites/Treasure Hunters/Loading.aseprite"};var MM=["game"],NM=["canvas"],il=class t{gameElement;canvasElement;renderer;viewport=new y(512,384);resizeListener;constructor(){ie.set("viewport",this.viewport)}ngAfterViewInit(){return Y(this,null,function*(){let e=this.gameElement?.nativeElement,n=this.canvasElement?.nativeElement;if(!e)throw new Error("Game element not found!");if(!n)throw new Error("Game canvas not found!");this.resizeListener=()=>this.onResize(e),window.addEventListener("resize",this.resizeListener);let r=this.calculateZoom(e);this.renderer=new ui(n,r);let i=new Gr(this.viewport,this.renderer,new di,[new qr(document.documentElement),new Zr(n,this.renderer.globalToLocalPoint.bind(this.renderer))]);new Si(e).attachTo(i),i.start(120,120);let s=new Di(ss.loading,ss.chars.Chars);i.loadScene(s),yield s.run(),yield s.loadAssets(ss.dynamic,ss.chars);let a=Er.getInstance(),c=()=>{let f=[],d=a.getCurrentLevel(),p=Nn.levels.length;return d>p?f.push({label:"All Levels Complete!"}):a.hasSavedProgress()&&f.push({label:`Continue - Level ${d}`,action:()=>{l(d)}}),f.push({label:a.hasSavedProgress()?"New Game":"Start Game",action:()=>{a.resetProgress(),l(1)}}),new br(f,()=>{i.loadScene(u)})},l=f=>{let d=Nn.levels.findIndex(h=>h.id===f),p=d<Nn.levels.length-1;i.loadScene(new Mi(f,()=>{i.loadScene(c())},()=>{if(p){let h=Nn.levels[d+1];l(h.id)}else i.loadScene(c())},p))},u=new br([{label:"HTML Mode",action:()=>{i.loadScene(c())}}]);i.loadScene(u)})}ngOnDestroy(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}calculateZoom(e){let n=e.clientWidth,r=e.clientHeight,i=n/this.viewport.width,o=r/this.viewport.height;return Math.min(i,o)}onResize(e){if(!this.renderer)return;let n=this.calculateZoom(e);this.renderer.setZoom(n),this.renderer.setViewport(this.viewport)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nu({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&ia(MM,5)(NM,5),n&2){let i;oa(i=sa())&&(r.gameElement=i.first),oa(i=sa())&&(r.canvasElement=i.first)}},decls:4,vars:0,consts:[["game",""],["canvas",""],[1,"main"]],template:function(n,r){n&1&&(lo(0,"div",2,0),ra(2,"canvas",null,1),co())},styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}"]})};vu(il,{providers:[rg()]}).catch(t=>console.error(t));
